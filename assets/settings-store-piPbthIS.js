import{j as i,k as o}from"./index-D6QR9FQk.js";const c=i("settings-store",{state:()=>({itemsByHuntingType:[],logo:"",licenceAreaSpecies:[],laodinglicenceAreaSpecies:!1,salesPackagesSpecies:[],salesPackages:[],loadingSalesPackages:!1,currencies:[],units:[],safariExtras:[],showCreateSafariExtraModal:!1,savingSafariExtra:!1,loadingExtras:!1,salesInquiryEntities:[],accommodationTypes:[],seasons:[],loadingAccommodationTypes:!1,loadingSalesInquiryEntities:!1,showAccommodationTypeModal:!1,savingAccommodationType:!1,salesChartersPriceList:[],loadingSalesChartersPriceList:!1,savingSalesChartersPriceList:!1,showSalesChartersPriceListModal:!1,companionHunterCosts:[],loadingCompanionHunterCosts:!1,termTypes:[],terms:[],loadingTerms:!1,safariFeeDeposits:[],loadingSafariFeeDeposits:!1}),actions:{async getHuntingsTypes(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/hunting-types/",headers:{"Content-Type":"application/json"}};return await o.request(n)},async createHuntingType(s){const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/hunting-types/",headers:{"Content-Type":"application/json"},data:JSON.stringify(s)};return await o.request(e)},async updateHuntingType(s,n){const t={method:"put",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/hunting-types/"+s+"/",headers:{"Content-Type":"application/json"},data:JSON.stringify(n)};return await o.request(t)},async deleteHuntingType(s,n=!1){const t={method:"delete",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/hunting-types/"+s+"/"+(n?"?force=true":""),headers:{"Content-Type":"application/json"}};return await o.request(t)},async getCurrencies(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/currencies/",headers:{"Content-Type":"application/json"}},e=await o.request(n);return e.status===200&&(this.currencies=e.data.map(t=>({value:t.id,text:t.name,currency:t.currency,price:t.price}))),e},async getSeasons(s=!1){const e={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/seasons/",headers:{"Content-Type":"application/json"}},t=await o.request(e);return t.status===200&&(s?this.seasons=t.data.map(a=>({value:a.id,text:a.name})):this.seasons=t.data),t},loadLogo(){const s=new Image;s.src="/logo.png",s.onload=()=>{const n=document.createElement("canvas");n.width=s.width,n.height=s.height,n.getContext("2d").drawImage(s,0,0);const t=n.toDataURL("image/png");this.logo=t}},async getDocTypes(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/document-types/",headers:{"Content-Type":"application/json"}};return await o.request(n)},async getLicenceRegulatoryHuntingPackageSpecies(s){const e={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/licence-regulatory-hunting-package-species/?quota_id=${s.quotaId}`,headers:{"Content-Type":"application/json"}};return await o.request(e)},async getPhVset(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/ph-vset/",headers:{"Content-Type":"application/json"}};return await o.request(n)},async getHuntingLicenseAreaSpecies(s){this.laodinglicenceAreaSpecies=!0,this.licenceAreaSpecies=[];const e={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/licence-area-species/?area_id=${s.areaId}&licence_id=${s.licenceId}`,headers:{"Content-Type":"application/json"}},t=await o.request(e);return t.data.length>0&&(this.laodinglicenceAreaSpecies=!1,this.licenceAreaSpecies=t.data.map(a=>({id:a.species.id,name:a.species.name,scientific_name:a.species.scientific_name,quantity:a.quantity}))),t},async getSalespackagesSpecies(s){this.loadingSalesPackages=!0;const e={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/sales-package-species/?sales_package_id=${s.salespackageId}`,headers:{"Content-Type":"application/json"}},t=await o.request(e);return t.status===200&&(this.salesPackagesSpecies=t.data.map(a=>({id:a.species.id,name:a.species.name,species_id:a.species.id,scientific_name:a.species.scientific_name,quantity:a.quantity})),this.loadingSalesPackages=!1),t},async getUnits(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/units/",headers:{"Content-Type":"application/json"}},e=await o.request(n);return e.status===200&&(this.units=e.data.map(t=>({value:t.id,text:t.name,unit:t.unit,factor:t.factor}))),e},async getSafariExtras(s){this.loadingExtras=!0;const e={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"}};try{const t=await o.request(e);return t.status===200&&(this.loadingExtras=!1,s?this.safariExtras=t.data.map(a=>({value:a.id,text:a.name})):this.safariExtras=t.data.map(a=>({id:a.id,name:a.name,amount:`${a.currency.symbol} ${a.amount} `,description:a.description}))),t}catch{this.loadingExtras=!1}},async createSafariExtras(s){this.savingSafariExtra=!0;const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"},data:s},t=await o.request(e);return t.status===201&&(this.savingSafariExtra=!1,this.showCreateSafariExtraModal=!1,this.getSafariExtras(!1)),t},async getSalesInquiryEntities(s){const e={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/sales-inquiry-entity/?sales_inquiry_id=${s}`,headers:{"Content-Type":"application/json"}},t=await o.request(e);t.status===200&&(this.salesInquiryEntities=t.data.map(a=>({value:a.id,text:a.full_name})))},async getAccommodationTypes(s){this.loadingAccommodationTypes=!0;const e={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"}},t=await o.request(e);return t.status===200&&(this.loadingAccommodationTypes=!1,s?this.accommodationTypes=t.data.map(a=>({value:a.id,text:a.name})):this.accommodationTypes=t.data.map(a=>({id:a.id,name:a.name,description:a.description}))),t},async createAccommodationType(s){this.savingAccommodationType=!0;const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"},data:s},t=await o.request(e);return t.status===201&&(this.savingAccommodationType=!1,this.showAccommodationTypeModal=!1,this.getAccommodationTypes(!0)),t},async getSalesChartersPriceList(s){this.loadingSalesChartersPriceList=!0;const e={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"}},t=await o.request(e);try{t.status===200&&(this.loadingSalesChartersPriceList=!1,s?this.salesChartersPriceList=t.data.map(a=>({value:a.id,text:a.name})):this.salesChartersPriceList=t.data.map(a=>({id:a.id,name:a.name,description:a.description,price:a.price})))}catch(a){this.loadingSalesChartersPriceList=!1,console.log(a)}},async createSalesChartersPriceList(s){this.savingSalesChartersPriceList=!0;const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"},data:s},t=await o.request(e);return t.status===201&&(this.savingSalesChartersPriceList=!1,this.showSalesChartersPriceListModal=!1,this.getSalesChartersPriceList(!0)),t},async getCompanionHunterCosts(){this.loadingCompanionHunterCosts=!0;const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/companions-hunter-costs/",headers:{"Content-Type":"application/json"}};try{const e=await o.request(n);return e.status===200&&(this.companionHunterCosts=e.data),e}catch(e){throw console.error("Error fetching companion hunter costs:",e),e}finally{this.loadingCompanionHunterCosts=!1}},async createCompanionHunterCost(s){const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/companions-hunter-costs/",headers:{"Content-Type":"application/json"},data:s},t=await o.request(e);return t.status===201&&this.getCompanionHunterCosts(),t},async updateCompanionHunterCost(s,n){const t={method:"put",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/companions-hunter-costs/"+s+"/",headers:{"Content-Type":"application/json"},data:n},a=await o.request(t);return a.status===200&&this.getCompanionHunterCosts(),a},async deleteCompanionHunterCost(s){const e={method:"delete",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/companions-hunter-costs/"+s+"/",headers:{"Content-Type":"application/json"}},t=await o.request(e);return(t.status===200||t.status===204)&&this.getCompanionHunterCosts(),t},async getTermTypes(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/term-types/",headers:{"Content-Type":"application/json"}},e=await o.request(n);return e.status===200&&(this.termTypes=e.data),e},async getTerms(s){this.loadingTerms=!0;let n="http://localhost:8000/api/v1.0/settings/terms/";s&&(n+=`?term_type_id=${s}`);const e={method:"get",maxBodyLength:1/0,url:n,headers:{"Content-Type":"application/json"}};try{const t=await o.request(e);return t.status===200&&(this.terms=t.data),t}finally{this.loadingTerms=!1}},async createTerm(s){const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/terms/",headers:{"Content-Type":"application/json"},data:s};return await o.request(e)},async updateTerm(s,n){const t={method:"put",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/terms/"+s+"/",headers:{"Content-Type":"application/json"},data:n};return await o.request(t)},async deleteTerm(s){const e={method:"delete",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/terms/"+s+"/",headers:{"Content-Type":"application/json"}};return await o.request(e)},async createTermType(s){const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/term-types/",headers:{"Content-Type":"application/json"},data:s};return await o.request(e)},async updateTermType(s,n){const t={method:"put",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/term-types/"+s+"/",headers:{"Content-Type":"application/json"},data:n};return await o.request(t)},async deleteTermType(s){const e={method:"delete",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/term-types/"+s+"/",headers:{"Content-Type":"application/json"}};return await o.request(e)},async getSafariFeeDeposits(){this.loadingSafariFeeDeposits=!0;const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-fee-deposits/",headers:{"Content-Type":"application/json"}};try{const e=await o.request(n);return e.status===200&&(this.safariFeeDeposits=e.data.data||e.data),e}finally{this.loadingSafariFeeDeposits=!1}},async createSafariFeeDeposit(s){const e={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-fee-deposits/",headers:{"Content-Type":"application/json"},data:s};return await o.request(e)},async updateSafariFeeDeposit(s,n){const t={method:"put",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-fee-deposits/"+s+"/",headers:{"Content-Type":"application/json"},data:n};return await o.request(t)},async deleteSafariFeeDeposit(s){const e={method:"delete",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-fee-deposits/"+s+"/",headers:{"Content-Type":"application/json"}};return await o.request(e)}}});export{c as u};
//# sourceMappingURL=settings-store-piPbthIS.js.map
