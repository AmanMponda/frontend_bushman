{"version":3,"file":"SalesClientSafariExtrasForm-BQNHAJ0K.js","sources":["../../src/pages/client/dashboard/components/ObserversForm.vue","../../src/pages/client/dashboard/components/ObserversForm.vue","../../src/pages/client/dashboard/components/CompanionForm.vue","../../src/pages/client/dashboard/components/CompanionForm.vue","../../src/pages/client/dashboard/components/SalesClientSafariExtrasForm.vue","../../src/pages/client/dashboard/components/SalesClientSafariExtrasForm.vue"],"sourcesContent":["<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Observers Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n\n          <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.species\"\n              label=\"Species\"\n              :options=\"speciesOptions\"\n              placeholder=\"Select Species\"\n              :rules=\"[(v: any) => !!v || 'Species is required']\"\n              required\n            />\n\n            <VaCounter\n              v-model=\"form.quantity\"\n              label=\"Quantity\"\n              manual-input\n              :min=\"1\"\n              :max=\"100\"\n              :rules=\"[(v: any) => v || 'Quantity is required']\"\n            />\n\n            <VaButtonGroup>\n              <VaButton\n                class=\"px-0 py-0\"\n                color=\"primary\"\n                icon=\"add\"\n                size=\"small\"\n                round\n                @click=\"addNewSpeciesItemToStorage()\"\n              />\n            </VaButtonGroup>\n          </div>\n\n          <div class=\"mt-6\">\n            <VaList>\n              <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                >Selected Species</VaListLabel\n              >\n              <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                >No Species Selected</VaListLabel\n              >\n\n              <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                <VaListItemSection>\n                  <VaListItemLabel>\n                    Name: {{ s.name }}\n                    <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                  </VaListItemLabel>\n                  <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                </VaListItemSection>\n              </VaListItem>\n            </VaList>\n          </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'getObservers',\n    ]),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        // noOfHunters: this.form.no_of_hunters,\n        // noOfDays: this.form.no_of_days,\n        // noOfCompanions: this.form.no_of_companions,\n        // noOfObservers: this.form.no_of_observers,\n        // species: this.speciesObjects,\n        // areaId: this.form.area.value,\n        // season: this.form.season,\n        // preferredDate: this.form.preferred_date,\n\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        identityNumber: this.form.id_number,\n      }\n      try {\n        const response: any = await this.createSalesConfirmationProposalObservers(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getObservers(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(errors)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Observers Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n\n          <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.species\"\n              label=\"Species\"\n              :options=\"speciesOptions\"\n              placeholder=\"Select Species\"\n              :rules=\"[(v: any) => !!v || 'Species is required']\"\n              required\n            />\n\n            <VaCounter\n              v-model=\"form.quantity\"\n              label=\"Quantity\"\n              manual-input\n              :min=\"1\"\n              :max=\"100\"\n              :rules=\"[(v: any) => v || 'Quantity is required']\"\n            />\n\n            <VaButtonGroup>\n              <VaButton\n                class=\"px-0 py-0\"\n                color=\"primary\"\n                icon=\"add\"\n                size=\"small\"\n                round\n                @click=\"addNewSpeciesItemToStorage()\"\n              />\n            </VaButtonGroup>\n          </div>\n\n          <div class=\"mt-6\">\n            <VaList>\n              <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                >Selected Species</VaListLabel\n              >\n              <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                >No Species Selected</VaListLabel\n              >\n\n              <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                <VaListItemSection>\n                  <VaListItemLabel>\n                    Name: {{ s.name }}\n                    <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                  </VaListItemLabel>\n                  <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                </VaListItemSection>\n              </VaListItem>\n            </VaList>\n          </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'getObservers',\n    ]),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        // noOfHunters: this.form.no_of_hunters,\n        // noOfDays: this.form.no_of_days,\n        // noOfCompanions: this.form.no_of_companions,\n        // noOfObservers: this.form.no_of_observers,\n        // species: this.speciesObjects,\n        // areaId: this.form.area.value,\n        // season: this.form.season,\n        // preferredDate: this.form.preferred_date,\n\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        identityNumber: this.form.id_number,\n      }\n      try {\n        const response: any = await this.createSalesConfirmationProposalObservers(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getObservers(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(errors)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Companion Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <!-- \"charter_in\": request.data.get(\"charter_in\"),\n          \"charter_out\": request.data.get(\"charter_out\"), -->\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n            <!-- arrival_airport\n              -->\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Licence</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.regulatory_package_id\"\n              :options=\"regulatoryPackages\"\n              :rules=\"[(value: any) => value || 'Licence is required']\"\n              placeholder=\"Select Licence\"\n              label=\"Licence\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n  \n            <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n              <VaSelect\n                v-model=\"form.species\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n  \n              <VaCounter\n                v-model=\"form.quantity\"\n                label=\"Quantity\"\n                manual-input\n                :min=\"1\"\n                :max=\"100\"\n                :rules=\"[(v: any) => v || 'Quantity is required']\"\n              />\n  \n              <VaButtonGroup>\n                <VaButton\n                  class=\"px-0 py-0\"\n                  color=\"primary\"\n                  icon=\"add\"\n                  size=\"small\"\n                  round\n                  @click=\"addNewSpeciesItemToStorage()\"\n                />\n              </VaButtonGroup>\n            </div>\n  \n            <div class=\"mt-6\">\n              <VaList>\n                <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                  >Selected Species</VaListLabel\n                >\n                <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                  >No Species Selected</VaListLabel\n                >\n  \n                <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                  <VaListItemSection>\n                    <VaListItemLabel>\n                      Name: {{ s.name }}\n                      <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                    </VaListItemLabel>\n                    <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                  </VaListItemSection>\n                </VaListItem>\n              </VaList>\n            </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      regulatory_package_id: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n      regulatoryPackages: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n    this.getLicencePackages()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'createSalesConfirmationCompanion',\n      'getCompanions',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getSeasons']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        regulatoryPackageId: this.form.regulatory_package_id.value,\n        identityNumber: this.form.id_number,\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n      }\n      try {\n        const response: any = await this.createSalesConfirmationCompanion(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getCompanions(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Companion Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <!-- \"charter_in\": request.data.get(\"charter_in\"),\n          \"charter_out\": request.data.get(\"charter_out\"), -->\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n            <!-- arrival_airport\n              -->\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Licence</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.regulatory_package_id\"\n              :options=\"regulatoryPackages\"\n              :rules=\"[(value: any) => value || 'Licence is required']\"\n              placeholder=\"Select Licence\"\n              label=\"Licence\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n  \n            <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n              <VaSelect\n                v-model=\"form.species\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n  \n              <VaCounter\n                v-model=\"form.quantity\"\n                label=\"Quantity\"\n                manual-input\n                :min=\"1\"\n                :max=\"100\"\n                :rules=\"[(v: any) => v || 'Quantity is required']\"\n              />\n  \n              <VaButtonGroup>\n                <VaButton\n                  class=\"px-0 py-0\"\n                  color=\"primary\"\n                  icon=\"add\"\n                  size=\"small\"\n                  round\n                  @click=\"addNewSpeciesItemToStorage()\"\n                />\n              </VaButtonGroup>\n            </div>\n  \n            <div class=\"mt-6\">\n              <VaList>\n                <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                  >Selected Species</VaListLabel\n                >\n                <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                  >No Species Selected</VaListLabel\n                >\n  \n                <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                  <VaListItemSection>\n                    <VaListItemLabel>\n                      Name: {{ s.name }}\n                      <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                    </VaListItemLabel>\n                    <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                  </VaListItemSection>\n                </VaListItem>\n              </VaList>\n            </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      regulatory_package_id: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n      regulatoryPackages: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n    this.getLicencePackages()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'createSalesConfirmationCompanion',\n      'getCompanions',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getSeasons']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        regulatoryPackageId: this.form.regulatory_package_id.value,\n        identityNumber: this.form.id_number,\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n      }\n      try {\n        const response: any = await this.createSalesConfirmationCompanion(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getCompanions(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.extra_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"safariExtras\"\n        label=\"Service\"\n      >\n        <template #append>\n          <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n        </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.account_id\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"companyAccounts\"\n        label=\"Account\"\n      />\n      <VaButton\n        type=\"submit\"\n        preset=\"plain\"\n        icon=\"add\"\n        rounded\n        :disabled=\"!isValidForm\"\n        @click=\"addExtraServiceInTempTable\"\n      >\n        Add\n      </VaButton>\n    </div>\n  </VaForm>\n  <!-- Table -->\n  <VaDataTable :disabled=\"!selectedItems.length || _savingSafariExtras\" :items=\"selectedItems\" :columns=\"columns\">\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton\n        :disabled=\"_savingSafariExtras\"\n        preset=\"plain\"\n        icon=\"delete\"\n        @click=\"deleteTempSubItemList(rowData.index)\"\n      ></VaButton>\n    </template>\n  </VaDataTable>\n  <VaButton :loading=\"_savingSafariExtras\" icon=\"save\" :disabled=\"!selectedItems.length\" @click=\"submitSelectedItems()\">\n    Save\n  </VaButton>\n  <VaModal\n    v-model=\"_showCreateSafariExtraModal\"\n    size=\"small\"\n    :title=\"'Add Extra Service'\"\n    :close-on-click-outside=\"false\"\n  >\n    <SafariExtrasForm> </SafariExtrasForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport SafariExtrasForm from '../../../module-settings/components/SafariExtrasForm.vue'\n\nexport default defineComponent({\n  name: 'SalesClientSafariExtrasForm',\n  components: {\n    SafariExtrasForm,\n  },\n  props: {\n    // showModalSizeLarge: Boolean,\n    tableSelectable: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      extra_id: null as any,\n      account_id: null as any,\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'safari_text',\n        label: 'Service',\n        sortable: true,\n      },\n      {\n        key: 'account_name',\n        label: 'Account',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['safariExtras']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSalesInquiriesStore, { _savingSafariExtras: 'savingSafariExtras' }),\n    ...mapWritableState(useSettingsStore, { _showCreateSafariExtraModal: 'showCreateSafariExtraModal' }),\n  },\n  mounted() {\n    this.getSafariExtras(true)\n    this.getCompanyAccounts()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSafariExtras']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    _showModal() {\n      this._showCreateSafariExtraModal = true\n    },\n    addExtraServiceInTempTable() {\n      if (!this.form.extra_id.value) {\n        this.init({ message: 'Please select extra service ', color: 'warning' })\n        return\n      }\n\n      if (!this.form.account_id.value) {\n        this.init({ message: 'Please select account ', color: 'warning' })\n        return\n      }\n      const data = {\n        safari_extras_id: this.form.extra_id.value,\n        safari_text: this.form.extra_id.text,\n        sales_inquiry_id: this.item.id,\n        account_id: this.form.account_id.value,\n        account_name: this.form.account_id.text,\n      }\n      // add if not exsits\n      const index = this.selectedItems.findIndex((item: any) => item.safari_extras_id === data.safari_extras_id)\n      if (index === -1) {\n        this.selectedItems.push(data)\n      } else {\n        this.init({ message: 'This service already added', color: 'warning' })\n      }\n\n      this.resetForm()\n    },\n    deleteTempSubItemList(index: number) {\n      this.selectedItems.splice(index, 1)\n    },\n\n    async submitSelectedItems() {\n      console.log('submitSelectedItems')\n      console.log(this.item.id)\n\n      const payload = this.selectedItems.map((item: any) => {\n        return {\n          safari_extras_id: item.safari_extras_id,\n          account_id: item.account_id,\n          sales_inquiry_id: this.item.id,\n        }\n      })\n\n      try {\n        const response: any = await this.createsafariExtras(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.getClienSafariExtras(this.item.id)\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n        this._savingSafariExtras = false\n      }\n      // },\n      // this.$emit('submitSelectedItemsEvent', payload)\n    },\n  },\n})\n</script>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.extra_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"safariExtras\"\n        label=\"Service\"\n      >\n        <template #append>\n          <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n        </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.account_id\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"companyAccounts\"\n        label=\"Account\"\n      />\n      <VaButton\n        type=\"submit\"\n        preset=\"plain\"\n        icon=\"add\"\n        rounded\n        :disabled=\"!isValidForm\"\n        @click=\"addExtraServiceInTempTable\"\n      >\n        Add\n      </VaButton>\n    </div>\n  </VaForm>\n  <!-- Table -->\n  <VaDataTable :disabled=\"!selectedItems.length || _savingSafariExtras\" :items=\"selectedItems\" :columns=\"columns\">\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton\n        :disabled=\"_savingSafariExtras\"\n        preset=\"plain\"\n        icon=\"delete\"\n        @click=\"deleteTempSubItemList(rowData.index)\"\n      ></VaButton>\n    </template>\n  </VaDataTable>\n  <VaButton :loading=\"_savingSafariExtras\" icon=\"save\" :disabled=\"!selectedItems.length\" @click=\"submitSelectedItems()\">\n    Save\n  </VaButton>\n  <VaModal\n    v-model=\"_showCreateSafariExtraModal\"\n    size=\"small\"\n    :title=\"'Add Extra Service'\"\n    :close-on-click-outside=\"false\"\n  >\n    <SafariExtrasForm> </SafariExtrasForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport SafariExtrasForm from '../../../module-settings/components/SafariExtrasForm.vue'\n\nexport default defineComponent({\n  name: 'SalesClientSafariExtrasForm',\n  components: {\n    SafariExtrasForm,\n  },\n  props: {\n    // showModalSizeLarge: Boolean,\n    tableSelectable: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      extra_id: null as any,\n      account_id: null as any,\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'safari_text',\n        label: 'Service',\n        sortable: true,\n      },\n      {\n        key: 'account_name',\n        label: 'Account',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['safariExtras']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSalesInquiriesStore, { _savingSafariExtras: 'savingSafariExtras' }),\n    ...mapWritableState(useSettingsStore, { _showCreateSafariExtraModal: 'showCreateSafariExtraModal' }),\n  },\n  mounted() {\n    this.getSafariExtras(true)\n    this.getCompanyAccounts()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSafariExtras']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    _showModal() {\n      this._showCreateSafariExtraModal = true\n    },\n    addExtraServiceInTempTable() {\n      if (!this.form.extra_id.value) {\n        this.init({ message: 'Please select extra service ', color: 'warning' })\n        return\n      }\n\n      if (!this.form.account_id.value) {\n        this.init({ message: 'Please select account ', color: 'warning' })\n        return\n      }\n      const data = {\n        safari_extras_id: this.form.extra_id.value,\n        safari_text: this.form.extra_id.text,\n        sales_inquiry_id: this.item.id,\n        account_id: this.form.account_id.value,\n        account_name: this.form.account_id.text,\n      }\n      // add if not exsits\n      const index = this.selectedItems.findIndex((item: any) => item.safari_extras_id === data.safari_extras_id)\n      if (index === -1) {\n        this.selectedItems.push(data)\n      } else {\n        this.init({ message: 'This service already added', color: 'warning' })\n      }\n\n      this.resetForm()\n    },\n    deleteTempSubItemList(index: number) {\n      this.selectedItems.splice(index, 1)\n    },\n\n    async submitSelectedItems() {\n      console.log('submitSelectedItems')\n      console.log(this.item.id)\n\n      const payload = this.selectedItems.map((item: any) => {\n        return {\n          safari_extras_id: item.safari_extras_id,\n          account_id: item.account_id,\n          sales_inquiry_id: this.item.id,\n        }\n      })\n\n      try {\n        const response: any = await this.createsafariExtras(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.getClienSafariExtras(this.item.id)\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n        this._savingSafariExtras = false\n      }\n      // },\n      // this.$emit('submitSelectedItemsEvent', payload)\n    },\n  },\n})\n</script>\n"],"names":["_sfc_main$2","defineComponent","VaForm","VaInput","VaSelect","VaButton","formRef","ref","contactFormRef","showAddSalesInquiriesForm","btnIcon","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isValidContactForm","validateContactForm","resetValidationContactForm","resetContactForm","init","useToast","showDetailsPage","form","reactive","contactForm","toggleAddSalesInquiriesForm","gotBack","countries","nationality","categoryOptions","contactsTypes","clients","step","getCountries","config","response","axios","country","getCategories","category","getNationalities","getContactTypes","contactType","contactFieldType","computed","contact_field_type","_a","onMounted","validators","downloadPdf","mapState","useSettingsStore","mapActions","useQuotaStore","useSalesInquiriesStore","contacts","requestdata","format","error","errors","handleErrors","index","i","item","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createBlock","_component_VaCard","_createVNode","_component_VaCardContent","_component_VaForm","_createElementVNode","_cache","_component_VaInput","_ctx","$event","value","_component_VaSelect","v","_createCommentVNode","_component_VaButton","_withCtx","_createTextVNode","_sfc_main$1","useRegulatoryPackageStore","data","_hoisted_6","_sfc_main","SafariExtrasForm","useAccountsStore","mapWritableState","payload","_openBlock","_createElementBlock","_Fragment","_component_VaIcon","_component_VaDataTable","rowData","_component_VaModal","_component_SafariExtrasForm"],"mappings":"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"}