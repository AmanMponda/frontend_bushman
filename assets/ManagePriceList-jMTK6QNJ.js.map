{"version":3,"file":"ManagePriceList-jMTK6QNJ.js","sources":["../../src/pages/module-settings/components/PricesList/PriceListDetails.vue","../../src/pages/module-settings/components/PricesList/PriceListDetails.vue","../../src/pages/module-settings/components/PricesList/CreatePricesListForm.vue","../../src/pages/module-settings/components/PricesList/CreatePricesListForm.vue","../../src/pages/module-settings/ManagePriceList.vue","../../src/pages/module-settings/ManagePriceList.vue"],"sourcesContent":["<template>\n  <VaSkeletonGroup v-if=\"cardStore.loading\">\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton height=\"360px\" variant=\"squared\" />\n  </VaSkeletonGroup>\n\n  <div v-else class=\"price-list-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ priceListItem.sales_package.name }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ format(priceListItem.price_list_type.price_list.start_date, 'MMM yyyy') }} -\n              {{ format(priceListItem.price_list_type.price_list.end_date, 'MMM yyyy') }}\n            </VaChip>\n            <VaChip v-if=\"priceListItem.price_list_type?.is_active\" color=\"success\" size=\"large\">\n              <VaIcon name=\"check_circle\" class=\"mr-1\" />\n              Active\n            </VaChip>\n            <VaChip v-else color=\"danger\" size=\"large\">\n              <VaIcon name=\"cancel\" class=\"mr-1\" />\n              Inactive\n            </VaChip>\n          </div>\n          <p class=\"text-lg text-secondary\">\n            <VaIcon name=\"location_on\" size=\"small\" />\n            {{ priceListItem.sales_package?.area?.name }} ({{ priceListItem.sales_package.area.description }})\n          </p>\n          <!-- Download PDF Button -->\n          <div class=\"mt-4\">\n            <VaButton v-if=\"pdfData\" color=\"primary\" icon=\"download\" @click=\"downloadPriceListPdf\">\n              Download PDF\n            </VaButton>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">\n            {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(priceListItem.price_list_type.amount) }}\n          </div>\n          <div class=\"text-sm text-secondary mt-1\">Base Amount</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ priceListItem.price_list_type.duration }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"verified\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.sales_package.regulatory_package?.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">License Type</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"category\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.price_list_type.hunting_type.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Species Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        Available Species ({{ priceListItem.sales_package.species.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n          <VaCard\n            v-for=\"species in priceListItem.sales_package.species\"\n            :key=\"species.id\"\n            class=\"species-card\"\n            :color=\"species.quantity > 0 ? '#f0f9ff' : '#fef2f2'\"\n          >\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ species.species.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ species.species.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"species.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\">\n                  Qty: {{ species.quantity }}\n                </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Trophy Fees Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"military_tech\" />\n        Trophy Fees ({{ priceListItem.price_list_type.currency.name }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"priceListItem.trophy_fees && priceListItem.trophy_fees.length > 0\">\n          <div class=\"va-table-responsive\">\n            <table class=\"va-table va-table--hoverable w-full\">\n              <thead>\n                <tr>\n                  <th class=\"text-left\">Species</th>\n                  <th class=\"text-left\">Scientific Name</th>\n                  <th class=\"text-center\">Sequence</th>\n                  <th class=\"text-right\">Price ({{ priceListItem.price_list_type.currency.symbol }})</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"fee in priceListItem.trophy_fees\" :key=\"fee.id\">\n                  <td class=\"font-semibold\">{{ fee.species.name }}</td>\n                  <td class=\"text-secondary italic\">{{ fee.species.scientific_name }}</td>\n                  <td class=\"text-center\">\n                    <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" />\n                  </td>\n                  <td class=\"text-right font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(fee.price_usd) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <VaAlert v-else color=\"info\" border=\"top\"> No trophy fees available for this package </VaAlert>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras & Additional Costs -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n      <!-- Safari Extras -->\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"add_circle\" />\n          Safari Extras\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-3\">\n            <!-- Observer -->\n            <div v-if=\"priceListItem.observer && priceListItem.observer.length > 0\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base\">Observer</div>\n                  <div class=\"text-sm text-secondary\">Observer cost</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ priceListItem.observer[0]?.amount }}\n                  </div>\n                  <div class=\"text-xs text-secondary\">per day / person</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Other Extras -->\n            <div v-for=\"extra in priceListItem.safari_extras\" :key=\"extra.id\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                  <div class=\"text-sm text-secondary\">{{ extra.description }}</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">{{ extra.currency.symbol }}{{ extra.amount }}</div>\n                  <div class=\"text-xs text-secondary\">{{ formatChargesPer(extra.charges_per) }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n\n      <!-- Companion Hunter Costs -->\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"groups\" />\n          Companion & Observer Costs\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-4\">\n            <!-- Companion Hunter -->\n            <div v-if=\"priceListItem.componions_hunter && priceListItem.componions_hunter.length > 0\">\n              <div class=\"text-sm font-semibold text-secondary mb-2\">Companion Hunter</div>\n              <div\n                v-for=\"companion in priceListItem.componions_hunter\"\n                :key=\"companion.id\"\n                class=\"p-4 rounded-lg bg-green-50\"\n              >\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-base\">Daily Rate</span>\n                  <span class=\"font-bold text-xl\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ companion.amount }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Important Notes -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"danger\">\n      <VaCardContent>\n        <VaAlert color=\"warning\" border=\"left\" class=\"mb-3\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"warning\" />\n              <span class=\"font-bold\">Important Information</span>\n            </div>\n          </template>\n          All hunts confirmation is subject to quota availability. Other safari packages are available on request and\n          can be customized depending on client requirements.\n        </VaAlert>\n\n        <VaAlert v-if=\"hasUpgradeFees\" color=\"info\" border=\"left\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"info\" />\n              <span class=\"font-bold\">Upgrade Fees</span>\n            </div>\n          </template>\n          If additional trophies beyond the standard package are taken, upgrade fees may apply (plus trophy fees).\n        </VaAlert>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { usePaymentCardsStore } from '../../../../stores/payment-cards'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\n\nexport default defineComponent({\n  components: {\n    // PriceListQuota,\n    // PriceListByHuntingType,\n    // PriceListPackagesDetails,\n    // PricesSpeciesList,\n    // ObComCosts,\n    // AdditionCharges,\n  },\n\n  props: {\n    priceListItem: {\n      type: Object,\n      required: true,\n    },\n    pdfData: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      cardStore: usePaymentCardsStore(),\n      format,\n    }\n  },\n  computed: {\n    loading() {\n      return this.cardStore.loading\n    },\n    hasUpgradeFees() {\n      // Check if there are multiple sequences of the same species indicating upgrade possibilities\n      const speciesSequences = new Map()\n      this.priceListItem.trophy_fees?.forEach((fee: any) => {\n        const count = speciesSequences.get(fee.species_id) || 0\n        speciesSequences.set(fee.species_id, count + 1)\n      })\n      return Array.from(speciesSequences.values()).some((count) => count > 1)\n    },\n  },\n  mounted() {\n    this.cardStore.load()\n  },\n  methods: {\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      // Convert \"PER_DAY\" to \"per day\", \"PER_ROUND\" to \"per round\", etc.\n      return chargesPer.toLowerCase().replace('_', ' ')\n    },\n    formatAmount(amount: string | number) {\n      const num = typeof amount === 'string' ? parseFloat(amount) : amount\n      return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n    },\n    getSequenceLabel(sequence: number) {\n      const suffixes = ['th', 'st', 'nd', 'rd']\n      const value = sequence % 100\n      const suffix = suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0]\n      return `${sequence}${suffix}`\n    },\n    async downloadPriceListPdf() {\n      if (!this.pdfData) {\n        console.warn('No PDF data available')\n        return\n      }\n      try {\n        const packageName = this.priceListItem?.sales_package?.name || 'price-list'\n        const fileName = `${packageName.replace(/\\s+/g, '-')}-${Date.now()}.pdf`\n        await downloadPdf(this.pdfData, fileName)\n      } catch (err) {\n        console.error('Failed to download PDF:', err)\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n.price-list-details {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.species-card {\n  transition: all 0.3s ease;\n}\n\n.species-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.va-table th {\n  font-weight: 600;\n  text-transform: uppercase;\n  font-size: 0.875rem;\n  letter-spacing: 0.05em;\n}\n\n.va-table tbody tr {\n  transition: background-color 0.2s ease;\n}\n\n.va-table tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.02);\n}\n</style>\n","<template>\n  <VaSkeletonGroup v-if=\"cardStore.loading\">\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton height=\"360px\" variant=\"squared\" />\n  </VaSkeletonGroup>\n\n  <div v-else class=\"price-list-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ priceListItem.sales_package.name }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ format(priceListItem.price_list_type.price_list.start_date, 'MMM yyyy') }} -\n              {{ format(priceListItem.price_list_type.price_list.end_date, 'MMM yyyy') }}\n            </VaChip>\n            <VaChip v-if=\"priceListItem.price_list_type?.is_active\" color=\"success\" size=\"large\">\n              <VaIcon name=\"check_circle\" class=\"mr-1\" />\n              Active\n            </VaChip>\n            <VaChip v-else color=\"danger\" size=\"large\">\n              <VaIcon name=\"cancel\" class=\"mr-1\" />\n              Inactive\n            </VaChip>\n          </div>\n          <p class=\"text-lg text-secondary\">\n            <VaIcon name=\"location_on\" size=\"small\" />\n            {{ priceListItem.sales_package?.area?.name }} ({{ priceListItem.sales_package.area.description }})\n          </p>\n          <!-- Download PDF Button -->\n          <div class=\"mt-4\">\n            <VaButton v-if=\"pdfData\" color=\"primary\" icon=\"download\" @click=\"downloadPriceListPdf\">\n              Download PDF\n            </VaButton>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">\n            {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(priceListItem.price_list_type.amount) }}\n          </div>\n          <div class=\"text-sm text-secondary mt-1\">Base Amount</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ priceListItem.price_list_type.duration }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"verified\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.sales_package.regulatory_package?.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">License Type</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"category\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.price_list_type.hunting_type.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Species Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        Available Species ({{ priceListItem.sales_package.species.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n          <VaCard\n            v-for=\"species in priceListItem.sales_package.species\"\n            :key=\"species.id\"\n            class=\"species-card\"\n            :color=\"species.quantity > 0 ? '#f0f9ff' : '#fef2f2'\"\n          >\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ species.species.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ species.species.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"species.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\">\n                  Qty: {{ species.quantity }}\n                </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Trophy Fees Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"military_tech\" />\n        Trophy Fees ({{ priceListItem.price_list_type.currency.name }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"priceListItem.trophy_fees && priceListItem.trophy_fees.length > 0\">\n          <div class=\"va-table-responsive\">\n            <table class=\"va-table va-table--hoverable w-full\">\n              <thead>\n                <tr>\n                  <th class=\"text-left\">Species</th>\n                  <th class=\"text-left\">Scientific Name</th>\n                  <th class=\"text-center\">Sequence</th>\n                  <th class=\"text-right\">Price ({{ priceListItem.price_list_type.currency.symbol }})</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"fee in priceListItem.trophy_fees\" :key=\"fee.id\">\n                  <td class=\"font-semibold\">{{ fee.species.name }}</td>\n                  <td class=\"text-secondary italic\">{{ fee.species.scientific_name }}</td>\n                  <td class=\"text-center\">\n                    <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" />\n                  </td>\n                  <td class=\"text-right font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(fee.price_usd) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <VaAlert v-else color=\"info\" border=\"top\"> No trophy fees available for this package </VaAlert>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras & Additional Costs -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n      <!-- Safari Extras -->\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"add_circle\" />\n          Safari Extras\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-3\">\n            <!-- Observer -->\n            <div v-if=\"priceListItem.observer && priceListItem.observer.length > 0\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base\">Observer</div>\n                  <div class=\"text-sm text-secondary\">Observer cost</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ priceListItem.observer[0]?.amount }}\n                  </div>\n                  <div class=\"text-xs text-secondary\">per day / person</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Other Extras -->\n            <div v-for=\"extra in priceListItem.safari_extras\" :key=\"extra.id\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                  <div class=\"text-sm text-secondary\">{{ extra.description }}</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">{{ extra.currency.symbol }}{{ extra.amount }}</div>\n                  <div class=\"text-xs text-secondary\">{{ formatChargesPer(extra.charges_per) }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n\n      <!-- Companion Hunter Costs -->\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"groups\" />\n          Companion & Observer Costs\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-4\">\n            <!-- Companion Hunter -->\n            <div v-if=\"priceListItem.componions_hunter && priceListItem.componions_hunter.length > 0\">\n              <div class=\"text-sm font-semibold text-secondary mb-2\">Companion Hunter</div>\n              <div\n                v-for=\"companion in priceListItem.componions_hunter\"\n                :key=\"companion.id\"\n                class=\"p-4 rounded-lg bg-green-50\"\n              >\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-base\">Daily Rate</span>\n                  <span class=\"font-bold text-xl\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ companion.amount }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Important Notes -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"danger\">\n      <VaCardContent>\n        <VaAlert color=\"warning\" border=\"left\" class=\"mb-3\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"warning\" />\n              <span class=\"font-bold\">Important Information</span>\n            </div>\n          </template>\n          All hunts confirmation is subject to quota availability. Other safari packages are available on request and\n          can be customized depending on client requirements.\n        </VaAlert>\n\n        <VaAlert v-if=\"hasUpgradeFees\" color=\"info\" border=\"left\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"info\" />\n              <span class=\"font-bold\">Upgrade Fees</span>\n            </div>\n          </template>\n          If additional trophies beyond the standard package are taken, upgrade fees may apply (plus trophy fees).\n        </VaAlert>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { usePaymentCardsStore } from '../../../../stores/payment-cards'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\n\nexport default defineComponent({\n  components: {\n    // PriceListQuota,\n    // PriceListByHuntingType,\n    // PriceListPackagesDetails,\n    // PricesSpeciesList,\n    // ObComCosts,\n    // AdditionCharges,\n  },\n\n  props: {\n    priceListItem: {\n      type: Object,\n      required: true,\n    },\n    pdfData: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      cardStore: usePaymentCardsStore(),\n      format,\n    }\n  },\n  computed: {\n    loading() {\n      return this.cardStore.loading\n    },\n    hasUpgradeFees() {\n      // Check if there are multiple sequences of the same species indicating upgrade possibilities\n      const speciesSequences = new Map()\n      this.priceListItem.trophy_fees?.forEach((fee: any) => {\n        const count = speciesSequences.get(fee.species_id) || 0\n        speciesSequences.set(fee.species_id, count + 1)\n      })\n      return Array.from(speciesSequences.values()).some((count) => count > 1)\n    },\n  },\n  mounted() {\n    this.cardStore.load()\n  },\n  methods: {\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      // Convert \"PER_DAY\" to \"per day\", \"PER_ROUND\" to \"per round\", etc.\n      return chargesPer.toLowerCase().replace('_', ' ')\n    },\n    formatAmount(amount: string | number) {\n      const num = typeof amount === 'string' ? parseFloat(amount) : amount\n      return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n    },\n    getSequenceLabel(sequence: number) {\n      const suffixes = ['th', 'st', 'nd', 'rd']\n      const value = sequence % 100\n      const suffix = suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0]\n      return `${sequence}${suffix}`\n    },\n    async downloadPriceListPdf() {\n      if (!this.pdfData) {\n        console.warn('No PDF data available')\n        return\n      }\n      try {\n        const packageName = this.priceListItem?.sales_package?.name || 'price-list'\n        const fileName = `${packageName.replace(/\\s+/g, '-')}-${Date.now()}.pdf`\n        await downloadPdf(this.pdfData, fileName)\n      } catch (err) {\n        console.error('Failed to download PDF:', err)\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n.price-list-details {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.species-card {\n  transition: all 0.3s ease;\n}\n\n.species-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.va-table th {\n  font-weight: 600;\n  text-transform: uppercase;\n  font-size: 0.875rem;\n  letter-spacing: 0.05em;\n}\n\n.va-table tbody tr {\n  transition: background-color 0.2s ease;\n}\n\n.va-table tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.02);\n}\n</style>\n","<template>\n  <VaInnerLoading :loading=\"savingPriceList\" :size=\"60\">\n    <VaForm ref=\"formRef\">\n      <div class=\"p-1\">\n        <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n        <h3 class=\"font-bold text-lg mb-2\">Price list Infos</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaSelect\n            v-model=\"form.package\"\n            :options=\"packageOptions\"\n            multiple\n            clearable\n            placeholder=\"Select Package list here\"\n            :rules=\"[(v: any) => v || 'Package is required']\"\n            label=\"Packages\"\n            required-mark\n            @update:modelValue=\"onChangePackage\"\n          >\n            <template #content=\"{ value }\">\n              <VaChip\n                v-for=\"chip in value\"\n                :key=\"chip\"\n                size=\"small\"\n                color=\"info\"\n                class=\"mr-1 my-1\"\n                closeable\n                @update:modelValue=\"deleteChip(chip)\"\n              >\n                {{ chip.text }}\n              </VaChip>\n            </template>\n            <template #append>\n              <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n            </template>\n          </VaSelect>\n          <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n          <VaSelect\n            v-model=\"form.hunting_type_id\"\n            placeholder=\"Select Hunting Type\"\n            label=\"Hunting Type\"\n            :rules=\"[(v: any) => v || 'Hunting type is required']\"\n            :options=\"huntingTypesOptions\"\n            searchable\n            required-mark\n            highlight-matched-text\n          />\n          <VaSelect\n            v-model=\"form.season\"\n            :options=\"seasonsOptions\"\n            required-mark\n            label=\"Select season\"\n            placeholder=\"Select season\"\n          />\n        </div>\n\n        <!-- Experience and Date Group -->\n        <h3 class=\"font-bold text-lg mb-2\">Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.amount\"\n            type=\"text\"\n            placeholder=\"Enter Amount\"\n            :rules=\"[(value: any) => (value && value.length > 0) || 'Amount is required']\"\n            label=\"Amount\"\n            required-mark\n          />\n\n          <VaSelect\n            v-model=\"form.currency\"\n            placeholder=\"Select Currency\"\n            label=\"Currency\"\n            :rules=\"[(v: any) => v || 'Currency is required']\"\n            :options=\"currencyOptions\"\n            searchable\n            highlight-matched-text\n            required-mark\n          />\n          <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n          <VaSelect\n            v-model=\"form.duration\"\n            type=\"text\"\n            :options=\"durationsOptions\"\n            required-mark\n            placeholder=\"Enter Duration eg: 21 days\"\n            :rules=\"[(v: any) => v || 'Duration is required']\"\n            label=\"Duration(days)\"\n          />\n        </div>\n\n        <!-- companion group -->\n        <h3 class=\"font-bold text-lg mb-2\">Companion's and Observer's Charges(Optional)</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.companion_amount\"\n            type=\"text\"\n            placeholder=\"Enter Companion Amount\"\n            label=\"Companion Cost(Per Person)\"\n          />\n          <VaInput\n            v-model=\"form.observer_amount\"\n            type=\"text\"\n            placeholder=\"Enter observer Amount\"\n            label=\"Observer Cost(Per Person)\"\n          />\n        </div>\n      </div>\n\n      <div class=\"mt-4 d-flex p-2\">\n        <VaButton\n          v-if=\"!showEditForm\"\n          icon=\"save\"\n          class=\"mr-3 mb-2\"\n          :loading=\"savingPriceList\"\n          :disabled=\"!isValidForm\"\n          @click=\"validateForm() && submit()\"\n        >\n          Save\n        </VaButton>\n      </div>\n    </VaForm>\n  </VaInnerLoading>\n  <VaModal v-model=\"_shM\" ok-text=\"Apply\" close-button size=\"large\" :hide-default-actions=\"true\">\n    <SalesPackageForm> </SalesPackageForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref } from 'vue'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { validators } from '../../../../services/utils'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport SalesPackageForm from '../SalesPackageForm.vue'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    SalesPackageForm,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n  },\n  setup() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const { init } = useToast()\n    const showEditForm = ref(false)\n    // const _usePriceListStore: any = usePriceListStore()\n\n    // const pkg: any = computed(() => {\n    //   return _usePriceListStore.latestPackage\n    // })\n\n    const form = reactive({\n      id: null as any,\n      hunting_type_id: null as any,\n      // is list\n      package: [] as any,\n      // description: '',s\n      // sales_quota_id: null as any,\n      amount: null as any,\n\n      currency: null as any,\n      duration: null as any,\n      season: null as any,\n      end_date: null as any,\n      species: null as any,\n      quantity: null as any,\n      // area: null as any,\n      // companion_days: 0,\n      companion_amount: null as any,\n      // observer_days: 0,\n      observer_amount: null as any,\n    })\n\n    // make as copy of pkg to form package\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const deleteChip = (chip: any) => {\n      form.package = form.package.filter((v: any) => v !== chip)\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n\n    return {\n      formRef,\n      form,\n      contactForm,\n      showEditForm,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      deleteChip,\n      validators,\n    }\n  },\n  data() {\n    // 1-21\n    const durationsOptions: any = [\n      { value: 1, text: '1 day' },\n      { value: 2, text: '2 days' },\n      { value: 3, text: '3 days' },\n      { value: 4, text: '4 days' },\n      { value: 5, text: '5 days' },\n      { value: 6, text: '6 days' },\n      { value: 7, text: '7 days' },\n      { value: 8, text: '8 days' },\n      { value: 9, text: '9 days' },\n      { value: 10, text: '10 days' },\n      { value: 11, text: '11 days' },\n      { value: 12, text: '12 days' },\n      { value: 13, text: '13 days' },\n      { value: 14, text: '14 days' },\n      { value: 15, text: '15 days' },\n      { value: 16, text: '16 days' },\n      { value: 17, text: '17 days' },\n      { value: 18, text: '18 days' },\n      { value: 19, text: '19 days' },\n      { value: 20, text: '20 days' },\n      { value: 21, text: '21 days' },\n    ]\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      huntingTypesOptions: [] as any,\n      salesQuotasOptions: [] as any,\n      speciesItemOptions: [] as any,\n      currencyOptions: [] as any,\n      // packageOptions: [] as any,\n      savingPriceList: false,\n      durationsOptions,\n      seasonsOptions: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(usePriceListStore, ['salesPackages', 'packageOptions', 'latestPackage', 'loadingpackages']),\n    ...mapWritableState(usePriceListStore, {\n      _shM: 'showModal',\n    }),\n  },\n\n  watch: {\n    // use both close modal and show modal to close modal\n    // i want if the  closeMadal is true then showModal should be false\n  },\n  mounted() {\n    // this.getAllSpeciesPerQuotaPerArea()\n    this.getAreas()\n    this.getHuntingTypes()\n    this.getQuotaList()\n    this.getCurrencyList()\n    this.getSalesPackages()\n    this.getSeasonList()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['getCurrencies', 'getSeasons']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(usePriceListStore, ['createPriceList']),\n    ...mapActions(usePriceListStore, ['getSalesPackageList']),\n\n    // addNewSpeciesItemToStorage() {},\n    // CreateSalesInquiry\n\n    // ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n\n    onAreaChange(value: any) {\n      console.log(value as any)\n      // this.getAllSpieces()\n    },\n\n    async submit() {\n      this.savingPriceList = true\n      const requestdata = {\n        huntingTypeId: this.form.hunting_type_id.value,\n        sales_package_ids: this.form.package?.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value),\n        amount: this.form.amount,\n        currency: this.form.currency.value,\n        duration: this.form.duration.value,\n        season_id: this.form.season.value.id,\n        //chriss' codes\n        start_at: this.form.season.value.start_at,\n        end_at: this.form.season.value.end_at,\n        is_active: 1,\n        area_id: 3,\n        user_id: 1,\n        companionAmount: this.form.companion_amount,\n        observerAmount: this.form.observer_amount,\n      }\n\n      // console.log(requestdata);\n      this.savingPriceList = false\n      // return ;\n      try {\n        const response: any = await this.createPriceList(requestdata)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationForm()\n          this.speciesObjects = []\n          this.savingPriceList = false\n        } else {\n          console.log(response)\n          this.savingPriceList = false\n        }\n      } catch (error: any) {\n        this.savingPriceList = false\n        handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: error.message,\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        this.speciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        // this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    _showModal() {\n      this._shM = true\n    },\n\n    async getSalesPackages() {\n      try {\n        await this.getSalesPackageList(true)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get hunting types\n    async getHuntingTypes() {\n      try {\n        const response = await this.getHuntingsTypes()\n        this.huntingTypesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    onChangePackage(value: any) {\n      console.log(value.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value))\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesItemOptions = response.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // get quotas\n    async getQuotaList() {\n      try {\n        const response = await this.getQuotas(null)\n        this.salesQuotasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currencyOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get clients\n  },\n})\n</script>\ns\n","<template>\n  <VaInnerLoading :loading=\"savingPriceList\" :size=\"60\">\n    <VaForm ref=\"formRef\">\n      <div class=\"p-1\">\n        <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n        <h3 class=\"font-bold text-lg mb-2\">Price list Infos</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaSelect\n            v-model=\"form.package\"\n            :options=\"packageOptions\"\n            multiple\n            clearable\n            placeholder=\"Select Package list here\"\n            :rules=\"[(v: any) => v || 'Package is required']\"\n            label=\"Packages\"\n            required-mark\n            @update:modelValue=\"onChangePackage\"\n          >\n            <template #content=\"{ value }\">\n              <VaChip\n                v-for=\"chip in value\"\n                :key=\"chip\"\n                size=\"small\"\n                color=\"info\"\n                class=\"mr-1 my-1\"\n                closeable\n                @update:modelValue=\"deleteChip(chip)\"\n              >\n                {{ chip.text }}\n              </VaChip>\n            </template>\n            <template #append>\n              <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n            </template>\n          </VaSelect>\n          <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n          <VaSelect\n            v-model=\"form.hunting_type_id\"\n            placeholder=\"Select Hunting Type\"\n            label=\"Hunting Type\"\n            :rules=\"[(v: any) => v || 'Hunting type is required']\"\n            :options=\"huntingTypesOptions\"\n            searchable\n            required-mark\n            highlight-matched-text\n          />\n          <VaSelect\n            v-model=\"form.season\"\n            :options=\"seasonsOptions\"\n            required-mark\n            label=\"Select season\"\n            placeholder=\"Select season\"\n          />\n        </div>\n\n        <!-- Experience and Date Group -->\n        <h3 class=\"font-bold text-lg mb-2\">Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.amount\"\n            type=\"text\"\n            placeholder=\"Enter Amount\"\n            :rules=\"[(value: any) => (value && value.length > 0) || 'Amount is required']\"\n            label=\"Amount\"\n            required-mark\n          />\n\n          <VaSelect\n            v-model=\"form.currency\"\n            placeholder=\"Select Currency\"\n            label=\"Currency\"\n            :rules=\"[(v: any) => v || 'Currency is required']\"\n            :options=\"currencyOptions\"\n            searchable\n            highlight-matched-text\n            required-mark\n          />\n          <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n          <VaSelect\n            v-model=\"form.duration\"\n            type=\"text\"\n            :options=\"durationsOptions\"\n            required-mark\n            placeholder=\"Enter Duration eg: 21 days\"\n            :rules=\"[(v: any) => v || 'Duration is required']\"\n            label=\"Duration(days)\"\n          />\n        </div>\n\n        <!-- companion group -->\n        <h3 class=\"font-bold text-lg mb-2\">Companion's and Observer's Charges(Optional)</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.companion_amount\"\n            type=\"text\"\n            placeholder=\"Enter Companion Amount\"\n            label=\"Companion Cost(Per Person)\"\n          />\n          <VaInput\n            v-model=\"form.observer_amount\"\n            type=\"text\"\n            placeholder=\"Enter observer Amount\"\n            label=\"Observer Cost(Per Person)\"\n          />\n        </div>\n      </div>\n\n      <div class=\"mt-4 d-flex p-2\">\n        <VaButton\n          v-if=\"!showEditForm\"\n          icon=\"save\"\n          class=\"mr-3 mb-2\"\n          :loading=\"savingPriceList\"\n          :disabled=\"!isValidForm\"\n          @click=\"validateForm() && submit()\"\n        >\n          Save\n        </VaButton>\n      </div>\n    </VaForm>\n  </VaInnerLoading>\n  <VaModal v-model=\"_shM\" ok-text=\"Apply\" close-button size=\"large\" :hide-default-actions=\"true\">\n    <SalesPackageForm> </SalesPackageForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref } from 'vue'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { validators } from '../../../../services/utils'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport SalesPackageForm from '../SalesPackageForm.vue'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    SalesPackageForm,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n  },\n  setup() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const { init } = useToast()\n    const showEditForm = ref(false)\n    // const _usePriceListStore: any = usePriceListStore()\n\n    // const pkg: any = computed(() => {\n    //   return _usePriceListStore.latestPackage\n    // })\n\n    const form = reactive({\n      id: null as any,\n      hunting_type_id: null as any,\n      // is list\n      package: [] as any,\n      // description: '',s\n      // sales_quota_id: null as any,\n      amount: null as any,\n\n      currency: null as any,\n      duration: null as any,\n      season: null as any,\n      end_date: null as any,\n      species: null as any,\n      quantity: null as any,\n      // area: null as any,\n      // companion_days: 0,\n      companion_amount: null as any,\n      // observer_days: 0,\n      observer_amount: null as any,\n    })\n\n    // make as copy of pkg to form package\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const deleteChip = (chip: any) => {\n      form.package = form.package.filter((v: any) => v !== chip)\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n\n    return {\n      formRef,\n      form,\n      contactForm,\n      showEditForm,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      deleteChip,\n      validators,\n    }\n  },\n  data() {\n    // 1-21\n    const durationsOptions: any = [\n      { value: 1, text: '1 day' },\n      { value: 2, text: '2 days' },\n      { value: 3, text: '3 days' },\n      { value: 4, text: '4 days' },\n      { value: 5, text: '5 days' },\n      { value: 6, text: '6 days' },\n      { value: 7, text: '7 days' },\n      { value: 8, text: '8 days' },\n      { value: 9, text: '9 days' },\n      { value: 10, text: '10 days' },\n      { value: 11, text: '11 days' },\n      { value: 12, text: '12 days' },\n      { value: 13, text: '13 days' },\n      { value: 14, text: '14 days' },\n      { value: 15, text: '15 days' },\n      { value: 16, text: '16 days' },\n      { value: 17, text: '17 days' },\n      { value: 18, text: '18 days' },\n      { value: 19, text: '19 days' },\n      { value: 20, text: '20 days' },\n      { value: 21, text: '21 days' },\n    ]\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      huntingTypesOptions: [] as any,\n      salesQuotasOptions: [] as any,\n      speciesItemOptions: [] as any,\n      currencyOptions: [] as any,\n      // packageOptions: [] as any,\n      savingPriceList: false,\n      durationsOptions,\n      seasonsOptions: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(usePriceListStore, ['salesPackages', 'packageOptions', 'latestPackage', 'loadingpackages']),\n    ...mapWritableState(usePriceListStore, {\n      _shM: 'showModal',\n    }),\n  },\n\n  watch: {\n    // use both close modal and show modal to close modal\n    // i want if the  closeMadal is true then showModal should be false\n  },\n  mounted() {\n    // this.getAllSpeciesPerQuotaPerArea()\n    this.getAreas()\n    this.getHuntingTypes()\n    this.getQuotaList()\n    this.getCurrencyList()\n    this.getSalesPackages()\n    this.getSeasonList()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['getCurrencies', 'getSeasons']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(usePriceListStore, ['createPriceList']),\n    ...mapActions(usePriceListStore, ['getSalesPackageList']),\n\n    // addNewSpeciesItemToStorage() {},\n    // CreateSalesInquiry\n\n    // ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n\n    onAreaChange(value: any) {\n      console.log(value as any)\n      // this.getAllSpieces()\n    },\n\n    async submit() {\n      this.savingPriceList = true\n      const requestdata = {\n        huntingTypeId: this.form.hunting_type_id.value,\n        sales_package_ids: this.form.package?.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value),\n        amount: this.form.amount,\n        currency: this.form.currency.value,\n        duration: this.form.duration.value,\n        season_id: this.form.season.value.id,\n        //chriss' codes\n        start_at: this.form.season.value.start_at,\n        end_at: this.form.season.value.end_at,\n        is_active: 1,\n        area_id: 3,\n        user_id: 1,\n        companionAmount: this.form.companion_amount,\n        observerAmount: this.form.observer_amount,\n      }\n\n      // console.log(requestdata);\n      this.savingPriceList = false\n      // return ;\n      try {\n        const response: any = await this.createPriceList(requestdata)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationForm()\n          this.speciesObjects = []\n          this.savingPriceList = false\n        } else {\n          console.log(response)\n          this.savingPriceList = false\n        }\n      } catch (error: any) {\n        this.savingPriceList = false\n        handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: error.message,\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        this.speciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        // this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    _showModal() {\n      this._shM = true\n    },\n\n    async getSalesPackages() {\n      try {\n        await this.getSalesPackageList(true)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get hunting types\n    async getHuntingTypes() {\n      try {\n        const response = await this.getHuntingsTypes()\n        this.huntingTypesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    onChangePackage(value: any) {\n      console.log(value.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value))\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesItemOptions = response.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // get quotas\n    async getQuotaList() {\n      try {\n        const response = await this.getQuotas(null)\n        this.salesQuotasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currencyOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get clients\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showPriceList\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"goBack\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup v-if=\"!ShowCreateNewPriceListForm\">\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          :border-color=\"'primary'\"\n          round\n          preset=\"secondary\"\n          size=\"small\"\n          @click=\"showCreateNewPriceListFormMethod\"\n        >\n          Add a new Price List\n        </VaButton>\n      </VaButtonGroup>\n    </div>\n    <VaDivider />\n\n    <template v-if=\"!ShowCreateNewPriceListForm\">\n      <template v-if=\"showPriceList\">\n        <ModuleTable :items=\"items\" :columns=\"columns\" :loading=\"loading\" @onView=\"toggleShowPriceListMethod\">\n          <template #filter-elements-and-download-btn>\n            <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n              <VaSelect\n                v-model=\"huntingTypeValue\"\n                :options=\"huntingTypeOptions\"\n                placeholder=\"Filter By Hunting Type\"\n                @update:modelValue=\"getPriceLists\"\n              />\n              <VaSelect\n                v-model=\"areaValue\"\n                :options=\"areasOptions\"\n                placeholder=\"Filter By Area\"\n                @update:modelValue=\"getPriceLists\"\n              />\n\n              <VaButton\n                class=\"px-2 py-0\"\n                color=\"primary\"\n                label=\"Download\"\n                icon=\"download\"\n                size=\"small\"\n                @click=\"onDownloadPdf\"\n              >\n                Download\n              </VaButton>\n            </div>\n          </template>\n        </ModuleTable>\n      </template>\n      <template v-else>\n        <PricesListDetails :price-list-item=\"item\" :pdf-data=\"individualPriceListPdf\"></PricesListDetails>\n      </template>\n    </template>\n    <template v-if=\"ShowCreateNewPriceListForm\">\n      <CreatePricesListForm></CreatePricesListForm>\n    </template>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useToast, useForm } from 'vuestic-ui'\nimport ModuleTable from './components/ModuleTable.vue'\nimport PricesListDetails from './components/PricesList/PriceListDetails.vue'\nimport { usePriceListStore } from '../../stores/price-list-store'\nimport CreatePricesListForm from './components/PricesList/CreatePricesListForm.vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { useSettingsStore } from '../../stores/settings-store'\nimport downloadPdf from '../../utils/pdfDownloader'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n    PricesListDetails,\n    CreatePricesListForm,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const sformRef = ref(null) as any\n\n    const columns = [\n      { key: 'id', sortable: true, sortingOptions: ['desc', 'asc'] },\n      { key: 'package_name', sortable: true },\n      { key: 'area', sortable: true },\n      { key: 'hunting_type', sortable: true },\n      { key: 'amount', sortable: true },\n      { key: 'duration', sortable: true, label: 'Duration (Days)' },\n      { key: 'status', sortable: true },\n      { key: 'actions', width: 80 },\n    ]\n\n    const {\n      isValid: isValidSForm,\n      validate: validateSForm,\n      resetValidation: resetValidationSForm,\n      reset: resetSForm,\n    } = useForm(sformRef)\n\n    return {\n      isValidSForm,\n      validateSForm,\n      resetValidationSForm,\n      resetSForm,\n      formRef,\n      sformRef,\n      columns,\n    }\n  },\n\n  data() {\n    const items: any[] = []\n    const printableDataList: any[] = []\n\n    const sform = reactive({\n      id: null as any,\n      name: '',\n      scientific_name: '',\n    })\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      printableDataList,\n      item: null as any,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(),\n      sform,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      huntingTypeOptions: [] as any,\n      speciesObjects: [] as any,\n      showModal: false,\n      quotasOptions,\n      showPriceList: true,\n      ShowCreateNewPriceListForm: false,\n      loading: false,\n      currentQuota: null as any,\n      quotaItems: [] as any,\n      excellFile: [] as any,\n      itemsByHuntingType: [] as any,\n      // for filter\n      huntingTypeValue: null as any,\n      areaValue: null as any,\n      quotaValue: null as any,\n      poriceListPdf: '' as any,\n      individualPriceListPdf: '' as any,\n      downloadPdf,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    this.getPriceLists()\n    this.getAreas()\n    this.getQuota()\n    this.getHuntingTypesOptions()\n    this.loadLogo()\n  },\n\n  methods: {\n    ...mapActions(usePriceListStore, ['getPriceList']),\n    ...mapActions(usePriceListStore, ['getPriceListByHuntingType']),\n    ...mapActions(usePriceListStore, ['getPriceListById']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['generateQuotaYear']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['loadLogo']),\n\n    async toggleShowPriceListMethod(rowData: any) {\n      // eslint-disable-next-line no-console\n      console.log('=== Eye button clicked ===')\n      // eslint-disable-next-line no-console\n      console.log('Row data received:', rowData)\n      // eslint-disable-next-line no-console\n      console.log('Current showPriceList:', this.showPriceList)\n\n      // Get the price list ID from the row data\n      const priceListId = rowData?.id\n\n      if (!priceListId) {\n        // eslint-disable-next-line no-console\n        console.error('No price list ID found in row data')\n        return\n      }\n\n      try {\n        // Fetch the full price list detail by ID\n        // eslint-disable-next-line no-console\n        console.log('Fetching price list detail for ID:', priceListId)\n        const response = await this.getPriceListById(priceListId)\n\n        // Backend returns { success: true, data: {...}, pdf: \"...\", message: \"...\" }\n        // So we need to access response.data.data to get the actual item\n        this.item = response.data.data || response.data\n        // Store the PDF from the response\n        this.individualPriceListPdf = response.data.pdf || ''\n\n        // eslint-disable-next-line no-console\n        console.log('Fetched price list detail:', this.item)\n        console.log('PDF available:', this.individualPriceListPdf ? 'Yes' : 'No')\n\n        // Toggle to show the detail view\n        this.showPriceList = false\n\n        // eslint-disable-next-line no-console\n        console.log('Switched to detail view')\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error fetching price list detail:', error)\n      }\n    },\n\n    async onDownloadPdf() {\n      const pdf = this.poriceListPdf\n      // debug\n      // eslint-disable-next-line no-console\n      console.log('onDownloadPdf clicked, poriceListPdf length:', pdf ? pdf.length : 0)\n      const isUrl = (s: any) => typeof s === 'string' && /^https?:\\/\\//i.test(s)\n      const isLikelyBase64 = (s: any) => typeof s === 'string' && s.length > 200 && /^[A-Za-z0-9+/=\\r\\n]+$/.test(s)\n\n      if (!pdf || (!isUrl(pdf) && !isLikelyBase64(pdf))) {\n        try {\n          this.toast?.init({ message: 'PDF not available for this selection', color: 'warning' })\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.warn('PDF not available')\n        }\n        return\n      }\n\n      try {\n        await downloadPdf(pdf, `price-list-${Date.now()}.pdf`)\n      } catch (err) {\n        try {\n          this.toast?.init({ message: 'Failed to download PDF', color: 'danger' })\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.error('Failed to download PDF', err)\n        }\n      }\n    },\n\n    goBack() {\n      this.showPriceList = !this.showPriceList\n      this.ShowCreateNewPriceListForm = false\n      this.getPriceLists()\n    },\n\n    showCreateNewPriceListFormMethod() {\n      this.ShowCreateNewPriceListForm = !this.ShowCreateNewPriceListForm\n      this.showPriceList = false\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async addNewSpecies() {},\n\n    formatDate(date: Date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n\n    async getPriceLists() {\n      this.loading = true\n\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const quotaId = unwrap(this.quotaValue) || ''\n\n        console.log('Filter params:', { huntingTypeId, areaId, quotaId })\n        console.log('huntingTypeValue:', this.huntingTypeValue)\n        console.log('areaValue:', this.areaValue)\n        const response = await this.getPriceList(huntingTypeId, areaId, quotaId)\n        console.log('API response:', response)\n        console.log('Response data structure:', response?.data)\n\n        if (response.status === 200) {\n          this.loading = false\n\n          // Normalize response: support both `[]` and `{ data: [] }` shapes\n          const raw = response?.data\n          const dataArray = Array.isArray(raw) ? raw : raw?.data ?? []\n          console.log('Data array:', dataArray)\n\n          this.printableDataList = raw\n          this.poriceListPdf = raw?.pdf || ''\n\n          if (Array.isArray(dataArray)) {\n            this.items = dataArray.map((item: any) => ({\n              id: item.id,\n              package_name: item.package_name,\n              area: item.area,\n              hunting_type: item.hunting_type,\n              amount: item.amount,\n              duration: item.duration,\n              status: item.status,\n            }))\n          } else {\n            console.error('Data is not an array:', dataArray)\n            this.items = []\n          }\n\n          console.log('Updated items:', this.items)\n        }\n      } catch (error) {\n        this.loading = false\n        console.error('Error in getPriceLists:', error)\n      }\n    },\n\n    async getPriceListByHuntingTypes(hunting_type_id: any) {\n      try {\n        const response = await this.getPriceListByHuntingType(hunting_type_id)\n\n        this.itemsByHuntingType = response?.data?.map((item: any) => ({\n          id: item?.id,\n          item: item,\n        }))\n\n        console.log(this.itemsByHuntingType)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        const all = {\n          value: '',\n          text: 'All',\n        }\n\n        this.areasOptions = response?.data?.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n        this.areasOptions.unshift(all)\n        // make all default value\n        this.areaValue = this.areasOptions[0]\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getQuota() {\n      try {\n        const response = await this.getQuotas(null)\n\n        if (response.status === 200) {\n          const currentQuota = response.data[0]\n          const result1 = this.generateQuotaYear(currentQuota.start_date, currentQuota.end_date)\n\n          this.quotaValue = {\n            value: currentQuota.id,\n            text: `${result1} - ${currentQuota.name}`,\n            name: currentQuota.name,\n            start_date: currentQuota.start_date,\n            end_date: currentQuota.end_date,\n          }\n          this.currentQuota = currentQuota\n\n          // all object\n          const all = {\n            value: '',\n            text: 'All',\n          }\n\n          this.quotasOptions = response.data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n              name: item.name,\n              start_date: item.start_date,\n              end_date: item.end_date,\n            }\n          })\n          // add all option\n          this.quotasOptions.unshift(all)\n          // make all default value\n          // this.quotaValue = this.quotasOptions[0]\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getHuntingTypesOptions() {\n      const response = await this.getHuntingsTypes()\n      if (response.status === 200) {\n        const all = {\n          value: '',\n          text: 'All',\n        }\n        this.huntingTypeOptions = response?.data?.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n        this.huntingTypeOptions.unshift(all)\n        // make all default value\n        this.huntingTypeValue = this.huntingTypeOptions[0]\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n","<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showPriceList\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"goBack\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup v-if=\"!ShowCreateNewPriceListForm\">\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          :border-color=\"'primary'\"\n          round\n          preset=\"secondary\"\n          size=\"small\"\n          @click=\"showCreateNewPriceListFormMethod\"\n        >\n          Add a new Price List\n        </VaButton>\n      </VaButtonGroup>\n    </div>\n    <VaDivider />\n\n    <template v-if=\"!ShowCreateNewPriceListForm\">\n      <template v-if=\"showPriceList\">\n        <ModuleTable :items=\"items\" :columns=\"columns\" :loading=\"loading\" @onView=\"toggleShowPriceListMethod\">\n          <template #filter-elements-and-download-btn>\n            <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n              <VaSelect\n                v-model=\"huntingTypeValue\"\n                :options=\"huntingTypeOptions\"\n                placeholder=\"Filter By Hunting Type\"\n                @update:modelValue=\"getPriceLists\"\n              />\n              <VaSelect\n                v-model=\"areaValue\"\n                :options=\"areasOptions\"\n                placeholder=\"Filter By Area\"\n                @update:modelValue=\"getPriceLists\"\n              />\n\n              <VaButton\n                class=\"px-2 py-0\"\n                color=\"primary\"\n                label=\"Download\"\n                icon=\"download\"\n                size=\"small\"\n                @click=\"onDownloadPdf\"\n              >\n                Download\n              </VaButton>\n            </div>\n          </template>\n        </ModuleTable>\n      </template>\n      <template v-else>\n        <PricesListDetails :price-list-item=\"item\" :pdf-data=\"individualPriceListPdf\"></PricesListDetails>\n      </template>\n    </template>\n    <template v-if=\"ShowCreateNewPriceListForm\">\n      <CreatePricesListForm></CreatePricesListForm>\n    </template>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useToast, useForm } from 'vuestic-ui'\nimport ModuleTable from './components/ModuleTable.vue'\nimport PricesListDetails from './components/PricesList/PriceListDetails.vue'\nimport { usePriceListStore } from '../../stores/price-list-store'\nimport CreatePricesListForm from './components/PricesList/CreatePricesListForm.vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { useSettingsStore } from '../../stores/settings-store'\nimport downloadPdf from '../../utils/pdfDownloader'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n    PricesListDetails,\n    CreatePricesListForm,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const sformRef = ref(null) as any\n\n    const columns = [\n      { key: 'id', sortable: true, sortingOptions: ['desc', 'asc'] },\n      { key: 'package_name', sortable: true },\n      { key: 'area', sortable: true },\n      { key: 'hunting_type', sortable: true },\n      { key: 'amount', sortable: true },\n      { key: 'duration', sortable: true, label: 'Duration (Days)' },\n      { key: 'status', sortable: true },\n      { key: 'actions', width: 80 },\n    ]\n\n    const {\n      isValid: isValidSForm,\n      validate: validateSForm,\n      resetValidation: resetValidationSForm,\n      reset: resetSForm,\n    } = useForm(sformRef)\n\n    return {\n      isValidSForm,\n      validateSForm,\n      resetValidationSForm,\n      resetSForm,\n      formRef,\n      sformRef,\n      columns,\n    }\n  },\n\n  data() {\n    const items: any[] = []\n    const printableDataList: any[] = []\n\n    const sform = reactive({\n      id: null as any,\n      name: '',\n      scientific_name: '',\n    })\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      printableDataList,\n      item: null as any,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(),\n      sform,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      huntingTypeOptions: [] as any,\n      speciesObjects: [] as any,\n      showModal: false,\n      quotasOptions,\n      showPriceList: true,\n      ShowCreateNewPriceListForm: false,\n      loading: false,\n      currentQuota: null as any,\n      quotaItems: [] as any,\n      excellFile: [] as any,\n      itemsByHuntingType: [] as any,\n      // for filter\n      huntingTypeValue: null as any,\n      areaValue: null as any,\n      quotaValue: null as any,\n      poriceListPdf: '' as any,\n      individualPriceListPdf: '' as any,\n      downloadPdf,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    this.getPriceLists()\n    this.getAreas()\n    this.getQuota()\n    this.getHuntingTypesOptions()\n    this.loadLogo()\n  },\n\n  methods: {\n    ...mapActions(usePriceListStore, ['getPriceList']),\n    ...mapActions(usePriceListStore, ['getPriceListByHuntingType']),\n    ...mapActions(usePriceListStore, ['getPriceListById']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['generateQuotaYear']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['loadLogo']),\n\n    async toggleShowPriceListMethod(rowData: any) {\n      // eslint-disable-next-line no-console\n      console.log('=== Eye button clicked ===')\n      // eslint-disable-next-line no-console\n      console.log('Row data received:', rowData)\n      // eslint-disable-next-line no-console\n      console.log('Current showPriceList:', this.showPriceList)\n\n      // Get the price list ID from the row data\n      const priceListId = rowData?.id\n\n      if (!priceListId) {\n        // eslint-disable-next-line no-console\n        console.error('No price list ID found in row data')\n        return\n      }\n\n      try {\n        // Fetch the full price list detail by ID\n        // eslint-disable-next-line no-console\n        console.log('Fetching price list detail for ID:', priceListId)\n        const response = await this.getPriceListById(priceListId)\n\n        // Backend returns { success: true, data: {...}, pdf: \"...\", message: \"...\" }\n        // So we need to access response.data.data to get the actual item\n        this.item = response.data.data || response.data\n        // Store the PDF from the response\n        this.individualPriceListPdf = response.data.pdf || ''\n\n        // eslint-disable-next-line no-console\n        console.log('Fetched price list detail:', this.item)\n        console.log('PDF available:', this.individualPriceListPdf ? 'Yes' : 'No')\n\n        // Toggle to show the detail view\n        this.showPriceList = false\n\n        // eslint-disable-next-line no-console\n        console.log('Switched to detail view')\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error fetching price list detail:', error)\n      }\n    },\n\n    async onDownloadPdf() {\n      const pdf = this.poriceListPdf\n      // debug\n      // eslint-disable-next-line no-console\n      console.log('onDownloadPdf clicked, poriceListPdf length:', pdf ? pdf.length : 0)\n      const isUrl = (s: any) => typeof s === 'string' && /^https?:\\/\\//i.test(s)\n      const isLikelyBase64 = (s: any) => typeof s === 'string' && s.length > 200 && /^[A-Za-z0-9+/=\\r\\n]+$/.test(s)\n\n      if (!pdf || (!isUrl(pdf) && !isLikelyBase64(pdf))) {\n        try {\n          this.toast?.init({ message: 'PDF not available for this selection', color: 'warning' })\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.warn('PDF not available')\n        }\n        return\n      }\n\n      try {\n        await downloadPdf(pdf, `price-list-${Date.now()}.pdf`)\n      } catch (err) {\n        try {\n          this.toast?.init({ message: 'Failed to download PDF', color: 'danger' })\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.error('Failed to download PDF', err)\n        }\n      }\n    },\n\n    goBack() {\n      this.showPriceList = !this.showPriceList\n      this.ShowCreateNewPriceListForm = false\n      this.getPriceLists()\n    },\n\n    showCreateNewPriceListFormMethod() {\n      this.ShowCreateNewPriceListForm = !this.ShowCreateNewPriceListForm\n      this.showPriceList = false\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async addNewSpecies() {},\n\n    formatDate(date: Date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n\n    async getPriceLists() {\n      this.loading = true\n\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const quotaId = unwrap(this.quotaValue) || ''\n\n        console.log('Filter params:', { huntingTypeId, areaId, quotaId })\n        console.log('huntingTypeValue:', this.huntingTypeValue)\n        console.log('areaValue:', this.areaValue)\n        const response = await this.getPriceList(huntingTypeId, areaId, quotaId)\n        console.log('API response:', response)\n        console.log('Response data structure:', response?.data)\n\n        if (response.status === 200) {\n          this.loading = false\n\n          // Normalize response: support both `[]` and `{ data: [] }` shapes\n          const raw = response?.data\n          const dataArray = Array.isArray(raw) ? raw : raw?.data ?? []\n          console.log('Data array:', dataArray)\n\n          this.printableDataList = raw\n          this.poriceListPdf = raw?.pdf || ''\n\n          if (Array.isArray(dataArray)) {\n            this.items = dataArray.map((item: any) => ({\n              id: item.id,\n              package_name: item.package_name,\n              area: item.area,\n              hunting_type: item.hunting_type,\n              amount: item.amount,\n              duration: item.duration,\n              status: item.status,\n            }))\n          } else {\n            console.error('Data is not an array:', dataArray)\n            this.items = []\n          }\n\n          console.log('Updated items:', this.items)\n        }\n      } catch (error) {\n        this.loading = false\n        console.error('Error in getPriceLists:', error)\n      }\n    },\n\n    async getPriceListByHuntingTypes(hunting_type_id: any) {\n      try {\n        const response = await this.getPriceListByHuntingType(hunting_type_id)\n\n        this.itemsByHuntingType = response?.data?.map((item: any) => ({\n          id: item?.id,\n          item: item,\n        }))\n\n        console.log(this.itemsByHuntingType)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        const all = {\n          value: '',\n          text: 'All',\n        }\n\n        this.areasOptions = response?.data?.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n        this.areasOptions.unshift(all)\n        // make all default value\n        this.areaValue = this.areasOptions[0]\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getQuota() {\n      try {\n        const response = await this.getQuotas(null)\n\n        if (response.status === 200) {\n          const currentQuota = response.data[0]\n          const result1 = this.generateQuotaYear(currentQuota.start_date, currentQuota.end_date)\n\n          this.quotaValue = {\n            value: currentQuota.id,\n            text: `${result1} - ${currentQuota.name}`,\n            name: currentQuota.name,\n            start_date: currentQuota.start_date,\n            end_date: currentQuota.end_date,\n          }\n          this.currentQuota = currentQuota\n\n          // all object\n          const all = {\n            value: '',\n            text: 'All',\n          }\n\n          this.quotasOptions = response.data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n              name: item.name,\n              start_date: item.start_date,\n              end_date: item.end_date,\n            }\n          })\n          // add all option\n          this.quotasOptions.unshift(all)\n          // make all default value\n          // this.quotaValue = this.quotasOptions[0]\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getHuntingTypesOptions() {\n      const response = await this.getHuntingsTypes()\n      if (response.status === 200) {\n        const all = {\n          value: '',\n          text: 'All',\n        }\n        this.huntingTypeOptions = response?.data?.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n        this.huntingTypeOptions.unshift(all)\n        // make all default value\n        this.huntingTypeValue = this.huntingTypeOptions[0]\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n"],"names":["_sfc_main$2","defineComponent","usePaymentCardsStore","format","speciesSequences","_a","fee","count","chargesPer","amount","sequence","suffixes","value","suffix","fileName","_b","downloadPdf","err","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_ctx","_openBlock","_createBlock","_component_VaSkeletonGroup","_withCtx","_createVNode","_component_VaSkeleton","_createElementBlock","_hoisted_1","_component_VaCard","_component_VaCardContent","_createElementVNode","_toDisplayString","_component_VaChip","_component_VaIcon","_createTextVNode","_cache","_c","_component_VaButton","_createCommentVNode","_component_VaCardTitle","_Fragment","_renderList","species","_component_VaBadge","_component_VaAlert","_hoisted_27","extra","companion","_sfc_main$1","SalesPackageForm","VaForm","VaInput","VaSelect","VaButton","formRef","ref","isValidForm","validateForm","resetValidationForm","resetForm","useForm","init","useToast","showEditForm","form","reactive","contactForm","deleteChip","chip","v","countries","nationality","categoryOptions","contactsTypes","clients","step","validators","mapState","usePriceListStore","mapWritableState","mapActions","useQuotaStore","useSettingsStore","requestdata","response","error","handleErrors","item","index","_component_VaInnerLoading","_component_VaForm","_component_VaSelect","$event","_component_VaInput","_component_VaModal","_component_SalesPackageForm","defaultItem","_sfc_main","ModuleTable","PricesListDetails","CreatePricesListForm","sformRef","columns","isValidSForm","validateSForm","resetValidationSForm","resetSForm","items","printableDataList","sform","quotasOptions","rowData","priceListId","pdf","isUrl","s","isLikelyBase64","date","year","month","day","unwrap","huntingTypeId","areaId","quotaId","raw","dataArray","hunting_type_id","all","currentQuota","result1","result","_component_VaButtonGroup","_component_VaDivider","_component_ModuleTable","_component_PricesListDetails","_component_CreatePricesListForm"],"mappings":"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"}