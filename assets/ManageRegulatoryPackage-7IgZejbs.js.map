{"version":3,"file":"ManageRegulatoryPackage-7IgZejbs.js","sources":["../../src/pages/module-settings/ManageRegulatoryPackage.vue","../../src/pages/module-settings/ManageRegulatoryPackage.vue"],"sourcesContent":["<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showpackForm\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"showNewPackageForm\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup v-if=\"showpackForm\">\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          size=\"small\"\n          @click=\"showNewPackageForm\"\n          >Add package</VaButton\n        >\n      </VaButtonGroup>\n    </div>\n\n    <ModuleTable\n      v-if=\"showpackForm\"\n      :items=\"items\"\n      :columns=\"columns\"\n      :loading=\"loading\"\n      @onView=\"showNewPackageForm\"\n    ></ModuleTable>\n\n    <!-- <Regularorypackagelist v-if=\"showpackForm\" :items=\"items\" @@onView=\"showNewPackageForm\"></Regularorypackagelist> -->\n\n    <div v-else class=\"p-2\">\n      <VaForm ref=\"packageFormRef\" class=\"mb-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n          <!-- <VaValue :default-value=\"false\">\n            <VaSelect\n              v-model=\"packageForm.salesQuota\"\n              :options=\"quotasOptions\"\n              label=\"Sales Quota\"\n              :rules=\"[(v: any) => !!v || 'Sales Quota is required']\"\n              placeholder=\"Select Sales Quota\"\n            >\n              <template #appendInner>\n                <VaIcon name=\"av_timer\" size=\"small\" color=\"primary\" />\n              </template>\n            </VaSelect>\n          </VaValue> -->\n          <!-- packageNamesOptions -->\n          <VaInput\n            v-model=\"packageForm.name\"\n            label=\"Name\"\n            placeholder=\"Enter package Name\"\n            type=\"text\"\n            :rules=\"[(v: any) => !!v || 'Package Name is required']\"\n            required\n          />\n\n          <!-- duration -->\n          <VaInput\n            v-model=\"packageForm.duration\"\n            label=\"Duration\"\n            placeholder=\"Enter package Duration\"\n            type=\"number\"\n            :rules=\"[(v: any) => !!v || 'Duration is required']\"\n            required\n          />\n        </div>\n\n        <VaDivider orientation=\"left\" class=\"py-6\">\n          <span caption class=\"px-2\">Add a List of Species</span>\n        </VaDivider>\n        <!-- <h3 class=\"font-bold text-lg mb-4\"></h3> -->\n\n        <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n          <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n              <VaSelect\n                v-model=\"packageForm.id\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n\n              <VaCounter v-model=\"packageForm.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n            </div>\n          </div>\n          <VaButtonGroup>\n            <VaButton\n              class=\"px-0 py-0\"\n              color=\"primary\"\n              icon=\"add\"\n              size=\"small\"\n              round\n              @click=\"addNewSpeciesItemToStorage()\"\n            />\n          </VaButtonGroup>\n        </div>\n      </VaForm>\n\n      <div class=\"mb-6\">\n        <VaList>\n          <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\">Selected Species</VaListLabel>\n          <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n            <VaListItemSection>\n              <VaListItemLabel>\n                Name: {{ s.name }}\n                <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n              </VaListItemLabel>\n              <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n            </VaListItemSection>\n          </VaListItem>\n        </VaList>\n      </div>\n\n      <div class=\"mb-6\">\n        <VaButton\n          :disabled=\"!isValidpackageForm\"\n          color=\"primary\"\n          icon=\"add\"\n          icon-color=\"#fff\"\n          @click=\"validatepackageForm() && addNewRegulatoryPackage()\"\n        >\n          Submit New\n        </VaButton>\n      </div>\n    </div>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { mapActions } from 'pinia'\nimport { reactive } from 'vue'\nimport { useToast, useForm } from 'vuestic-ui'\nimport handleErrors from '../../utils/errorHandler'\nimport ModuleTable from './components/ModuleTable.vue'\nimport { useRegulatoryPackageStore } from '../../stores/regulatrory-store'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n  // description: '',\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const packageFormRef = ref(null) as any\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidpackageForm,\n      validate: validatepackageForm,\n      resetValidation: resetValidationpackageForm,\n      reset: resetpackageForm,\n    } = useForm(packageFormRef)\n\n    // Make sure to use `isValidForm`, `validateForm`, and `resetValidationForm` in your component logic as needed\n    return {\n      isValidForm, // Ensure this is utilized somewhere\n      validateForm, // Ensure this is utilized somewhere\n      resetValidationForm, // Ensure this is utilized somewhere\n      isValidpackageForm,\n      validatepackageForm,\n      resetValidationpackageForm,\n      resetForm,\n      resetpackageForm,\n      formRef,\n      packageFormRef,\n    }\n  },\n  data() {\n    const items: [] = []\n\n    // const { isValid, validate, reset, resetValidation } = useForm(formRef)\n    const form = reactive({\n      id: null,\n      name: '',\n      start_date: null as any,\n      end_date: null as any,\n      description: '',\n    })\n\n    const packageForm = reactive({\n      id: null as any,\n      // quata: null as any,\n      duration: null as any,\n      name: null as any,\n      quantity: 0,\n      salesQuota: null as any,\n      area: null as any,\n    })\n\n    const columns = [\n      { key: 'name', sortable: true },\n      { key: 'duration', sortable: true },\n      // { key: 'description', sortable: true },\n      // { key: 'actions', width: 80 },\n    ]\n\n    const packageNamesOptions = [\n      { value: 'Regular', text: 'Regular Safari' },\n      { value: 'Premium', text: 'Premium Safari' },\n      { value: 'Major', text: 'Major Safari' },\n    ]\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      columns,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(), // Initialize useToast here\n\n      form,\n      packageForm,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      speciesObjects: [] as any,\n      shopackaform: false,\n      quotasOptions,\n      showpackForm: true,\n      quotaItems: [] as any,\n      packageNamesOptions,\n      loading: false,\n      saving: false,\n    }\n  },\n\n  mounted() {\n    this.getQs()\n    this.getSpeciesItems()\n    this.getPackages()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['generateQuotaYear']),\n    ...mapActions(useRegulatoryPackageStore, ['createNewRegulatoryPackage']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    resetEditedItem() {\n      this.editedItem = null\n      this.editedItemId = null\n    },\n    resetCreatedItem() {\n      this.createdItem = { ...defaultItem }\n    },\n\n    showNewPackageForm() {\n      this.showpackForm = !this.showpackForm\n      this.getPackages()\n    },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.packageForm are not null\n      if (\n        !this.packageForm.id ||\n        !this.packageForm.id.value ||\n        !this.packageForm.id.text ||\n        !this.packageForm.quantity\n      ) {\n        console.error('Error: Some required fields are null or undefined.')\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.packageForm.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some((species: { id: any }) => species.id === this.packageForm.id.value)\n\n      if (!exists) {\n        this.speciesObjects.push({\n          id: this.packageForm.id.value,\n          name: this.packageForm.id.text,\n          quantity: this.packageForm.quantity,\n        })\n        console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.packageForm.id)\n      }\n\n      // this.resetpackageForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async addNewRegulatoryPackage() {\n      if (this.speciesObjects.length === 0) {\n        this.toast.init({ message: 'Please add at least one species item.', color: 'warning' })\n        return\n      }\n      const rdata = {\n        name: this.packageForm.name,\n        duration: this.packageForm.duration,\n        speciesObjectList: this.speciesObjects,\n      }\n\n      try {\n        const response = await this.createNewRegulatoryPackage(rdata)\n        if (response.status === 201) {\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetpackageForm()\n          this.resetCreatedItem()\n          this.speciesObjects = []\n        } else {\n          console.log(response.data)\n        }\n      } catch (error) {\n        handleErrors(error)\n        this.toast.init({\n          message: error instanceof Error ? error.message : 'An error occurred',\n          color: 'danger',\n        })\n      }\n    },\n\n    async getQs(id = null) {\n      try {\n        const response = await this.getQuotas(id)\n        if (response.status === 200) {\n          const data = response.data\n\n          this.quotasOptions = data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            // this.packageForm.salesQuota = {\n            //   value: item.id,\n            //   text: `${result} - ${item.name}`,\n            // }\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n            }\n          })\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getPackages() {\n      this.loading = true\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          this.loading = false\n          const data = response.data\n          this.items = data.map((item: any) => ({\n            id: item.id,\n            name: item.name,\n            duration: item.duration,\n          }))\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        const speciesItems = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n","<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showpackForm\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"showNewPackageForm\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup v-if=\"showpackForm\">\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          size=\"small\"\n          @click=\"showNewPackageForm\"\n          >Add package</VaButton\n        >\n      </VaButtonGroup>\n    </div>\n\n    <ModuleTable\n      v-if=\"showpackForm\"\n      :items=\"items\"\n      :columns=\"columns\"\n      :loading=\"loading\"\n      @onView=\"showNewPackageForm\"\n    ></ModuleTable>\n\n    <!-- <Regularorypackagelist v-if=\"showpackForm\" :items=\"items\" @@onView=\"showNewPackageForm\"></Regularorypackagelist> -->\n\n    <div v-else class=\"p-2\">\n      <VaForm ref=\"packageFormRef\" class=\"mb-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n          <!-- <VaValue :default-value=\"false\">\n            <VaSelect\n              v-model=\"packageForm.salesQuota\"\n              :options=\"quotasOptions\"\n              label=\"Sales Quota\"\n              :rules=\"[(v: any) => !!v || 'Sales Quota is required']\"\n              placeholder=\"Select Sales Quota\"\n            >\n              <template #appendInner>\n                <VaIcon name=\"av_timer\" size=\"small\" color=\"primary\" />\n              </template>\n            </VaSelect>\n          </VaValue> -->\n          <!-- packageNamesOptions -->\n          <VaInput\n            v-model=\"packageForm.name\"\n            label=\"Name\"\n            placeholder=\"Enter package Name\"\n            type=\"text\"\n            :rules=\"[(v: any) => !!v || 'Package Name is required']\"\n            required\n          />\n\n          <!-- duration -->\n          <VaInput\n            v-model=\"packageForm.duration\"\n            label=\"Duration\"\n            placeholder=\"Enter package Duration\"\n            type=\"number\"\n            :rules=\"[(v: any) => !!v || 'Duration is required']\"\n            required\n          />\n        </div>\n\n        <VaDivider orientation=\"left\" class=\"py-6\">\n          <span caption class=\"px-2\">Add a List of Species</span>\n        </VaDivider>\n        <!-- <h3 class=\"font-bold text-lg mb-4\"></h3> -->\n\n        <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n          <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n              <VaSelect\n                v-model=\"packageForm.id\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n\n              <VaCounter v-model=\"packageForm.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n            </div>\n          </div>\n          <VaButtonGroup>\n            <VaButton\n              class=\"px-0 py-0\"\n              color=\"primary\"\n              icon=\"add\"\n              size=\"small\"\n              round\n              @click=\"addNewSpeciesItemToStorage()\"\n            />\n          </VaButtonGroup>\n        </div>\n      </VaForm>\n\n      <div class=\"mb-6\">\n        <VaList>\n          <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\">Selected Species</VaListLabel>\n          <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n            <VaListItemSection>\n              <VaListItemLabel>\n                Name: {{ s.name }}\n                <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n              </VaListItemLabel>\n              <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n            </VaListItemSection>\n          </VaListItem>\n        </VaList>\n      </div>\n\n      <div class=\"mb-6\">\n        <VaButton\n          :disabled=\"!isValidpackageForm\"\n          color=\"primary\"\n          icon=\"add\"\n          icon-color=\"#fff\"\n          @click=\"validatepackageForm() && addNewRegulatoryPackage()\"\n        >\n          Submit New\n        </VaButton>\n      </div>\n    </div>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { mapActions } from 'pinia'\nimport { reactive } from 'vue'\nimport { useToast, useForm } from 'vuestic-ui'\nimport handleErrors from '../../utils/errorHandler'\nimport ModuleTable from './components/ModuleTable.vue'\nimport { useRegulatoryPackageStore } from '../../stores/regulatrory-store'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n  // description: '',\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const packageFormRef = ref(null) as any\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidpackageForm,\n      validate: validatepackageForm,\n      resetValidation: resetValidationpackageForm,\n      reset: resetpackageForm,\n    } = useForm(packageFormRef)\n\n    // Make sure to use `isValidForm`, `validateForm`, and `resetValidationForm` in your component logic as needed\n    return {\n      isValidForm, // Ensure this is utilized somewhere\n      validateForm, // Ensure this is utilized somewhere\n      resetValidationForm, // Ensure this is utilized somewhere\n      isValidpackageForm,\n      validatepackageForm,\n      resetValidationpackageForm,\n      resetForm,\n      resetpackageForm,\n      formRef,\n      packageFormRef,\n    }\n  },\n  data() {\n    const items: [] = []\n\n    // const { isValid, validate, reset, resetValidation } = useForm(formRef)\n    const form = reactive({\n      id: null,\n      name: '',\n      start_date: null as any,\n      end_date: null as any,\n      description: '',\n    })\n\n    const packageForm = reactive({\n      id: null as any,\n      // quata: null as any,\n      duration: null as any,\n      name: null as any,\n      quantity: 0,\n      salesQuota: null as any,\n      area: null as any,\n    })\n\n    const columns = [\n      { key: 'name', sortable: true },\n      { key: 'duration', sortable: true },\n      // { key: 'description', sortable: true },\n      // { key: 'actions', width: 80 },\n    ]\n\n    const packageNamesOptions = [\n      { value: 'Regular', text: 'Regular Safari' },\n      { value: 'Premium', text: 'Premium Safari' },\n      { value: 'Major', text: 'Major Safari' },\n    ]\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      columns,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(), // Initialize useToast here\n\n      form,\n      packageForm,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      speciesObjects: [] as any,\n      shopackaform: false,\n      quotasOptions,\n      showpackForm: true,\n      quotaItems: [] as any,\n      packageNamesOptions,\n      loading: false,\n      saving: false,\n    }\n  },\n\n  mounted() {\n    this.getQs()\n    this.getSpeciesItems()\n    this.getPackages()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['generateQuotaYear']),\n    ...mapActions(useRegulatoryPackageStore, ['createNewRegulatoryPackage']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    resetEditedItem() {\n      this.editedItem = null\n      this.editedItemId = null\n    },\n    resetCreatedItem() {\n      this.createdItem = { ...defaultItem }\n    },\n\n    showNewPackageForm() {\n      this.showpackForm = !this.showpackForm\n      this.getPackages()\n    },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.packageForm are not null\n      if (\n        !this.packageForm.id ||\n        !this.packageForm.id.value ||\n        !this.packageForm.id.text ||\n        !this.packageForm.quantity\n      ) {\n        console.error('Error: Some required fields are null or undefined.')\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.packageForm.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some((species: { id: any }) => species.id === this.packageForm.id.value)\n\n      if (!exists) {\n        this.speciesObjects.push({\n          id: this.packageForm.id.value,\n          name: this.packageForm.id.text,\n          quantity: this.packageForm.quantity,\n        })\n        console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.packageForm.id)\n      }\n\n      // this.resetpackageForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async addNewRegulatoryPackage() {\n      if (this.speciesObjects.length === 0) {\n        this.toast.init({ message: 'Please add at least one species item.', color: 'warning' })\n        return\n      }\n      const rdata = {\n        name: this.packageForm.name,\n        duration: this.packageForm.duration,\n        speciesObjectList: this.speciesObjects,\n      }\n\n      try {\n        const response = await this.createNewRegulatoryPackage(rdata)\n        if (response.status === 201) {\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetpackageForm()\n          this.resetCreatedItem()\n          this.speciesObjects = []\n        } else {\n          console.log(response.data)\n        }\n      } catch (error) {\n        handleErrors(error)\n        this.toast.init({\n          message: error instanceof Error ? error.message : 'An error occurred',\n          color: 'danger',\n        })\n      }\n    },\n\n    async getQs(id = null) {\n      try {\n        const response = await this.getQuotas(id)\n        if (response.status === 200) {\n          const data = response.data\n\n          this.quotasOptions = data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            // this.packageForm.salesQuota = {\n            //   value: item.id,\n            //   text: `${result} - ${item.name}`,\n            // }\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n            }\n          })\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getPackages() {\n      this.loading = true\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          this.loading = false\n          const data = response.data\n          this.items = data.map((item: any) => ({\n            id: item.id,\n            name: item.name,\n            duration: item.duration,\n          }))\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        const speciesItems = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n"],"names":["defaultItem","_sfc_main","defineComponent","ModuleTable","formRef","ref","packageFormRef","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isValidpackageForm","validatepackageForm","resetValidationpackageForm","resetpackageForm","items","form","reactive","packageForm","columns","packageNamesOptions","quotasOptions","useToast","mapActions","useQuotaStore","useRegulatoryPackageStore","species","index","rdata","response","error","handleErrors","id","data","item","result","speciesItems","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createBlock","_component_VaCard","_createElementVNode","_ctx","_createCommentVNode","_component_VaButton","_withCtx","_cache","_createTextVNode","_openBlock","_component_VaButtonGroup","_createVNode","_component_ModuleTable","_createElementBlock","_hoisted_3","_component_VaForm","_component_VaInput","$event","v","_component_VaDivider","_component_VaSelect","_component_VaCounter","_component_VaList","_component_VaListLabel","_Fragment","_renderList","s","_component_VaListItem","_component_VaListItemSection","_component_VaListItemLabel","_toDisplayString","_component_VaIcon"],"mappings":"ycA+IA,MAAMA,EAAc,CAClB,KAAM,GACN,WAAY,KACZ,SAAU,IAEZ,EAEAC,EAAeC,EAAgB,CAC7B,KAAM,YACN,WAAY,CACV,YAAAC,CAAA,EAGF,OAAQ,CACN,MAAMC,EAAUC,EAAI,IAAI,EAClBC,EAAiBD,EAAI,IAAI,EAEzB,CACJ,QAASE,EACT,SAAUC,EACV,gBAAiBC,EACjB,MAAOC,CAAA,EACLC,EAAQP,CAAO,EAEb,CACJ,QAASQ,EACT,SAAUC,EACV,gBAAiBC,EACjB,MAAOC,CAAA,EACLJ,EAAQL,CAAc,EAG1B,MAAO,CACL,YAAAC,EACA,aAAAC,EACA,oBAAAC,EACA,mBAAAG,EACA,oBAAAC,EACA,2BAAAC,EACA,UAAAJ,EACA,iBAAAK,EACA,QAAAX,EACA,eAAAE,CAAA,CAEJ,EACA,MAAO,CACL,MAAMU,EAAY,CAAA,EAGZC,EAAOC,EAAS,CACpB,GAAI,KACJ,KAAM,GACN,WAAY,KACZ,SAAU,KACV,YAAa,EAAA,CACd,EAEKC,EAAcD,EAAS,CAC3B,GAAI,KAEJ,SAAU,KACV,KAAM,KACN,SAAU,EACV,WAAY,KACZ,KAAM,IAAA,CACP,EAEKE,EAAU,CACd,CAAE,IAAK,OAAQ,SAAU,EAAA,EACzB,CAAE,IAAK,WAAY,SAAU,EAAA,CAAK,EAK9BC,EAAsB,CAC1B,CAAE,MAAO,UAAW,KAAM,gBAAA,EAC1B,CAAE,MAAO,UAAW,KAAM,gBAAA,EAC1B,CAAE,MAAO,QAAS,KAAM,cAAA,CAAe,EAGnCC,EAAgB,CAAA,EAEtB,MAAO,CACL,MAAAN,EACA,QAAAI,EACA,aAAc,KACd,WAAY,KACZ,YAAa,CAAE,GAAGpB,CAAA,EAClB,MAAOuB,EAAA,EAEP,KAAAN,EACA,YAAAE,EACA,eAAgB,CAAA,EAChB,aAAc,CAAA,EACd,eAAgB,CAAA,EAChB,aAAc,GACd,cAAAG,EACA,aAAc,GACd,WAAY,CAAA,EACZ,oBAAAD,EACA,QAAS,GACT,OAAQ,EAAA,CAEZ,EAEA,SAAU,CACR,KAAK,MAAA,EACL,KAAK,gBAAA,EACL,KAAK,YAAA,CACP,EAEA,QAAS,CACP,GAAGG,EAAWC,EAAe,CAAC,WAAW,CAAC,EAC1C,GAAGD,EAAWC,EAAe,CAAC,gBAAgB,CAAC,EAC/C,GAAGD,EAAWC,EAAe,CAAC,mBAAmB,CAAC,EAClD,GAAGD,EAAWE,EAA2B,CAAC,4BAA4B,CAAC,EACvE,GAAGF,EAAWE,EAA2B,CAAC,uBAAuB,CAAC,EAElE,iBAAkB,CAChB,KAAK,WAAa,KAClB,KAAK,aAAe,IACtB,EACA,kBAAmB,CACjB,KAAK,YAAc,CAAE,GAAG1B,CAAA,CAC1B,EAEA,oBAAqB,CACnB,KAAK,aAAe,CAAC,KAAK,aAC1B,KAAK,YAAA,CACP,EAEA,4BAA6B,CAE3B,GACE,CAAC,KAAK,YAAY,IAClB,CAAC,KAAK,YAAY,GAAG,OACrB,CAAC,KAAK,YAAY,GAAG,MACrB,CAAC,KAAK,YAAY,SAClB,CACA,QAAQ,MAAM,oDAAoD,EAClE,MACF,CAGA,GAAI,OAAO,KAAK,YAAY,QAAQ,GAAK,EAMvC,OAIa,KAAK,eAAe,KAAM2B,GAAyBA,EAAQ,KAAO,KAAK,YAAY,GAAG,KAAK,EAUxG,QAAQ,IAAI,+BAAgC,KAAK,YAAY,EAAE,GAP/D,KAAK,eAAe,KAAK,CACvB,GAAI,KAAK,YAAY,GAAG,MACxB,KAAM,KAAK,YAAY,GAAG,KAC1B,SAAU,KAAK,YAAY,QAAA,CAC5B,EACD,QAAQ,IAAI,0BAA2B,KAAK,cAAc,EAM9D,EAEA,kBAAkBC,EAAe,CAC/B,KAAK,eAAe,OAAOA,EAAO,CAAC,EACnC,QAAQ,IAAI,wBAAyBA,CAAK,CAC5C,EAEA,MAAM,yBAA0B,CAC9B,GAAI,KAAK,eAAe,SAAW,EAAG,CACpC,KAAK,MAAM,KAAK,CAAE,QAAS,wCAAyC,MAAO,UAAW,EACtF,MACF,CACA,MAAMC,EAAQ,CACZ,KAAM,KAAK,YAAY,KACvB,SAAU,KAAK,YAAY,SAC3B,kBAAmB,KAAK,cAAA,EAG1B,GAAI,CACF,MAAMC,EAAW,MAAM,KAAK,2BAA2BD,CAAK,EACxDC,EAAS,SAAW,KACtB,KAAK,MAAM,KAAK,CAAE,QAASA,EAAS,KAAK,QAAS,MAAO,UAAW,EACpE,KAAK,iBAAA,EACL,KAAK,iBAAA,EACL,KAAK,eAAiB,CAAA,GAEtB,QAAQ,IAAIA,EAAS,IAAI,CAE7B,OAASC,EAAO,CACdC,EAAaD,CAAK,EAClB,KAAK,MAAM,KAAK,CACd,QAASA,aAAiB,MAAQA,EAAM,QAAU,oBAClD,MAAO,QAAA,CACR,CACH,CACF,EAEA,MAAM,MAAME,EAAK,KAAM,CACrB,GAAI,CACF,MAAMH,EAAW,MAAM,KAAK,UAAUG,CAAE,EACxC,GAAIH,EAAS,SAAW,IAAK,CAC3B,MAAMI,EAAOJ,EAAS,KAEtB,KAAK,cAAgBI,EAAK,IAAKC,GAAc,CAC3C,MAAMC,EAAS,KAAK,kBAAkBD,EAAK,WAAYA,EAAK,QAAQ,EAOpE,MAAO,CACL,MAAOA,EAAK,GACZ,KAAM,GAAGC,CAAM,MAAMD,EAAK,IAAI,EAAA,CAElC,CAAC,CACH,CACF,OAASJ,EAAO,CACd,QAAQ,IAAIA,CAAK,CACnB,CACF,EAEA,MAAM,aAAc,CAClB,KAAK,QAAU,GACf,GAAI,CACF,MAAMD,EAAW,MAAM,KAAK,sBAAA,EAC5B,GAAIA,EAAS,SAAW,IAAK,CAC3B,KAAK,QAAU,GACf,MAAMI,EAAOJ,EAAS,KACtB,KAAK,MAAQI,EAAK,IAAKC,IAAe,CACpC,GAAIA,EAAK,GACT,KAAMA,EAAK,KACX,SAAUA,EAAK,QAAA,EACf,CACJ,CACF,OAASJ,EAAO,CACd,KAAK,QAAU,GACf,QAAQ,IAAIA,CAAK,CACnB,CACF,EAEA,MAAM,iBAAkB,CACtB,GAAI,CAIF,MAAMM,GAHW,MAAM,KAAK,eAAA,GAGE,KAAK,IAAKF,IAC/B,CACL,MAAOA,EAAK,GACZ,KAAMA,EAAK,IAAA,EAEd,EAGD,KAAK,eAAiB,KAAK,eAAe,OAAOE,CAAY,CAC/D,OAASN,EAAO,CACd,QAAQ,IAAIA,CAAK,CACnB,CACF,CAAA,CAEJ,CAAC,ECvZQO,EAAA,CAAA,MAAM,sDAAA,EACJC,EAAA,CAAA,MAAM,+CAAA,KALjB,IAAA,EAiCgB,MAAM,OAETC,EAAA,CAAA,MAAM,2DAAA,EAwCNC,EAAA,CAAA,MAAM,sDAAA,EACJC,EAAA,CAAA,MAAM,+CAAA,EACJC,GAAA,CAAA,MAAM,2DAAA,EA0BZC,GAAA,CAAA,MAAM,MAAA,EAeNC,GAAA,CAAA,MAAM,MAAA,kTArHfC,EAiISC,EAAA,CAjID,MAAM,OAAK,CADrB,UAII,IAiBM,CAjBNC,EAiBM,MAjBNV,EAiBM,CAhBJU,EAIM,MAJNT,EAIM,CAHaU,eANzBC,EAAA,GAAA,EAAA,OAMQJ,EAEWK,EAAA,CARnB,IAAA,EAMuC,MAAM,YAAY,KAAK,aAAa,KAAK,QAAS,QAAOF,EAAA,kBAAA,EAAA,CANhG,QAAAG,EAMoH,IAE5GC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CARRC,EAMoH,WAE5G,CAAA,EAAA,EARR,EAAA,CAAA,EAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAA,EAU2BL,EAAA,cAAAM,IAArBT,EAUgBU,EAAA,CApBtB,IAAA,GAAA,CAAA,QAAAJ,EAWQ,IAQC,CARDK,EAQCN,EAAA,CAPC,MAAM,YACN,MAAM,UACN,MAAM,gBACN,KAAK,MACL,KAAK,QACJ,QAAOF,EAAA,kBAAA,EAAA,CAjBlB,QAAAG,EAkBW,IAAWC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAlBtBC,EAkBW,aAAW,CAAA,EAAA,EAlBtB,EAAA,CAAA,EAAA,EAAA,CAAA,SAAA,CAAA,IAAA,EAAA,CAAA,CAAA,GAAAJ,EAAA,GAAA,EAAA,CAAA,CAAA,EAwBYD,EAAA,cAAAM,IADRT,EAMeY,EAAA,CA7BnB,IAAA,EAyBO,MAAOT,EAAA,MACP,QAASA,EAAA,QACT,QAASA,EAAA,QACT,SAAQA,EAAA,kBAAA,EAAA,KAAA,EAAA,CAAA,QAAA,UAAA,UAAA,UAAA,CAAA,IAAAM,EAAA,EAKXI,EAgGM,MAhGNC,EAgGM,CA/FJH,EAmESI,EAAA,CAnED,IAAI,iBAAiB,MAAM,MAAA,EAAA,CAlCzC,QAAAT,EAmCQ,IAiCM,CAjCNJ,EAiCM,MAjCNR,EAiCM,CAlBJiB,EAOEK,EAAA,CAzDZ,WAmDqBb,EAAA,YAAY,KAnDjC,sBAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAU,GAmDqBd,cAAY,KAAIc,GACzB,MAAM,OACN,YAAY,qBACZ,KAAK,OACJ,MAAK,CAAIC,GAAM,CAAA,CAAOA,GAAC,0BAAA,EACxB,SAAA,EAAA,EAAA,KAAA,EAAA,CAAA,aAAA,OAAA,CAAA,EAIFP,EAOEK,EAAA,CAnEZ,WA6DqBb,EAAA,YAAY,SA7DjC,sBAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAU,GA6DqBd,cAAY,SAAQc,GAC7B,MAAM,WACN,YAAY,yBACZ,KAAK,SACJ,MAAK,CAAIC,GAAM,CAAA,CAAOA,GAAC,sBAAA,EACxB,SAAA,EAAA,EAAA,KAAA,EAAA,CAAA,aAAA,OAAA,CAAA,IAIJP,EAEYQ,EAAA,CAFD,YAAY,OAAO,MAAM,MAAA,EAAA,CAtE5C,QAAAb,EAuEU,IAAuDC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAvDL,EAAuD,OAAA,CAAjD,QAAA,GAAQ,MAAM,MAAA,EAAO,wBAAqB,EAAA,CAAA,EAAA,EAvE1D,EAAA,CAAA,CAAA,EA2EQA,EAyBM,MAzBNP,EAyBM,CAxBJO,EAaM,MAbNN,EAaM,CAZJM,EAWM,MAXNL,GAWM,CAVJc,EAOES,EAAA,CArFhB,WA+EyBjB,EAAA,YAAY,GA/ErC,sBAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAU,GA+EyBd,cAAY,GAAEc,GACvB,MAAM,UACL,QAASd,EAAA,eACV,YAAY,iBACX,MAAK,CAAIe,GAAM,CAAA,CAAOA,GAAC,qBAAA,EACxB,SAAA,EAAA,EAAA,KAAA,EAAA,CAAA,aAAA,UAAA,OAAA,CAAA,EAGFP,EAA8FU,EAAA,CAvF5G,WAuFkClB,EAAA,YAAY,SAvF9C,sBAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAU,GAuFkCd,cAAY,SAAQc,GAAE,MAAM,WAAW,eAAA,GAAc,IAAK,EAAI,IAAK,GAAA,EAAA,KAAA,EAAA,CAAA,YAAA,CAAA,MAG3FN,EASgBD,EAAA,KAAA,CAnG1B,UA2FY,IAOE,CAPFC,EAOEN,EAAA,CANA,MAAM,YACN,MAAM,UACN,KAAK,MACL,KAAK,QACL,MAAA,GACC,QAAKE,eAAEJ,EAAA,2BAAA,EAA0B,CAAA,IAjGhD,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,EAAA,GAAA,EAuGMD,EAaM,MAbNJ,GAaM,CAZJa,EAWSW,EAAA,KAAA,CAnHjB,UAyGU,IAA2G,CAAxFnB,EAAA,eAAe,OAAM,GAAAM,EAAA,EAAxCT,EAA2GuB,EAAA,CAzGrH,IAAA,EAyGwD,MAAM,wBAAA,EAAA,CAzG9D,QAAAjB,EAyGuF,IAAgBC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAzGvGC,EAyGuF,kBAAgB,CAAA,EAAA,EAzGvG,EAAA,CAAA,CAAA,GAAAJ,EAAA,GAAA,EAAA,GAAAK,EAAA,EAAA,EA0GUI,EAQaW,EAAA,KAlHvBC,EA0G2CtB,EAAA,eA1G3C,CA0G8BuB,EAAG5C,SAAvBkB,EAQa2B,EAAA,CARqC,IAAK7C,EAAO,MAAM,YAAA,EAAA,CA1G9E,QAAAwB,EA2GY,IAMoB,CANpBK,EAMoBiB,EAAA,KAAA,CAjHhC,UA4Gc,IAGkB,CAHlBjB,EAGkBkB,EAAA,KAAA,CA/GhC,UA4G+B,IACT,CA7GtBrB,EA4G+B,UACTsB,EAAGJ,EAAE,IAAI,EAAG,IAClB,CAAA,EAAAf,EAAuFoB,EAAA,CAA/E,KAAK,SAAS,KAAK,QAAQ,MAAM,UAAW,QAAKd,IAAEd,EAAA,kBAAkBrB,CAAK,CAAA,EAAA,KAAA,EAAA,CAAA,SAAA,CAAA,IA9GlG,EAAA,CAAA,EAAA,IAAA,EAgHc6B,EAAqEkB,GAApD,QAAA,EAAA,EAAO,CAhHtC,UAgHuC,IAAU,CAhHjDrB,EAgHuC,aAAUsB,EAAGJ,EAAE,QAAQ,EAAA,CAAA,CAAA,CAAA,EAhH9D,EAAA,CAAA,EAAA,IAAA,IAAA,EAAA,CAAA,EAAA,IAAA,IAAA,EAAA,CAAA,EAAA,IAAA,YAAA,EAAA,CAAA,CAAA,IAsHMxB,EAUM,MAVNH,GAUM,CATJY,EAQWN,EAAA,CAPR,SAAQ,CAAGF,EAAA,mBACZ,MAAM,UACN,KAAK,MACL,aAAW,OACV,QAAKI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAU,GAAEd,EAAA,uBAAyBA,EAAA,wBAAA,EAAuB,EAAA,CA5HlE,QAAAG,EA6HS,IAEDC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CA/HRC,EA6HS,cAED,CAAA,EAAA,EA/HR,EAAA,CAAA,EAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,CAAA,CAAA"}