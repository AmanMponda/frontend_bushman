{"version":3,"file":"SalesConfirmationProposals-DCRPrO_2.js","sources":["../../src/pages/client/dashboard/SalesConfirmationProposals.vue","../../src/pages/client/dashboard/SalesConfirmationProposals.vue"],"sourcesContent":["<template>\n  <VaCard class=\"w-full\">\n    <VaCardTitle class=\"flex justify-between items-center\">\n      <div class=\"flex items-center gap-2\">\n        <VaIcon name=\"check_circle\" color=\"success\" />\n        <span>Sales Confirmation</span>\n        <VaBadge v-if=\"totalConfirmations > 0\" :text=\"String(totalConfirmations)\" color=\"success\" />\n      </div>\n      <div class=\"flex items-center gap-3\">\n        <VaInput v-model=\"searchText\" placeholder=\"Search confirmations...\" class=\"w-64\" clearable>\n          <template #prependInner>\n            <VaIcon name=\"search\" />\n          </template>\n        </VaInput>\n        <VaSelect\n          v-model=\"seasonFilter\"\n          :options=\"seasonOptions\"\n          placeholder=\"All Seasons\"\n          class=\"w-48\"\n          clearable\n          @update:modelValue=\"loadConfirmations\"\n        />\n        <VaSelect\n          v-model=\"statusFilter\"\n          :options=\"statusFilterOptions\"\n          placeholder=\"All Statuses\"\n          class=\"w-40\"\n          clearable\n          @update:modelValue=\"loadConfirmations\"\n        />\n        <VaButton preset=\"secondary\" icon=\"refresh\" :loading=\"loading\" @click=\"loadConfirmations\"> Refresh </VaButton>\n      </div>\n    </VaCardTitle>\n\n    <VaCardContent>\n      <!-- Loading State -->\n      <div v-if=\"loading && confirmations.length === 0\" class=\"loading-container py-8\">\n        <VaProgressBar indeterminate />\n        <p class=\"text-center mt-4 text-gray-600\">Loading sales confirmations...</p>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"filteredConfirmations.length === 0\" class=\"empty-state py-12 text-center\">\n        <VaIcon name=\"check_circle_outline\" size=\"4rem\" color=\"secondary\" />\n        <h3 class=\"text-xl font-semibold text-gray-600 mt-4\">No Confirmations Found</h3>\n        <p class=\"text-gray-500 mt-2\">\n          {{ searchText ? `No results for \"${searchText}\"` : 'No confirmed or completed sales yet.' }}\n        </p>\n      </div>\n\n      <!-- Confirmations Table -->\n      <VaDataTable\n        v-else\n        :items=\"filteredConfirmations\"\n        :columns=\"columns\"\n        :loading=\"loading\"\n        hoverable\n        clickable\n        striped\n        @row:click=\"handleRowClick\"\n      >\n        <!-- Code Column -->\n        <template #cell(code)=\"{ value }\">\n          <span class=\"font-semibold text-primary\">{{ value }}</span>\n        </template>\n\n        <!-- Client Column -->\n        <template #cell(client)=\"{ row }\">\n          <div class=\"client-cell\">\n            <div class=\"font-semibold\">{{ row.source.client?.full_name || 'N/A' }}</div>\n            <div class=\"text-xs text-gray-500\">{{ row.source.client?.country || '' }}</div>\n          </div>\n        </template>\n\n        <!-- Season Column -->\n        <template #cell(season)=\"{ row }\">\n          <div class=\"text-sm\">{{ row.source.hunting_details?.season || 'N/A' }}</div>\n        </template>\n\n        <!-- Area Column -->\n        <template #cell(area)=\"{ row }\">\n          <div class=\"text-sm\">{{ row.source.hunting_details?.areas || 'N/A' }}</div>\n        </template>\n\n        <!-- Dates Column -->\n        <template #cell(dates)=\"{ row }\">\n          <div class=\"text-sm\">\n            <div>{{ formatDate(row.source.hunting_details?.start_date) }}</div>\n            <div class=\"text-xs text-gray-500\">to {{ formatDate(row.source.hunting_details?.end_date) }}</div>\n          </div>\n        </template>\n\n        <!-- Amount Column -->\n        <template #cell(amount)=\"{ row }\">\n          <div class=\"font-semibold text-success\">\n            {{ formatCurrency(row.source.total_amount) }}\n          </div>\n        </template>\n\n        <!-- Status Column -->\n        <template #cell(status)=\"{ row }\">\n          <VaChip :color=\"getStatusColor(row.source.stage)\" size=\"small\">\n            <VaIcon :name=\"getStatusIcon(row.source.stage)\" size=\"small\" class=\"mr-1\" />\n            {{ formatStatus(row.source.stage) }}\n          </VaChip>\n        </template>\n\n        <!-- Actions Column -->\n        <template #cell(actions)=\"{ row }\">\n          <div class=\"flex gap-2 justify-center\">\n            <VaButton preset=\"secondary\" size=\"small\" icon=\"visibility\" @click.stop=\"viewDetails(row.source)\">\n              View\n            </VaButton>\n            <VaButton\n              v-if=\"row.source.stage === 'confirmed'\"\n              preset=\"primary\"\n              size=\"small\"\n              icon=\"task_alt\"\n              @click.stop=\"markAsCompleted(row.source)\"\n            >\n              Complete\n            </VaButton>\n          </div>\n        </template>\n      </VaDataTable>\n\n      <!-- Details Modal -->\n      <VaModal v-model=\"showDetailsModal\" size=\"large\" :hide-default-actions=\"true\" title=\"Confirmation Details\">\n        <ProposalView v-if=\"currentProposal\" :proposal=\"currentProposal\" @statusChange=\"handleStatusChange\" />\n        <div class=\"flex justify-end mt-4 gap-2\">\n          <VaButton preset=\"secondary\" @click=\"showDetailsModal = false\">Close</VaButton>\n        </div>\n      </VaModal>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useProposalStore } from '../../../stores/proposal-store'\nimport ProposalView from './components/ProposalView.vue'\nimport { useToast } from 'vuestic-ui'\nimport axios from 'axios'\n\nexport default defineComponent({\n  name: 'SalesConfirmationList',\n  components: {\n    ProposalView,\n  },\n  setup() {\n    const { init } = useToast()\n    return { init }\n  },\n  data() {\n    return {\n      searchText: '',\n      seasonFilter: null as number | null,\n      statusFilter: null as string | null,\n      seasonOptions: [] as { value: number; text: string }[],\n      statusFilterOptions: [\n        { value: 'confirmed', text: 'Confirmed' },\n        { value: 'completed', text: 'Completed' },\n      ],\n      confirmations: [] as any[],\n      showDetailsModal: false,\n      columns: [\n        { key: 'code', label: 'CODE', sortable: true, width: '120px' },\n        { key: 'client', label: 'CLIENT', sortable: true },\n        { key: 'season', label: 'SEASON', sortable: true },\n        { key: 'area', label: 'AREA', sortable: true },\n        { key: 'dates', label: 'DATES', sortable: true },\n        { key: 'amount', label: 'AMOUNT', sortable: true, width: '120px' },\n        { key: 'status', label: 'STATUS', sortable: true, width: '130px' },\n        { key: 'actions', label: 'ACTIONS', width: '180px' },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useProposalStore, ['pipeline', 'pipelineCounts', 'currentProposal', 'loading']),\n\n    // Combine confirmed and completed items\n    allConfirmations(): any[] {\n      return [...(this.pipeline.confirmed || []), ...(this.pipeline.completed || [])]\n    },\n\n    // Apply search filter\n    filteredConfirmations(): any[] {\n      let items = this.allConfirmations\n\n      if (this.searchText) {\n        const search = this.searchText.toLowerCase()\n        items = items.filter((item: any) => {\n          return (\n            item.code?.toLowerCase().includes(search) ||\n            item.client?.full_name?.toLowerCase().includes(search) ||\n            item.hunting_details?.areas?.toLowerCase().includes(search) ||\n            item.hunting_details?.season?.toLowerCase().includes(search)\n          )\n        })\n      }\n\n      if (this.statusFilter) {\n        items = items.filter((item: any) => item.stage === this.statusFilter)\n      }\n\n      return items\n    },\n\n    totalConfirmations(): number {\n      return (this.pipelineCounts?.confirmed || 0) + (this.pipelineCounts?.completed || 0)\n    },\n  },\n  mounted() {\n    this.loadConfirmations()\n    this.loadSeasons()\n  },\n  methods: {\n    ...mapActions(useProposalStore, [\n      'fetchPipeline',\n      'fetchProposalById',\n      'updateProposalStatus',\n      'clearCurrentProposal',\n    ]),\n\n    async loadConfirmations() {\n      try {\n        await this.fetchPipeline(undefined, this.seasonFilter || undefined)\n      } catch (error) {\n        this.init({\n          message: 'Failed to load confirmations',\n          color: 'danger',\n        })\n      }\n    },\n\n    async loadSeasons() {\n      try {\n        const url = `${import.meta.env.VITE_APP_BASE_URL}settings/seasons`\n        const response = await axios.get(url)\n        if (response.data) {\n          const seasons = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.seasonOptions = seasons.map((s: any) => ({\n            value: s.id,\n            text: s.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading seasons:', error)\n      }\n    },\n\n    handleRowClick(event: any) {\n      this.viewDetails(event.item)\n    },\n\n    async viewDetails(item: any) {\n      try {\n        const proposalId = item.proposal_id || item.confirmation_id\n        if (proposalId) {\n          await this.fetchProposalById(proposalId)\n          this.showDetailsModal = true\n        } else {\n          this.init({\n            message: 'No details found for this item',\n            color: 'warning',\n          })\n        }\n      } catch (error) {\n        this.init({\n          message: 'Failed to load details',\n          color: 'danger',\n        })\n      }\n    },\n\n    async markAsCompleted(item: any) {\n      try {\n        const proposalId = item.proposal_id || item.confirmation_id\n        if (proposalId) {\n          await this.updateProposalStatus(proposalId, 'completed')\n          this.init({\n            message: 'Marked as completed successfully',\n            color: 'success',\n          })\n          this.loadConfirmations()\n        }\n      } catch (error) {\n        this.init({\n          message: 'Failed to update status',\n          color: 'danger',\n        })\n      }\n    },\n\n    async handleStatusChange(data: { id: number; status: string }) {\n      try {\n        await this.updateProposalStatus(data.id, data.status)\n        this.init({\n          message: `Status changed to ${data.status}`,\n          color: 'success',\n        })\n        await this.fetchProposalById(data.id)\n        this.loadConfirmations()\n      } catch (error) {\n        this.init({\n          message: 'Failed to update status',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateStr: string | undefined): string {\n      if (!dateStr) return 'N/A'\n      try {\n        const date = new Date(dateStr)\n        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n      } catch {\n        return dateStr\n      }\n    },\n\n    formatCurrency(amount: number | null | undefined): string {\n      if (!amount) return '$0'\n      return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n      }).format(amount)\n    },\n\n    formatStatus(stage: string): string {\n      if (!stage) return 'Unknown'\n      return stage.charAt(0).toUpperCase() + stage.slice(1).replace(/_/g, ' ')\n    },\n\n    getStatusColor(stage: string): string {\n      switch (stage) {\n        case 'confirmed':\n          return 'success'\n        case 'completed':\n          return 'primary'\n        default:\n          return 'secondary'\n      }\n    },\n\n    getStatusIcon(stage: string): string {\n      switch (stage) {\n        case 'confirmed':\n          return 'check_circle'\n        case 'completed':\n          return 'task_alt'\n        default:\n          return 'help'\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.client-cell {\n  line-height: 1.3;\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardTitle class=\"flex justify-between items-center\">\n      <div class=\"flex items-center gap-2\">\n        <VaIcon name=\"check_circle\" color=\"success\" />\n        <span>Sales Confirmation</span>\n        <VaBadge v-if=\"totalConfirmations > 0\" :text=\"String(totalConfirmations)\" color=\"success\" />\n      </div>\n      <div class=\"flex items-center gap-3\">\n        <VaInput v-model=\"searchText\" placeholder=\"Search confirmations...\" class=\"w-64\" clearable>\n          <template #prependInner>\n            <VaIcon name=\"search\" />\n          </template>\n        </VaInput>\n        <VaSelect\n          v-model=\"seasonFilter\"\n          :options=\"seasonOptions\"\n          placeholder=\"All Seasons\"\n          class=\"w-48\"\n          clearable\n          @update:modelValue=\"loadConfirmations\"\n        />\n        <VaSelect\n          v-model=\"statusFilter\"\n          :options=\"statusFilterOptions\"\n          placeholder=\"All Statuses\"\n          class=\"w-40\"\n          clearable\n          @update:modelValue=\"loadConfirmations\"\n        />\n        <VaButton preset=\"secondary\" icon=\"refresh\" :loading=\"loading\" @click=\"loadConfirmations\"> Refresh </VaButton>\n      </div>\n    </VaCardTitle>\n\n    <VaCardContent>\n      <!-- Loading State -->\n      <div v-if=\"loading && confirmations.length === 0\" class=\"loading-container py-8\">\n        <VaProgressBar indeterminate />\n        <p class=\"text-center mt-4 text-gray-600\">Loading sales confirmations...</p>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"filteredConfirmations.length === 0\" class=\"empty-state py-12 text-center\">\n        <VaIcon name=\"check_circle_outline\" size=\"4rem\" color=\"secondary\" />\n        <h3 class=\"text-xl font-semibold text-gray-600 mt-4\">No Confirmations Found</h3>\n        <p class=\"text-gray-500 mt-2\">\n          {{ searchText ? `No results for \"${searchText}\"` : 'No confirmed or completed sales yet.' }}\n        </p>\n      </div>\n\n      <!-- Confirmations Table -->\n      <VaDataTable\n        v-else\n        :items=\"filteredConfirmations\"\n        :columns=\"columns\"\n        :loading=\"loading\"\n        hoverable\n        clickable\n        striped\n        @row:click=\"handleRowClick\"\n      >\n        <!-- Code Column -->\n        <template #cell(code)=\"{ value }\">\n          <span class=\"font-semibold text-primary\">{{ value }}</span>\n        </template>\n\n        <!-- Client Column -->\n        <template #cell(client)=\"{ row }\">\n          <div class=\"client-cell\">\n            <div class=\"font-semibold\">{{ row.source.client?.full_name || 'N/A' }}</div>\n            <div class=\"text-xs text-gray-500\">{{ row.source.client?.country || '' }}</div>\n          </div>\n        </template>\n\n        <!-- Season Column -->\n        <template #cell(season)=\"{ row }\">\n          <div class=\"text-sm\">{{ row.source.hunting_details?.season || 'N/A' }}</div>\n        </template>\n\n        <!-- Area Column -->\n        <template #cell(area)=\"{ row }\">\n          <div class=\"text-sm\">{{ row.source.hunting_details?.areas || 'N/A' }}</div>\n        </template>\n\n        <!-- Dates Column -->\n        <template #cell(dates)=\"{ row }\">\n          <div class=\"text-sm\">\n            <div>{{ formatDate(row.source.hunting_details?.start_date) }}</div>\n            <div class=\"text-xs text-gray-500\">to {{ formatDate(row.source.hunting_details?.end_date) }}</div>\n          </div>\n        </template>\n\n        <!-- Amount Column -->\n        <template #cell(amount)=\"{ row }\">\n          <div class=\"font-semibold text-success\">\n            {{ formatCurrency(row.source.total_amount) }}\n          </div>\n        </template>\n\n        <!-- Status Column -->\n        <template #cell(status)=\"{ row }\">\n          <VaChip :color=\"getStatusColor(row.source.stage)\" size=\"small\">\n            <VaIcon :name=\"getStatusIcon(row.source.stage)\" size=\"small\" class=\"mr-1\" />\n            {{ formatStatus(row.source.stage) }}\n          </VaChip>\n        </template>\n\n        <!-- Actions Column -->\n        <template #cell(actions)=\"{ row }\">\n          <div class=\"flex gap-2 justify-center\">\n            <VaButton preset=\"secondary\" size=\"small\" icon=\"visibility\" @click.stop=\"viewDetails(row.source)\">\n              View\n            </VaButton>\n            <VaButton\n              v-if=\"row.source.stage === 'confirmed'\"\n              preset=\"primary\"\n              size=\"small\"\n              icon=\"task_alt\"\n              @click.stop=\"markAsCompleted(row.source)\"\n            >\n              Complete\n            </VaButton>\n          </div>\n        </template>\n      </VaDataTable>\n\n      <!-- Details Modal -->\n      <VaModal v-model=\"showDetailsModal\" size=\"large\" :hide-default-actions=\"true\" title=\"Confirmation Details\">\n        <ProposalView v-if=\"currentProposal\" :proposal=\"currentProposal\" @statusChange=\"handleStatusChange\" />\n        <div class=\"flex justify-end mt-4 gap-2\">\n          <VaButton preset=\"secondary\" @click=\"showDetailsModal = false\">Close</VaButton>\n        </div>\n      </VaModal>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useProposalStore } from '../../../stores/proposal-store'\nimport ProposalView from './components/ProposalView.vue'\nimport { useToast } from 'vuestic-ui'\nimport axios from 'axios'\n\nexport default defineComponent({\n  name: 'SalesConfirmationList',\n  components: {\n    ProposalView,\n  },\n  setup() {\n    const { init } = useToast()\n    return { init }\n  },\n  data() {\n    return {\n      searchText: '',\n      seasonFilter: null as number | null,\n      statusFilter: null as string | null,\n      seasonOptions: [] as { value: number; text: string }[],\n      statusFilterOptions: [\n        { value: 'confirmed', text: 'Confirmed' },\n        { value: 'completed', text: 'Completed' },\n      ],\n      confirmations: [] as any[],\n      showDetailsModal: false,\n      columns: [\n        { key: 'code', label: 'CODE', sortable: true, width: '120px' },\n        { key: 'client', label: 'CLIENT', sortable: true },\n        { key: 'season', label: 'SEASON', sortable: true },\n        { key: 'area', label: 'AREA', sortable: true },\n        { key: 'dates', label: 'DATES', sortable: true },\n        { key: 'amount', label: 'AMOUNT', sortable: true, width: '120px' },\n        { key: 'status', label: 'STATUS', sortable: true, width: '130px' },\n        { key: 'actions', label: 'ACTIONS', width: '180px' },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useProposalStore, ['pipeline', 'pipelineCounts', 'currentProposal', 'loading']),\n\n    // Combine confirmed and completed items\n    allConfirmations(): any[] {\n      return [...(this.pipeline.confirmed || []), ...(this.pipeline.completed || [])]\n    },\n\n    // Apply search filter\n    filteredConfirmations(): any[] {\n      let items = this.allConfirmations\n\n      if (this.searchText) {\n        const search = this.searchText.toLowerCase()\n        items = items.filter((item: any) => {\n          return (\n            item.code?.toLowerCase().includes(search) ||\n            item.client?.full_name?.toLowerCase().includes(search) ||\n            item.hunting_details?.areas?.toLowerCase().includes(search) ||\n            item.hunting_details?.season?.toLowerCase().includes(search)\n          )\n        })\n      }\n\n      if (this.statusFilter) {\n        items = items.filter((item: any) => item.stage === this.statusFilter)\n      }\n\n      return items\n    },\n\n    totalConfirmations(): number {\n      return (this.pipelineCounts?.confirmed || 0) + (this.pipelineCounts?.completed || 0)\n    },\n  },\n  mounted() {\n    this.loadConfirmations()\n    this.loadSeasons()\n  },\n  methods: {\n    ...mapActions(useProposalStore, [\n      'fetchPipeline',\n      'fetchProposalById',\n      'updateProposalStatus',\n      'clearCurrentProposal',\n    ]),\n\n    async loadConfirmations() {\n      try {\n        await this.fetchPipeline(undefined, this.seasonFilter || undefined)\n      } catch (error) {\n        this.init({\n          message: 'Failed to load confirmations',\n          color: 'danger',\n        })\n      }\n    },\n\n    async loadSeasons() {\n      try {\n        const url = `${import.meta.env.VITE_APP_BASE_URL}settings/seasons`\n        const response = await axios.get(url)\n        if (response.data) {\n          const seasons = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.seasonOptions = seasons.map((s: any) => ({\n            value: s.id,\n            text: s.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading seasons:', error)\n      }\n    },\n\n    handleRowClick(event: any) {\n      this.viewDetails(event.item)\n    },\n\n    async viewDetails(item: any) {\n      try {\n        const proposalId = item.proposal_id || item.confirmation_id\n        if (proposalId) {\n          await this.fetchProposalById(proposalId)\n          this.showDetailsModal = true\n        } else {\n          this.init({\n            message: 'No details found for this item',\n            color: 'warning',\n          })\n        }\n      } catch (error) {\n        this.init({\n          message: 'Failed to load details',\n          color: 'danger',\n        })\n      }\n    },\n\n    async markAsCompleted(item: any) {\n      try {\n        const proposalId = item.proposal_id || item.confirmation_id\n        if (proposalId) {\n          await this.updateProposalStatus(proposalId, 'completed')\n          this.init({\n            message: 'Marked as completed successfully',\n            color: 'success',\n          })\n          this.loadConfirmations()\n        }\n      } catch (error) {\n        this.init({\n          message: 'Failed to update status',\n          color: 'danger',\n        })\n      }\n    },\n\n    async handleStatusChange(data: { id: number; status: string }) {\n      try {\n        await this.updateProposalStatus(data.id, data.status)\n        this.init({\n          message: `Status changed to ${data.status}`,\n          color: 'success',\n        })\n        await this.fetchProposalById(data.id)\n        this.loadConfirmations()\n      } catch (error) {\n        this.init({\n          message: 'Failed to update status',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateStr: string | undefined): string {\n      if (!dateStr) return 'N/A'\n      try {\n        const date = new Date(dateStr)\n        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n      } catch {\n        return dateStr\n      }\n    },\n\n    formatCurrency(amount: number | null | undefined): string {\n      if (!amount) return '$0'\n      return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n      }).format(amount)\n    },\n\n    formatStatus(stage: string): string {\n      if (!stage) return 'Unknown'\n      return stage.charAt(0).toUpperCase() + stage.slice(1).replace(/_/g, ' ')\n    },\n\n    getStatusColor(stage: string): string {\n      switch (stage) {\n        case 'confirmed':\n          return 'success'\n        case 'completed':\n          return 'primary'\n        default:\n          return 'secondary'\n      }\n    },\n\n    getStatusIcon(stage: string): string {\n      switch (stage) {\n        case 'confirmed':\n          return 'check_circle'\n        case 'completed':\n          return 'task_alt'\n        default:\n          return 'help'\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.client-cell {\n  line-height: 1.3;\n}\n</style>\n"],"names":["_sfc_main","defineComponent","ProposalView","init","useToast","mapState","useProposalStore","items","search","item","_a","_c","_b","_e","_d","_g","_f","mapActions","response","axios","seasons","s","error","event","proposalId","data","dateStr","amount","stage","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_createBlock","_component_VaCard","_createVNode","_component_VaCardTitle","_createElementVNode","_component_VaIcon","_cache","_ctx","_component_VaBadge","_createCommentVNode","_component_VaInput","$event","_withCtx","_component_VaSelect","_component_VaButton","_createTextVNode","_component_VaCardContent","_openBlock","_createElementBlock","_hoisted_3","_component_VaProgressBar","_hoisted_4","_toDisplayString","_component_VaDataTable","value","row","_component_VaChip","_withModifiers","_component_VaModal","_component_ProposalView"],"mappings":"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"}