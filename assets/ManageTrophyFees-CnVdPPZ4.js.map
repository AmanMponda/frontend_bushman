{"version":3,"file":"ManageTrophyFees-CnVdPPZ4.js","sources":["../../src/stores/trophy-fees-store.ts","../../src/pages/module-settings/ManageTrophyFees.vue","../../src/pages/module-settings/ManageTrophyFees.vue"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\n\r\nexport const useTrophyFeesStore = defineStore('trophyFees', {\r\n  state: () => {\r\n    return {\r\n      trophyFees: [] as any[],\r\n      loading: false,\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    async fetchTrophyFees(params: any = {}) {\r\n      this.loading = true\r\n      const url = import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_TROPHY_FEES_URL\r\n\r\n      const config = {\r\n        method: 'get',\r\n        url: url,\r\n        params: params,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n\r\n      try {\r\n        const response = await axios.request(config)\r\n        this.trophyFees = response.data.data || response.data\r\n        return response\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async createTrophyFee(payload: any) {\r\n      const url = import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_TROPHY_FEES_URL\r\n\r\n      const config = {\r\n        method: 'post',\r\n        url: url,\r\n        data: payload,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n\r\n      const response = await axios.request(config)\r\n      return response\r\n    },\r\n\r\n    async updateTrophyFee(id: number, payload: any) {\r\n      const url = `${import.meta.env.VITE_APP_BASE_URL}${import.meta.env.VITE_APP_TROPHY_FEES_URL}${id}/`\r\n\r\n      const config = {\r\n        method: 'put',\r\n        url: url,\r\n        data: payload,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n\r\n      const response = await axios.request(config)\r\n      return response\r\n    },\r\n\r\n    async deleteTrophyFeeById(id: number) {\r\n      const url = `${import.meta.env.VITE_APP_BASE_URL}${import.meta.env.VITE_APP_TROPHY_FEES_URL}${id}/`\r\n\r\n      const config = {\r\n        method: 'delete',\r\n        url: url,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n\r\n      const response = await axios.request(config)\r\n      return response\r\n    },\r\n  },\r\n})\r\n","<template>\r\n  <VaCard class=\"p-6\">\r\n    <!-- Header Section -->\r\n    <div class=\"flex flex-col md:flex-row gap-4 mb-6 justify-between items-center\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-semibold\" v-if=\"showTrophyFeesList\">Trophy Fees Management</h2>\r\n        <h2 class=\"text-2xl font-semibold\" v-else>{{ editMode ? 'Edit Trophy Fee' : 'Add New Trophy Fee' }}</h2>\r\n        <p class=\"text-secondary text-sm mt-1\" v-if=\"showTrophyFeesList\">\r\n          Manage trophy fees for different species and hunting areas\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"flex gap-2\">\r\n        <VaButton\r\n          v-if=\"!showTrophyFeesList\"\r\n          icon=\"arrow_back\"\r\n          preset=\"secondary\"\r\n          @click=\"toggleFormAndList()\"\r\n        >\r\n          Back to List\r\n        </VaButton>\r\n        <VaButton\r\n          v-if=\"showTrophyFeesList\"\r\n          color=\"primary\"\r\n          icon=\"add\"\r\n          @click=\"toggleFormAndList()\"\r\n        >\r\n          Add Trophy Fee\r\n        </VaButton>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Statistics Cards -->\r\n    <div v-if=\"showTrophyFeesList && !loading\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"military_tech\" size=\"large\" color=\"primary\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ items.length }}</div>\r\n            <div class=\"text-sm text-secondary\">Total Trophy Fees</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n      \r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"pets\" size=\"large\" color=\"success\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ uniqueSpeciesCount }}</div>\r\n            <div class=\"text-sm text-secondary\">Unique Species</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n      \r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"location_on\" size=\"large\" color=\"warning\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ uniqueAreasCount }}</div>\r\n            <div class=\"text-sm text-secondary\">Hunting Areas</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n    </div>\r\n\r\n    <!-- Table View -->\r\n    <ModuleTable\r\n      v-if=\"showTrophyFeesList\"\r\n      :items=\"items\"\r\n      :columns=\"columns\"\r\n      :loading=\"loading\"\r\n      @onView=\"editTrophyFee\"\r\n      @onDelete=\"deleteTrophyFee\"\r\n    >\r\n      <template #filter-elements-and-download-btn>\r\n        <VaCard stripe stripe-color=\"primary\" class=\"mb-4\">\r\n          <VaCardContent>\r\n            <div class=\"flex items-center gap-2 mb-3\">\r\n              <VaIcon name=\"filter_list\" />\r\n              <span class=\"font-semibold\">Filter Trophy Fees</span>\r\n            </div>\r\n            <div class=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <VaSelect\r\n                v-model=\"selectedSpecies\"\r\n                :options=\"speciesOptions\"\r\n                label=\"Filter by Species\"\r\n                placeholder=\"All Species\"\r\n                clearable\r\n                searchable\r\n                @update:modelValue=\"getTrophyFees\"\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"pets\" size=\"small\" />\r\n                </template>\r\n              </VaSelect>\r\n              <VaSelect\r\n                v-model=\"selectedArea\"\r\n                :options=\"areaOptions\"\r\n                label=\"Filter by Hunting Area\"\r\n                placeholder=\"All Areas\"\r\n                clearable\r\n                searchable\r\n                @update:modelValue=\"getTrophyFees\"\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"location_on\" size=\"small\" />\r\n                </template>\r\n              </VaSelect>\r\n              <div class=\"flex items-end\">\r\n                <VaButton\r\n                  v-if=\"selectedSpecies || selectedArea\"\r\n                  preset=\"plain\"\r\n                  icon=\"clear\"\r\n                  @click=\"clearFilters\"\r\n                >\r\n                  Clear Filters\r\n                </VaButton>\r\n              </div>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n      </template>\r\n    </ModuleTable>\r\n\r\n    <!-- Form View -->\r\n    <div v-else>\r\n      <VaForm ref=\"trophyFeeFormRef\">\r\n        <VaCard stripe stripe-color=\"primary\" class=\"mb-4\">\r\n          <VaCardTitle>Species & Area Information</VaCardTitle>\r\n          <VaCardContent>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <VaSelect\r\n                v-model=\"trophyFeeForm.species\"\r\n                :options=\"speciesOptions\"\r\n                label=\"Species\"\r\n                placeholder=\"Select a species\"\r\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\r\n                searchable\r\n                highlight-matched-text\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"pets\" />\r\n                </template>\r\n              </VaSelect>\r\n\r\n              <VaSelect\r\n                v-model=\"trophyFeeForm.area\"\r\n                :options=\"areaOptions\"\r\n                label=\"Hunting Area\"\r\n                placeholder=\"Select a hunting area\"\r\n                :rules=\"[(v: any) => !!v || 'Hunting area is required']\"\r\n                searchable\r\n                highlight-matched-text\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"location_on\" />\r\n                </template>\r\n              </VaSelect>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n\r\n        <VaCard stripe stripe-color=\"success\" class=\"mb-4\">\r\n          <VaCardTitle>Pricing Details</VaCardTitle>\r\n          <VaCardContent>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <VaInput\r\n                v-model=\"trophyFeeForm.sequence_order\"\r\n                label=\"Sequence Order\"\r\n                type=\"number\"\r\n                min=\"1\"\r\n                placeholder=\"Enter sequence number\"\r\n                :rules=\"[(v: any) => v > 0 || 'Sequence must be greater than 0']\"\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"format_list_numbered\" />\r\n                </template>\r\n                <template #appendInner>\r\n                  <VaPopover\r\n                    message=\"Sequence order represents the trophy number (1st, 2nd, 3rd, etc.). Different sequences can have different prices for the same species.\"\r\n                    placement=\"top\"\r\n                  >\r\n                    <VaIcon name=\"info\" size=\"small\" color=\"info\" />\r\n                  </VaPopover>\r\n                </template>\r\n              </VaInput>\r\n\r\n              <VaInput\r\n                v-model=\"trophyFeeForm.price_usd\"\r\n                label=\"Price (USD)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                placeholder=\"0.00\"\r\n                :rules=\"[(v: any) => v > 0 || 'Price must be greater than 0']\"\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"attach_money\" />\r\n                </template>\r\n              </VaInput>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n\r\n        <!-- Action Buttons -->\r\n        <div class=\"flex gap-3 justify-end\">\r\n          <VaButton\r\n            v-if=\"editMode\"\r\n            preset=\"secondary\"\r\n            icon=\"close\"\r\n            @click=\"cancelEdit\"\r\n          >\r\n            Cancel\r\n          </VaButton>\r\n          <VaButton\r\n            :disabled=\"!isValidTrophyFeeForm\"\r\n            color=\"primary\"\r\n            icon=\"save\"\r\n            :loading=\"saving\"\r\n            @click=\"validateTrophyFeeForm() && saveTrophyFee()\"\r\n          >\r\n            {{ editMode ? 'Update Trophy Fee' : 'Save Trophy Fee' }}\r\n          </VaButton>\r\n        </div>\r\n      </VaForm>\r\n    </div>\r\n  </VaCard>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, reactive } from 'vue'\r\nimport { mapActions } from 'pinia'\r\nimport { useToast, useForm } from 'vuestic-ui'\r\nimport handleErrors from '../../utils/errorHandler'\r\nimport ModuleTable from './components/ModuleTable.vue'\r\nimport { useTrophyFeesStore } from '../../stores/trophy-fees-store'\r\nimport { useQuotaStore } from '../../stores/quota-store'\r\n\r\nexport default defineComponent({\r\n  name: 'ManageTrophyFeesPage',\r\n  components: {\r\n    ModuleTable,\r\n  },\r\n\r\n  setup() {\r\n    const trophyFeeFormRef = ref(null) as any\r\n\r\n    const {\r\n      isValid: isValidTrophyFeeForm,\r\n      validate: validateTrophyFeeForm,\r\n      resetValidation: resetValidationTrophyFeeForm,\r\n      reset: resetTrophyFeeForm,\r\n    } = useForm(trophyFeeFormRef)\r\n\r\n    const columns = [\r\n      { key: 'id', label: 'ID', sortable: true, width: 80 },\r\n      { key: 'species_name', label: 'Species Name', sortable: true },\r\n      { key: 'area_name', label: 'Hunting Area', sortable: true },\r\n      { key: 'sequence_order', label: 'Sequence Order', sortable: true, width: 150 },\r\n      { key: 'price_usd', label: 'Price (USD)', sortable: true, width: 130 },\r\n      { key: 'actions', label: 'Actions', width: 120 },\r\n    ]\r\n\r\n    return {\r\n      isValidTrophyFeeForm,\r\n      validateTrophyFeeForm,\r\n      resetValidationTrophyFeeForm,\r\n      resetTrophyFeeForm,\r\n      trophyFeeFormRef,\r\n      columns,\r\n    }\r\n  },\r\n\r\n  data() {\r\n    const items: any[] = []\r\n\r\n    const trophyFeeForm = reactive({\r\n      id: null as any,\r\n      species: null as any,\r\n      area: null as any,\r\n      sequence_order: 1,\r\n      price_usd: null as any,\r\n    })\r\n\r\n    return {\r\n      items,\r\n      trophyFeeForm,\r\n      showTrophyFeesList: true,\r\n      loading: false,\r\n      saving: false,\r\n      editMode: false,\r\n      toast: useToast(),\r\n      speciesOptions: [] as any[],\r\n      areaOptions: [] as any[],\r\n      selectedSpecies: null as any,\r\n      selectedArea: null as any,\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTrophyFees()\r\n    this.loadSpecies()\r\n    this.loadAreas()\r\n  },\r\n\r\n  computed: {\r\n    uniqueSpeciesCount() {\r\n      const speciesIds = new Set(this.items.map((item: any) => item._raw?.species_id))\r\n      return speciesIds.size\r\n    },\r\n    uniqueAreasCount() {\r\n      const areaIds = new Set(this.items.map((item: any) => item._raw?.area_id))\r\n      return areaIds.size\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(useTrophyFeesStore, [\r\n      'fetchTrophyFees',\r\n      'createTrophyFee',\r\n      'updateTrophyFee',\r\n      'deleteTrophyFeeById',\r\n    ]),\r\n    ...mapActions(useQuotaStore, ['getSpeciesList', 'getAreaList']),\r\n\r\n    async getTrophyFees() {\r\n      this.loading = true\r\n      try {\r\n        const params: any = {}\r\n        if (this.selectedSpecies) {\r\n          params.species_id = this.selectedSpecies.value\r\n        }\r\n        if (this.selectedArea) {\r\n          params.area_id = this.selectedArea.value\r\n        }\r\n\r\n        const response = await this.fetchTrophyFees(params)\r\n\r\n        if (response.status === 200) {\r\n          const data = response.data.data || response.data\r\n          this.items = data.map((item: any) => ({\r\n            id: item.id,\r\n            species_name: item.species?.name || 'N/A',\r\n            area_name: item.area?.name || 'N/A',\r\n            sequence_order: this.getSequenceLabel(item.sequence_order),\r\n            price_usd: `$${parseFloat(item.price_usd).toFixed(2)}`,\r\n            _raw: item,\r\n          }))\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to load trophy fees',\r\n          color: 'danger',\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async loadSpecies() {\r\n      try {\r\n        const response = await this.getSpeciesList()\r\n        this.speciesOptions = response.data.map((item: any) => ({\r\n          value: item.id,\r\n          text: item.name,\r\n        }))\r\n      } catch (error) {\r\n        console.error('Failed to load species', error)\r\n      }\r\n    },\r\n\r\n    async loadAreas() {\r\n      try {\r\n        const response = await this.getAreaList()\r\n        this.areaOptions = response.data.map((item: any) => ({\r\n          value: item.id,\r\n          text: item.name,\r\n        }))\r\n      } catch (error) {\r\n        console.error('Failed to load areas', error)\r\n      }\r\n    },\r\n\r\n    clearFilters() {\r\n      this.selectedSpecies = null\r\n      this.selectedArea = null\r\n      this.getTrophyFees()\r\n    },\r\n\r\n    getSequenceLabel(sequence: number) {\r\n      const suffixes = ['th', 'st', 'nd', 'rd']\r\n      const value = sequence % 100\r\n      return sequence + (suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0])\r\n    },\r\n\r\n    toggleFormAndList() {\r\n      this.showTrophyFeesList = !this.showTrophyFeesList\r\n      if (this.showTrophyFeesList) {\r\n        this.resetForm()\r\n      }\r\n    },\r\n\r\n    editTrophyFee(rowData: any) {\r\n      this.editMode = true\r\n      this.showTrophyFeesList = false\r\n\r\n      const raw = rowData._raw\r\n      this.trophyFeeForm.id = raw.id\r\n      this.trophyFeeForm.species = this.speciesOptions.find((s: any) => s.value === raw.species?.id)\r\n      this.trophyFeeForm.area = this.areaOptions.find((a: any) => a.value === raw.area?.id)\r\n      this.trophyFeeForm.sequence_order = raw.sequence_order\r\n      this.trophyFeeForm.price_usd = raw.price_usd\r\n    },\r\n\r\n    async saveTrophyFee() {\r\n      this.saving = true\r\n      try {\r\n        const payload = {\r\n          species_id: this.trophyFeeForm.species.value,\r\n          area_id: this.trophyFeeForm.area.value,\r\n          sequence_order: this.trophyFeeForm.sequence_order,\r\n          price_usd: this.trophyFeeForm.price_usd,\r\n        }\r\n\r\n        let response\r\n        if (this.editMode) {\r\n          response = await this.updateTrophyFee(this.trophyFeeForm.id, payload)\r\n        } else {\r\n          response = await this.createTrophyFee(payload)\r\n        }\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          this.toast.init({\r\n            message: this.editMode ? 'Trophy fee updated successfully' : 'Trophy fee created successfully',\r\n            color: 'success',\r\n          })\r\n          this.toggleFormAndList()\r\n          this.getTrophyFees()\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to save trophy fee',\r\n          color: 'danger',\r\n        })\r\n      } finally {\r\n        this.saving = false\r\n      }\r\n    },\r\n\r\n    async deleteTrophyFee(rowData: any) {\r\n      if (!confirm('Are you sure you want to delete this trophy fee?')) {\r\n        return\r\n      }\r\n\r\n      try {\r\n        const response = await this.deleteTrophyFeeById(rowData.id)\r\n        if (response.status === 200 || response.status === 204) {\r\n          this.toast.init({\r\n            message: 'Trophy fee deleted successfully',\r\n            color: 'success',\r\n          })\r\n          this.getTrophyFees()\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to delete trophy fee',\r\n          color: 'danger',\r\n        })\r\n      }\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.resetForm()\r\n      this.toggleFormAndList()\r\n    },\r\n\r\n    resetForm() {\r\n      this.editMode = false\r\n      this.trophyFeeForm.id = null\r\n      this.trophyFeeForm.species = null\r\n      this.trophyFeeForm.area = null\r\n      this.trophyFeeForm.sequence_order = 1\r\n      this.trophyFeeForm.price_usd = null\r\n      this.resetValidationTrophyFeeForm()\r\n    },\r\n  },\r\n})\r\n</script>\r\n","<template>\r\n  <VaCard class=\"p-6\">\r\n    <!-- Header Section -->\r\n    <div class=\"flex flex-col md:flex-row gap-4 mb-6 justify-between items-center\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-semibold\" v-if=\"showTrophyFeesList\">Trophy Fees Management</h2>\r\n        <h2 class=\"text-2xl font-semibold\" v-else>{{ editMode ? 'Edit Trophy Fee' : 'Add New Trophy Fee' }}</h2>\r\n        <p class=\"text-secondary text-sm mt-1\" v-if=\"showTrophyFeesList\">\r\n          Manage trophy fees for different species and hunting areas\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"flex gap-2\">\r\n        <VaButton\r\n          v-if=\"!showTrophyFeesList\"\r\n          icon=\"arrow_back\"\r\n          preset=\"secondary\"\r\n          @click=\"toggleFormAndList()\"\r\n        >\r\n          Back to List\r\n        </VaButton>\r\n        <VaButton\r\n          v-if=\"showTrophyFeesList\"\r\n          color=\"primary\"\r\n          icon=\"add\"\r\n          @click=\"toggleFormAndList()\"\r\n        >\r\n          Add Trophy Fee\r\n        </VaButton>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Statistics Cards -->\r\n    <div v-if=\"showTrophyFeesList && !loading\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"military_tech\" size=\"large\" color=\"primary\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ items.length }}</div>\r\n            <div class=\"text-sm text-secondary\">Total Trophy Fees</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n      \r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"pets\" size=\"large\" color=\"success\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ uniqueSpeciesCount }}</div>\r\n            <div class=\"text-sm text-secondary\">Unique Species</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n      \r\n      <VaCard stripe>\r\n        <VaCardContent class=\"flex items-center gap-4\">\r\n          <VaIcon name=\"location_on\" size=\"large\" color=\"warning\" />\r\n          <div>\r\n            <div class=\"text-2xl font-bold\">{{ uniqueAreasCount }}</div>\r\n            <div class=\"text-sm text-secondary\">Hunting Areas</div>\r\n          </div>\r\n        </VaCardContent>\r\n      </VaCard>\r\n    </div>\r\n\r\n    <!-- Table View -->\r\n    <ModuleTable\r\n      v-if=\"showTrophyFeesList\"\r\n      :items=\"items\"\r\n      :columns=\"columns\"\r\n      :loading=\"loading\"\r\n      @onView=\"editTrophyFee\"\r\n      @onDelete=\"deleteTrophyFee\"\r\n    >\r\n      <template #filter-elements-and-download-btn>\r\n        <VaCard stripe stripe-color=\"primary\" class=\"mb-4\">\r\n          <VaCardContent>\r\n            <div class=\"flex items-center gap-2 mb-3\">\r\n              <VaIcon name=\"filter_list\" />\r\n              <span class=\"font-semibold\">Filter Trophy Fees</span>\r\n            </div>\r\n            <div class=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <VaSelect\r\n                v-model=\"selectedSpecies\"\r\n                :options=\"speciesOptions\"\r\n                label=\"Filter by Species\"\r\n                placeholder=\"All Species\"\r\n                clearable\r\n                searchable\r\n                @update:modelValue=\"getTrophyFees\"\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"pets\" size=\"small\" />\r\n                </template>\r\n              </VaSelect>\r\n              <VaSelect\r\n                v-model=\"selectedArea\"\r\n                :options=\"areaOptions\"\r\n                label=\"Filter by Hunting Area\"\r\n                placeholder=\"All Areas\"\r\n                clearable\r\n                searchable\r\n                @update:modelValue=\"getTrophyFees\"\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"location_on\" size=\"small\" />\r\n                </template>\r\n              </VaSelect>\r\n              <div class=\"flex items-end\">\r\n                <VaButton\r\n                  v-if=\"selectedSpecies || selectedArea\"\r\n                  preset=\"plain\"\r\n                  icon=\"clear\"\r\n                  @click=\"clearFilters\"\r\n                >\r\n                  Clear Filters\r\n                </VaButton>\r\n              </div>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n      </template>\r\n    </ModuleTable>\r\n\r\n    <!-- Form View -->\r\n    <div v-else>\r\n      <VaForm ref=\"trophyFeeFormRef\">\r\n        <VaCard stripe stripe-color=\"primary\" class=\"mb-4\">\r\n          <VaCardTitle>Species & Area Information</VaCardTitle>\r\n          <VaCardContent>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <VaSelect\r\n                v-model=\"trophyFeeForm.species\"\r\n                :options=\"speciesOptions\"\r\n                label=\"Species\"\r\n                placeholder=\"Select a species\"\r\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\r\n                searchable\r\n                highlight-matched-text\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"pets\" />\r\n                </template>\r\n              </VaSelect>\r\n\r\n              <VaSelect\r\n                v-model=\"trophyFeeForm.area\"\r\n                :options=\"areaOptions\"\r\n                label=\"Hunting Area\"\r\n                placeholder=\"Select a hunting area\"\r\n                :rules=\"[(v: any) => !!v || 'Hunting area is required']\"\r\n                searchable\r\n                highlight-matched-text\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"location_on\" />\r\n                </template>\r\n              </VaSelect>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n\r\n        <VaCard stripe stripe-color=\"success\" class=\"mb-4\">\r\n          <VaCardTitle>Pricing Details</VaCardTitle>\r\n          <VaCardContent>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <VaInput\r\n                v-model=\"trophyFeeForm.sequence_order\"\r\n                label=\"Sequence Order\"\r\n                type=\"number\"\r\n                min=\"1\"\r\n                placeholder=\"Enter sequence number\"\r\n                :rules=\"[(v: any) => v > 0 || 'Sequence must be greater than 0']\"\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"format_list_numbered\" />\r\n                </template>\r\n                <template #appendInner>\r\n                  <VaPopover\r\n                    message=\"Sequence order represents the trophy number (1st, 2nd, 3rd, etc.). Different sequences can have different prices for the same species.\"\r\n                    placement=\"top\"\r\n                  >\r\n                    <VaIcon name=\"info\" size=\"small\" color=\"info\" />\r\n                  </VaPopover>\r\n                </template>\r\n              </VaInput>\r\n\r\n              <VaInput\r\n                v-model=\"trophyFeeForm.price_usd\"\r\n                label=\"Price (USD)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                placeholder=\"0.00\"\r\n                :rules=\"[(v: any) => v > 0 || 'Price must be greater than 0']\"\r\n                required-mark\r\n              >\r\n                <template #prepend>\r\n                  <VaIcon name=\"attach_money\" />\r\n                </template>\r\n              </VaInput>\r\n            </div>\r\n          </VaCardContent>\r\n        </VaCard>\r\n\r\n        <!-- Action Buttons -->\r\n        <div class=\"flex gap-3 justify-end\">\r\n          <VaButton\r\n            v-if=\"editMode\"\r\n            preset=\"secondary\"\r\n            icon=\"close\"\r\n            @click=\"cancelEdit\"\r\n          >\r\n            Cancel\r\n          </VaButton>\r\n          <VaButton\r\n            :disabled=\"!isValidTrophyFeeForm\"\r\n            color=\"primary\"\r\n            icon=\"save\"\r\n            :loading=\"saving\"\r\n            @click=\"validateTrophyFeeForm() && saveTrophyFee()\"\r\n          >\r\n            {{ editMode ? 'Update Trophy Fee' : 'Save Trophy Fee' }}\r\n          </VaButton>\r\n        </div>\r\n      </VaForm>\r\n    </div>\r\n  </VaCard>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, reactive } from 'vue'\r\nimport { mapActions } from 'pinia'\r\nimport { useToast, useForm } from 'vuestic-ui'\r\nimport handleErrors from '../../utils/errorHandler'\r\nimport ModuleTable from './components/ModuleTable.vue'\r\nimport { useTrophyFeesStore } from '../../stores/trophy-fees-store'\r\nimport { useQuotaStore } from '../../stores/quota-store'\r\n\r\nexport default defineComponent({\r\n  name: 'ManageTrophyFeesPage',\r\n  components: {\r\n    ModuleTable,\r\n  },\r\n\r\n  setup() {\r\n    const trophyFeeFormRef = ref(null) as any\r\n\r\n    const {\r\n      isValid: isValidTrophyFeeForm,\r\n      validate: validateTrophyFeeForm,\r\n      resetValidation: resetValidationTrophyFeeForm,\r\n      reset: resetTrophyFeeForm,\r\n    } = useForm(trophyFeeFormRef)\r\n\r\n    const columns = [\r\n      { key: 'id', label: 'ID', sortable: true, width: 80 },\r\n      { key: 'species_name', label: 'Species Name', sortable: true },\r\n      { key: 'area_name', label: 'Hunting Area', sortable: true },\r\n      { key: 'sequence_order', label: 'Sequence Order', sortable: true, width: 150 },\r\n      { key: 'price_usd', label: 'Price (USD)', sortable: true, width: 130 },\r\n      { key: 'actions', label: 'Actions', width: 120 },\r\n    ]\r\n\r\n    return {\r\n      isValidTrophyFeeForm,\r\n      validateTrophyFeeForm,\r\n      resetValidationTrophyFeeForm,\r\n      resetTrophyFeeForm,\r\n      trophyFeeFormRef,\r\n      columns,\r\n    }\r\n  },\r\n\r\n  data() {\r\n    const items: any[] = []\r\n\r\n    const trophyFeeForm = reactive({\r\n      id: null as any,\r\n      species: null as any,\r\n      area: null as any,\r\n      sequence_order: 1,\r\n      price_usd: null as any,\r\n    })\r\n\r\n    return {\r\n      items,\r\n      trophyFeeForm,\r\n      showTrophyFeesList: true,\r\n      loading: false,\r\n      saving: false,\r\n      editMode: false,\r\n      toast: useToast(),\r\n      speciesOptions: [] as any[],\r\n      areaOptions: [] as any[],\r\n      selectedSpecies: null as any,\r\n      selectedArea: null as any,\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTrophyFees()\r\n    this.loadSpecies()\r\n    this.loadAreas()\r\n  },\r\n\r\n  computed: {\r\n    uniqueSpeciesCount() {\r\n      const speciesIds = new Set(this.items.map((item: any) => item._raw?.species_id))\r\n      return speciesIds.size\r\n    },\r\n    uniqueAreasCount() {\r\n      const areaIds = new Set(this.items.map((item: any) => item._raw?.area_id))\r\n      return areaIds.size\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(useTrophyFeesStore, [\r\n      'fetchTrophyFees',\r\n      'createTrophyFee',\r\n      'updateTrophyFee',\r\n      'deleteTrophyFeeById',\r\n    ]),\r\n    ...mapActions(useQuotaStore, ['getSpeciesList', 'getAreaList']),\r\n\r\n    async getTrophyFees() {\r\n      this.loading = true\r\n      try {\r\n        const params: any = {}\r\n        if (this.selectedSpecies) {\r\n          params.species_id = this.selectedSpecies.value\r\n        }\r\n        if (this.selectedArea) {\r\n          params.area_id = this.selectedArea.value\r\n        }\r\n\r\n        const response = await this.fetchTrophyFees(params)\r\n\r\n        if (response.status === 200) {\r\n          const data = response.data.data || response.data\r\n          this.items = data.map((item: any) => ({\r\n            id: item.id,\r\n            species_name: item.species?.name || 'N/A',\r\n            area_name: item.area?.name || 'N/A',\r\n            sequence_order: this.getSequenceLabel(item.sequence_order),\r\n            price_usd: `$${parseFloat(item.price_usd).toFixed(2)}`,\r\n            _raw: item,\r\n          }))\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to load trophy fees',\r\n          color: 'danger',\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async loadSpecies() {\r\n      try {\r\n        const response = await this.getSpeciesList()\r\n        this.speciesOptions = response.data.map((item: any) => ({\r\n          value: item.id,\r\n          text: item.name,\r\n        }))\r\n      } catch (error) {\r\n        console.error('Failed to load species', error)\r\n      }\r\n    },\r\n\r\n    async loadAreas() {\r\n      try {\r\n        const response = await this.getAreaList()\r\n        this.areaOptions = response.data.map((item: any) => ({\r\n          value: item.id,\r\n          text: item.name,\r\n        }))\r\n      } catch (error) {\r\n        console.error('Failed to load areas', error)\r\n      }\r\n    },\r\n\r\n    clearFilters() {\r\n      this.selectedSpecies = null\r\n      this.selectedArea = null\r\n      this.getTrophyFees()\r\n    },\r\n\r\n    getSequenceLabel(sequence: number) {\r\n      const suffixes = ['th', 'st', 'nd', 'rd']\r\n      const value = sequence % 100\r\n      return sequence + (suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0])\r\n    },\r\n\r\n    toggleFormAndList() {\r\n      this.showTrophyFeesList = !this.showTrophyFeesList\r\n      if (this.showTrophyFeesList) {\r\n        this.resetForm()\r\n      }\r\n    },\r\n\r\n    editTrophyFee(rowData: any) {\r\n      this.editMode = true\r\n      this.showTrophyFeesList = false\r\n\r\n      const raw = rowData._raw\r\n      this.trophyFeeForm.id = raw.id\r\n      this.trophyFeeForm.species = this.speciesOptions.find((s: any) => s.value === raw.species?.id)\r\n      this.trophyFeeForm.area = this.areaOptions.find((a: any) => a.value === raw.area?.id)\r\n      this.trophyFeeForm.sequence_order = raw.sequence_order\r\n      this.trophyFeeForm.price_usd = raw.price_usd\r\n    },\r\n\r\n    async saveTrophyFee() {\r\n      this.saving = true\r\n      try {\r\n        const payload = {\r\n          species_id: this.trophyFeeForm.species.value,\r\n          area_id: this.trophyFeeForm.area.value,\r\n          sequence_order: this.trophyFeeForm.sequence_order,\r\n          price_usd: this.trophyFeeForm.price_usd,\r\n        }\r\n\r\n        let response\r\n        if (this.editMode) {\r\n          response = await this.updateTrophyFee(this.trophyFeeForm.id, payload)\r\n        } else {\r\n          response = await this.createTrophyFee(payload)\r\n        }\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          this.toast.init({\r\n            message: this.editMode ? 'Trophy fee updated successfully' : 'Trophy fee created successfully',\r\n            color: 'success',\r\n          })\r\n          this.toggleFormAndList()\r\n          this.getTrophyFees()\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to save trophy fee',\r\n          color: 'danger',\r\n        })\r\n      } finally {\r\n        this.saving = false\r\n      }\r\n    },\r\n\r\n    async deleteTrophyFee(rowData: any) {\r\n      if (!confirm('Are you sure you want to delete this trophy fee?')) {\r\n        return\r\n      }\r\n\r\n      try {\r\n        const response = await this.deleteTrophyFeeById(rowData.id)\r\n        if (response.status === 200 || response.status === 204) {\r\n          this.toast.init({\r\n            message: 'Trophy fee deleted successfully',\r\n            color: 'success',\r\n          })\r\n          this.getTrophyFees()\r\n        }\r\n      } catch (error) {\r\n        handleErrors(error)\r\n        this.toast.init({\r\n          message: 'Failed to delete trophy fee',\r\n          color: 'danger',\r\n        })\r\n      }\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.resetForm()\r\n      this.toggleFormAndList()\r\n    },\r\n\r\n    resetForm() {\r\n      this.editMode = false\r\n      this.trophyFeeForm.id = null\r\n      this.trophyFeeForm.species = null\r\n      this.trophyFeeForm.area = null\r\n      this.trophyFeeForm.sequence_order = 1\r\n      this.trophyFeeForm.price_usd = null\r\n      this.resetValidationTrophyFeeForm()\r\n    },\r\n  },\r\n})\r\n</script>\r\n"],"names":["useTrophyFeesStore","defineStore","params","config","response","axios","payload","id","_sfc_main","defineComponent","ModuleTable","trophyFeeFormRef","ref","isValidTrophyFeeForm","validateTrophyFeeForm","resetValidationTrophyFeeForm","resetTrophyFeeForm","useForm","items","trophyFeeForm","reactive","useToast","item","_a","mapActions","useQuotaStore","data","_b","error","handleErrors","sequence","suffixes","value","rowData","raw","s","a","_hoisted_1","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_createBlock","_component_VaCard","_createElementVNode","_ctx","_openBlock","_createElementBlock","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_createCommentVNode","_component_VaButton","_cache","_withCtx","_createTextVNode","_hoisted_6","_createVNode","_component_VaCardContent","_component_VaIcon","_component_ModuleTable","_component_VaSelect","$event","_component_VaForm","_component_VaCardTitle","v","_component_VaInput","_component_VaPopover"],"mappings":"gZAGO,MAAMA,EAAqBC,EAAY,aAAc,CAC1D,MAAO,KACE,CACL,WAAY,CAAA,EACZ,QAAS,EAAA,GAIb,QAAS,CACP,MAAM,gBAAgBC,EAAc,GAAI,CACtC,KAAK,QAAU,GAGf,MAAMC,EAAS,CACb,OAAQ,MACR,IAJU,qFAKV,OAAAD,EACA,QAAS,CACP,eAAgB,kBAAA,CAClB,EAGF,GAAI,CACF,MAAME,EAAW,MAAMC,EAAM,QAAQF,CAAM,EAC3C,YAAK,WAAaC,EAAS,KAAK,MAAQA,EAAS,KAC1CA,CACT,QAAA,CACE,KAAK,QAAU,EACjB,CACF,EAEA,MAAM,gBAAgBE,EAAc,CAGlC,MAAMH,EAAS,CACb,OAAQ,OACR,IAJU,qFAKV,KAAMG,EACN,QAAS,CACP,eAAgB,kBAAA,CAClB,EAIF,OADiB,MAAMD,EAAM,QAAQF,CAAM,CAE7C,EAEA,MAAM,gBAAgBI,EAAYD,EAAc,CAG9C,MAAMH,EAAS,CACb,OAAQ,MACR,IAJU,qFAAkFI,CAAE,IAK9F,KAAMD,EACN,QAAS,CACP,eAAgB,kBAAA,CAClB,EAIF,OADiB,MAAMD,EAAM,QAAQF,CAAM,CAE7C,EAEA,MAAM,oBAAoBI,EAAY,CAGpC,MAAMJ,EAAS,CACb,OAAQ,SACR,IAJU,qFAAkFI,CAAE,IAK9F,QAAS,CACP,eAAgB,kBAAA,CAClB,EAIF,OADiB,MAAMF,EAAM,QAAQF,CAAM,CAE7C,CAAA,CAEJ,CAAC,ECiKDK,EAAeC,EAAgB,CAC7B,KAAM,uBACN,WAAY,CACV,YAAAC,CAAA,EAGF,OAAQ,CACN,MAAMC,EAAmBC,EAAI,IAAI,EAE3B,CACJ,QAASC,EACT,SAAUC,EACV,gBAAiBC,EACjB,MAAOC,CAAA,EACLC,EAAQN,CAAgB,EAW5B,MAAO,CACL,qBAAAE,EACA,sBAAAC,EACA,6BAAAC,EACA,mBAAAC,EACA,iBAAAL,EACA,QAfc,CACd,CAAE,IAAK,KAAM,MAAO,KAAM,SAAU,GAAM,MAAO,EAAA,EACjD,CAAE,IAAK,eAAgB,MAAO,eAAgB,SAAU,EAAA,EACxD,CAAE,IAAK,YAAa,MAAO,eAAgB,SAAU,EAAA,EACrD,CAAE,IAAK,iBAAkB,MAAO,iBAAkB,SAAU,GAAM,MAAO,GAAA,EACzE,CAAE,IAAK,YAAa,MAAO,cAAe,SAAU,GAAM,MAAO,GAAA,EACjE,CAAE,IAAK,UAAW,MAAO,UAAW,MAAO,GAAA,CAAI,CAS/C,CAEJ,EAEA,MAAO,CACL,MAAMO,EAAe,CAAA,EAEfC,EAAgBC,EAAS,CAC7B,GAAI,KACJ,QAAS,KACT,KAAM,KACN,eAAgB,EAChB,UAAW,IAAA,CACZ,EAED,MAAO,CACL,MAAAF,EACA,cAAAC,EACA,mBAAoB,GACpB,QAAS,GACT,OAAQ,GACR,SAAU,GACV,MAAOE,EAAA,EACP,eAAgB,CAAA,EAChB,YAAa,CAAA,EACb,gBAAiB,KACjB,aAAc,IAAA,CAElB,EAEA,SAAU,CACR,KAAK,cAAA,EACL,KAAK,YAAA,EACL,KAAK,UAAA,CACP,EAEA,SAAU,CACR,oBAAqB,CAEnB,OADmB,IAAI,IAAI,KAAK,MAAM,IAAKC,GAAA,OAAc,OAAAC,EAAAD,EAAK,OAAL,YAAAC,EAAW,WAAU,CAAC,EAC7D,IACpB,EACA,kBAAmB,CAEjB,OADgB,IAAI,IAAI,KAAK,MAAM,IAAKD,GAAA,OAAc,OAAAC,EAAAD,EAAK,OAAL,YAAAC,EAAW,QAAO,CAAC,EAC1D,IACjB,CAAA,EAGF,QAAS,CACP,GAAGC,EAAWxB,EAAoB,CAChC,kBACA,kBACA,kBACA,qBAAA,CACD,EACD,GAAGwB,EAAWC,EAAe,CAAC,iBAAkB,aAAa,CAAC,EAE9D,MAAM,eAAgB,CACpB,KAAK,QAAU,GACf,GAAI,CACF,MAAMvB,EAAc,CAAA,EAChB,KAAK,kBACPA,EAAO,WAAa,KAAK,gBAAgB,OAEvC,KAAK,eACPA,EAAO,QAAU,KAAK,aAAa,OAGrC,MAAME,EAAW,MAAM,KAAK,gBAAgBF,CAAM,EAElD,GAAIE,EAAS,SAAW,IAAK,CAC3B,MAAMsB,EAAOtB,EAAS,KAAK,MAAQA,EAAS,KAC5C,KAAK,MAAQsB,EAAK,IAAKJ,GAAA,SAAe,OACpC,GAAIA,EAAK,GACT,eAAcC,EAAAD,EAAK,UAAL,YAAAC,EAAc,OAAQ,MACpC,YAAWI,EAAAL,EAAK,OAAL,YAAAK,EAAW,OAAQ,MAC9B,eAAgB,KAAK,iBAAiBL,EAAK,cAAc,EACzD,UAAW,IAAI,WAAWA,EAAK,SAAS,EAAE,QAAQ,CAAC,CAAC,GACpD,KAAMA,CAAA,EACN,CACJ,CACF,OAASM,EAAO,CACdC,EAAaD,CAAK,EAClB,KAAK,MAAM,KAAK,CACd,QAAS,6BACT,MAAO,QAAA,CACR,CACH,QAAA,CACE,KAAK,QAAU,EACjB,CACF,EAEA,MAAM,aAAc,CAClB,GAAI,CACF,MAAMxB,EAAW,MAAM,KAAK,eAAA,EAC5B,KAAK,eAAiBA,EAAS,KAAK,IAAKkB,IAAe,CACtD,MAAOA,EAAK,GACZ,KAAMA,EAAK,IAAA,EACX,CACJ,OAASM,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC/C,CACF,EAEA,MAAM,WAAY,CAChB,GAAI,CACF,MAAMxB,EAAW,MAAM,KAAK,YAAA,EAC5B,KAAK,YAAcA,EAAS,KAAK,IAAKkB,IAAe,CACnD,MAAOA,EAAK,GACZ,KAAMA,EAAK,IAAA,EACX,CACJ,OAASM,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CAC7C,CACF,EAEA,cAAe,CACb,KAAK,gBAAkB,KACvB,KAAK,aAAe,KACpB,KAAK,cAAA,CACP,EAEA,iBAAiBE,EAAkB,CACjC,MAAMC,EAAW,CAAC,KAAM,KAAM,KAAM,IAAI,EAClCC,EAAQF,EAAW,IACzB,OAAOA,GAAYC,GAAUC,EAAQ,IAAM,EAAE,GAAKD,EAASC,CAAK,GAAKD,EAAS,CAAC,EACjF,EAEA,mBAAoB,CAClB,KAAK,mBAAqB,CAAC,KAAK,mBAC5B,KAAK,oBACP,KAAK,UAAA,CAET,EAEA,cAAcE,EAAc,CAC1B,KAAK,SAAW,GAChB,KAAK,mBAAqB,GAE1B,MAAMC,EAAMD,EAAQ,KACpB,KAAK,cAAc,GAAKC,EAAI,GAC5B,KAAK,cAAc,QAAU,KAAK,eAAe,KAAMC,GAAA,OAAW,OAAAA,EAAE,UAAUZ,EAAAW,EAAI,UAAJ,YAAAX,EAAa,IAAE,EAC7F,KAAK,cAAc,KAAO,KAAK,YAAY,KAAMa,GAAA,OAAW,OAAAA,EAAE,UAAUb,EAAAW,EAAI,OAAJ,YAAAX,EAAU,IAAE,EACpF,KAAK,cAAc,eAAiBW,EAAI,eACxC,KAAK,cAAc,UAAYA,EAAI,SACrC,EAEA,MAAM,eAAgB,CACpB,KAAK,OAAS,GACd,GAAI,CACF,MAAM5B,EAAU,CACd,WAAY,KAAK,cAAc,QAAQ,MACvC,QAAS,KAAK,cAAc,KAAK,MACjC,eAAgB,KAAK,cAAc,eACnC,UAAW,KAAK,cAAc,SAAA,EAGhC,IAAIF,EACA,KAAK,SACPA,EAAW,MAAM,KAAK,gBAAgB,KAAK,cAAc,GAAIE,CAAO,EAEpEF,EAAW,MAAM,KAAK,gBAAgBE,CAAO,GAG3CF,EAAS,SAAW,KAAOA,EAAS,SAAW,OACjD,KAAK,MAAM,KAAK,CACd,QAAS,KAAK,SAAW,kCAAoC,kCAC7D,MAAO,SAAA,CACR,EACD,KAAK,kBAAA,EACL,KAAK,cAAA,EAET,OAASwB,EAAO,CACdC,EAAaD,CAAK,EAClB,KAAK,MAAM,KAAK,CACd,QAAS,4BACT,MAAO,QAAA,CACR,CACH,QAAA,CACE,KAAK,OAAS,EAChB,CACF,EAEA,MAAM,gBAAgBK,EAAc,CAClC,GAAK,QAAQ,kDAAkD,EAI/D,GAAI,CACF,MAAM7B,EAAW,MAAM,KAAK,oBAAoB6B,EAAQ,EAAE,GACtD7B,EAAS,SAAW,KAAOA,EAAS,SAAW,OACjD,KAAK,MAAM,KAAK,CACd,QAAS,kCACT,MAAO,SAAA,CACR,EACD,KAAK,cAAA,EAET,OAASwB,EAAO,CACdC,EAAaD,CAAK,EAClB,KAAK,MAAM,KAAK,CACd,QAAS,8BACT,MAAO,QAAA,CACR,CACH,CACF,EAEA,YAAa,CACX,KAAK,UAAA,EACL,KAAK,kBAAA,CACP,EAEA,WAAY,CACV,KAAK,SAAW,GAChB,KAAK,cAAc,GAAK,KACxB,KAAK,cAAc,QAAU,KAC7B,KAAK,cAAc,KAAO,KAC1B,KAAK,cAAc,eAAiB,EACpC,KAAK,cAAc,UAAY,KAC/B,KAAK,6BAAA,CACP,CAAA,CAEJ,CAAC,EC1eQS,EAAA,CAAA,MAAM,mEAAA,KAHf,IAAA,EAKY,MAAM,6BALlB,IAAA,EAMY,MAAM,6BANlB,IAAA,EAOW,MAAM,+BAKNC,EAAA,CAAA,MAAM,YAAA,KAZjB,IAAA,EAiC+C,MAAM,8CAKpCC,EAAA,CAAA,MAAM,oBAAA,EAUNC,EAAA,CAAA,MAAM,oBAAA,EAUNC,EAAA,CAAA,MAAM,oBAAA,EAmBNC,EAAA,CAAA,MAAM,8BAAA,EAINC,EAAA,CAAA,MAAM,0CAAA,EA2BJC,EAAA,CAAA,MAAM,gBAAA,EA5GzBC,EAAA,CAAA,IAAA,CAAA,EAkIiBC,GAAA,CAAA,MAAM,uCAAA,EAqCNC,GAAA,CAAA,MAAM,uCAAA,EA0CVC,GAAA,CAAA,MAAM,wBAAA,iNAhNjBC,EAqOSC,EAAA,CArOD,MAAM,OAAK,CADrB,UAGI,IA2BM,CA3BNC,EA2BM,MA3BNd,EA2BM,CA1BJc,EAMM,MAAA,KAAA,CALqCC,EAAA,oBAAAC,IAAzCC,EAAwF,KAAxFC,EAA6D,wBAAsB,QACnFD,EAAwG,KAAxGE,EAAwGC,EAA3DL,EAAA,SAAQ,kBAAA,oBAAA,EAAA,CAAA,GACRA,EAAA,oBAAAC,EAAA,EAA7CC,EAEI,IAFJI,EAAiE,8DAEjE,GATRC,EAAA,GAAA,EAAA,CAAA,CAAA,EAYMR,EAiBM,MAjBNb,EAiBM,CAfKc,qBAdjBO,EAAA,GAAA,EAAA,OAaQV,EAOWW,EAAA,CApBnB,IAAA,EAeU,KAAK,aACL,OAAO,YACN,QAAKC,eAAET,EAAA,kBAAA,EAAiB,EAAA,CAjBnC,QAAAU,EAkBS,IAEDD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CApBRE,EAkBS,gBAED,CAAA,EAAA,EApBR,EAAA,CAAA,CAAA,GAsBgBX,0BADRH,EAOWW,EAAA,CA5BnB,IAAA,EAuBU,MAAM,UACN,KAAK,MACJ,QAAKC,eAAET,EAAA,kBAAA,EAAiB,EAAA,CAzBnC,QAAAU,EA0BS,IAEDD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CA5BRE,EA0BS,kBAED,CAAA,EAAA,EA5BR,EAAA,CAAA,CAAA,GAAAJ,EAAA,GAAA,EAAA,CAAA,CAAA,IAiCeP,EAAA,oBAAkB,CAAKA,EAAA,SAAAC,IAAlCC,EA8BM,MA9BNU,EA8BM,CA7BJC,EAQSf,GARD,OAAA,EAAA,EAAM,CAlCpB,UAmCQ,IAMgB,CANhBe,EAMgBC,EAAA,CAND,MAAM,yBAAA,EAAyB,CAnCtD,UAoCU,IAA4D,CAA5DD,EAA4DE,EAAA,CAApD,KAAK,gBAAgB,KAAK,QAAQ,MAAM,SAAA,CAAA,EAChDhB,EAGM,MAAA,KAAA,CAFJA,EAAwD,MAAxDZ,EAAwDkB,EAArBL,QAAM,MAAM,EAAA,CAAA,EAAAS,EAAA,EAAA,IAAAA,EAAA,EAAA,EAC/CV,EAA2D,MAAA,CAAtD,MAAM,0BAAyB,oBAAiB,EAAA,EAAA,CAAA,IAvCjE,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EA4CMc,EAQSf,GARD,OAAA,EAAA,EAAM,CA5CpB,UA6CQ,IAMgB,CANhBe,EAMgBC,EAAA,CAND,MAAM,yBAAA,EAAyB,CA7CtD,UA8CU,IAAmD,CAAnDD,EAAmDE,EAAA,CAA3C,KAAK,OAAO,KAAK,QAAQ,MAAM,SAAA,CAAA,EACvChB,EAGM,MAAA,KAAA,CAFJA,EAA8D,MAA9DX,EAA8DiB,EAA3BL,EAAA,kBAAkB,EAAA,CAAA,EAAAS,EAAA,EAAA,IAAAA,EAAA,EAAA,EACrDV,EAAwD,MAAA,CAAnD,MAAM,0BAAyB,iBAAc,EAAA,EAAA,CAAA,IAjD9D,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAsDMc,EAQSf,GARD,OAAA,EAAA,EAAM,CAtDpB,UAuDQ,IAMgB,CANhBe,EAMgBC,EAAA,CAND,MAAM,yBAAA,EAAyB,CAvDtD,UAwDU,IAA0D,CAA1DD,EAA0DE,EAAA,CAAlD,KAAK,cAAc,KAAK,QAAQ,MAAM,SAAA,CAAA,EAC9ChB,EAGM,MAAA,KAAA,CAFJA,EAA4D,MAA5DV,EAA4DgB,EAAzBL,EAAA,gBAAgB,EAAA,CAAA,EAAAS,EAAA,EAAA,IAAAA,EAAA,EAAA,EACnDV,EAAuD,MAAA,CAAlD,MAAM,0BAAyB,gBAAa,EAAA,EAAA,CAAA,IA3D7D,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,CAAA,CAAA,GAAAQ,EAAA,GAAA,EAAA,EAmEYP,0BADRH,EAwDcmB,EAAA,CA1HlB,IAAA,EAoEO,MAAOhB,EAAA,MACP,QAASA,EAAA,QACT,QAASA,EAAA,QACT,SAAQA,EAAA,cACR,WAAUA,EAAA,eAAA,EAAA,CAEA,mCAAgCU,EACzC,IA6CS,CA7CTG,EA6CSf,EAAA,CA7CD,OAAA,GAAO,eAAa,UAAU,MAAM,MAAA,EAAA,CA3EpD,QAAAY,EA4EU,IA2CgB,CA3ChBG,EA2CgBC,EAAA,KAAA,CAvH1B,UA6EY,IAGM,CAHNf,EAGM,MAHNT,EAGM,CAFJuB,EAA6BE,EAAA,CAArB,KAAK,aAAA,CAAa,EAAAN,EAAA,EAAA,IAAAA,EAAA,EAAA,EAC1BV,EAAqD,OAAA,CAA/C,MAAM,iBAAgB,qBAAkB,EAAA,EAAA,CAAA,EAEhDA,EAqCM,MArCNR,EAqCM,CApCJsB,EAYWI,EAAA,CA9FzB,WAmFyBjB,EAAA,gBAnFzB,sBAAA,CAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAmFyBlB,EAAA,gBAAekB,GAMJlB,EAAA,aAAA,EALnB,QAASA,EAAA,eACV,MAAM,oBACN,YAAY,cACZ,UAAA,GACA,WAAA,EAAA,EAAA,CAGW,QAAOU,EAChB,IAAmC,CAAnCG,EAAmCE,EAAA,CAA3B,KAAK,OAAO,KAAK,OAAA,CAAA,IA5F3C,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,UAAA,qBAAA,CAAA,EA+FcF,EAYWI,EAAA,CA3GzB,WAgGyBjB,EAAA,aAhGzB,sBAAA,CAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAgGyBlB,EAAA,aAAYkB,GAMDlB,EAAA,aAAA,EALnB,QAASA,EAAA,YACV,MAAM,yBACN,YAAY,YACZ,UAAA,GACA,WAAA,EAAA,EAAA,CAGW,QAAOU,EAChB,IAA0C,CAA1CG,EAA0CE,EAAA,CAAlC,KAAK,cAAc,KAAK,OAAA,CAAA,IAzGlD,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,UAAA,qBAAA,CAAA,EA4GchB,EASM,MATNP,EASM,CAPIQ,EAAA,iBAAmBA,oBAD3BH,EAOWW,EAAA,CApH3B,IAAA,EA+GkB,OAAO,QACP,KAAK,QACJ,QAAOR,EAAA,YAAA,EAAA,CAjH1B,QAAAU,EAkHiB,IAEDD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CApHhBE,EAkHiB,iBAED,CAAA,EAAA,EApHhB,EAAA,CAAA,EAAA,EAAA,CAAA,SAAA,CAAA,GAAAJ,EAAA,GAAA,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,CAAA,QAAA,UAAA,UAAA,WAAA,YAAA,CAAA,IAAAN,EAAA,EA6HIC,EAwGM,MArOVT,EAAA,CA8HMoB,EAsGSM,EAAA,CAtGD,IAAI,kBAAA,EAAkB,CA9HpC,UA+HQ,IAmCS,CAnCTN,EAmCSf,EAAA,CAnCD,OAAA,GAAO,eAAa,UAAU,MAAM,MAAA,EAAA,CA/HpD,QAAAY,EAgIU,IAAqD,CAArDG,EAAqDO,EAAA,KAAA,CAhI/D,UAgIuB,IAA0BX,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CAhIjDE,EAgIuB,4BAA0B,CAAA,EAAA,EAhIjD,EAAA,CAAA,CAAA,EAiIUE,EAgCgBC,EAAA,KAAA,CAjK1B,UAkIY,IA8BM,CA9BNf,EA8BM,MA9BNL,GA8BM,CA7BJmB,EAaWI,EAAA,CAhJzB,WAoIyBjB,EAAA,cAAc,QApIvC,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAoIyBlB,gBAAc,QAAOkB,GAC7B,QAASlB,EAAA,eACV,MAAM,UACN,YAAY,mBACX,MAAK,CAAIqB,GAAM,CAAA,CAAOA,GAAC,qBAAA,EACxB,WAAA,GACA,yBAAA,GACA,gBAAA,EAAA,EAAA,CAEW,QAAOX,EAChB,IAAsB,CAAtBG,EAAsBE,EAAA,CAAd,KAAK,MAAA,CAAM,CAAA,CAAA,EA9IrC,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,UAAA,OAAA,CAAA,EAkJcF,EAaWI,EAAA,CA/JzB,WAmJyBjB,EAAA,cAAc,KAnJvC,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAmJyBlB,gBAAc,KAAIkB,GAC1B,QAASlB,EAAA,YACV,MAAM,eACN,YAAY,wBACX,MAAK,CAAIqB,GAAM,CAAA,CAAOA,GAAC,0BAAA,EACxB,WAAA,GACA,yBAAA,GACA,gBAAA,EAAA,EAAA,CAEW,QAAOX,EAChB,IAA6B,CAA7BG,EAA6BE,EAAA,CAArB,KAAK,aAAA,CAAa,CAAA,CAAA,EA7J5C,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,UAAA,OAAA,CAAA,MAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAoKQF,EA0CSf,EAAA,CA1CD,OAAA,GAAO,eAAa,UAAU,MAAM,MAAA,EAAA,CApKpD,QAAAY,EAqKU,IAA0C,CAA1CG,EAA0CO,EAAA,KAAA,CArKpD,UAqKuB,IAAeX,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CArKtCE,EAqKuB,iBAAe,CAAA,EAAA,EArKtC,EAAA,CAAA,CAAA,EAsKUE,EAuCgBC,EAAA,KAAA,CA7M1B,UAuKY,IAqCM,CArCNf,EAqCM,MArCNJ,GAqCM,CApCJkB,EAoBUS,EAAA,CA5LxB,WAyKyBtB,EAAA,cAAc,eAzKvC,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAyKyBlB,gBAAc,eAAckB,GACrC,MAAM,iBACN,KAAK,SACL,IAAI,IACJ,YAAY,wBACX,MAAK,CAAIG,GAAWA,EAAC,GAAA,iCAAA,EACtB,gBAAA,EAAA,EAAA,CAEW,QAAOX,EAChB,IAAsC,CAAtCG,EAAsCE,EAAA,CAA9B,KAAK,sBAAA,CAAsB,CAAA,CAAA,EAE1B,YAAWL,EACpB,IAKY,CALZG,EAKYU,EAAA,CAJV,QAAQ,yIACR,UAAU,KAAA,EAAA,CAvL9B,QAAAb,EAyLoB,IAAgD,CAAhDG,EAAgDE,EAAA,CAAxC,KAAK,OAAO,KAAK,QAAQ,MAAM,MAAA,CAAA,IAzL3D,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,OAAA,CAAA,EA8LcF,EAaUS,EAAA,CA3MxB,WA+LyBtB,EAAA,cAAc,UA/LvC,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GA+LyBlB,gBAAc,UAASkB,GAChC,MAAM,cACN,KAAK,SACL,KAAK,OACL,IAAI,IACJ,YAAY,OACX,MAAK,CAAIG,GAAWA,EAAC,GAAA,8BAAA,EACtB,gBAAA,EAAA,EAAA,CAEW,QAAOX,EAChB,IAA8B,CAA9BG,EAA8BE,EAAA,CAAtB,KAAK,cAAA,CAAc,CAAA,CAAA,EAzM7C,EAAA,CAAA,EAAA,EAAA,CAAA,aAAA,OAAA,CAAA,MAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAiNQhB,EAkBM,MAlBNH,GAkBM,CAhBII,gBADRH,EAOWW,EAAA,CAzNrB,IAAA,EAoNY,OAAO,YACP,KAAK,QACJ,QAAOR,EAAA,UAAA,EAAA,CAtNpB,QAAAU,EAuNW,IAEDD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CAzNVE,EAuNW,UAED,CAAA,EAAA,EAzNV,EAAA,CAAA,EAAA,EAAA,CAAA,SAAA,CAAA,GAAAJ,EAAA,GAAA,EAAA,EA0NUM,EAQWL,EAAA,CAPR,SAAQ,CAAGR,EAAA,qBACZ,MAAM,UACN,KAAK,OACJ,QAASA,EAAA,OACT,QAAKS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAAElB,EAAA,yBAA2BA,EAAA,cAAA,EAAa,EAAA,CA/N5D,QAAAU,EAiOY,IAAwD,CAjOpEC,IAiOeX,EAAA,SAAQ,oBAAA,iBAAA,EAAA,CAAA,CAAA,CAAA,EAjOvB,EAAA,CAAA,EAAA,EAAA,CAAA,WAAA,SAAA,CAAA,MAAA,EAAA,CAAA,EAAA,GAAA,OAAA,EAAA,CAAA,CAAA"}