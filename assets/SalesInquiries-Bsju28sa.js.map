{"version":3,"file":"SalesInquiries-Bsju28sa.js","sources":["../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/SalesProposalForm.vue","../../src/pages/client/dashboard/components/SalesProposalForm.vue","../../src/pages/module-settings/components/AccomodationTypeForm.vue","../../src/pages/module-settings/components/AccomodationTypeForm.vue","../../src/pages/client/dashboard/components/AccommodationForm.vue","../../src/pages/client/dashboard/components/AccommodationForm.vue","../../src/pages/module-settings/components/ChartersPriceListForm.vue","../../src/pages/module-settings/components/ChartersPriceListForm.vue","../../src/pages/client/dashboard/components/ChartersPriceForm.vue","../../src/pages/client/dashboard/components/ChartersPriceForm.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/SalesInquiries.vue","../../src/pages/client/dashboard/SalesInquiries.vue"],"sourcesContent":["<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <!-- <Date\n      v-model=\"dateValue\"\n      :options=\"aOptions\"\n      placeholder=\"Filter By Area\"\n      @update:modelValue=\"getPriceLists\"\n    /> -->\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n\n    <!-- </div> -->\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton preset=\"plain\" icon=\"visibility\" class=\"mr-2\" @click=\"btnViewClicked(rowData)\"> </VaButton>\n\n      <VaButton preset=\"plain\" icon=\"download\" @click=\"btnDownloadClicked(rowData)\"></VaButton>\n    </template>\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"6\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed'],\n  data() {\n    return {\n      loading: ref(false),\n      columns: [\n        { key: 'id', label: 'ID', width: 80 },\n        { key: 'name' },\n        { key: 'country' },\n        { key: 'nationality' },\n\n        { key: 'preference.preferred_date', label: 'Preferred date', width: 80 },\n\n        { key: 'preference.start_date', label: 'Start date', width: 80 },\n        { key: 'preference.end_date', label: 'End date', width: 80 },\n\n        { key: 'actions', width: 80 },\n      ],\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              inquiry_type: item?.inquiry_type || '',\n              name: item?.entity?.full_name || 'N/A',\n              country: item?.entity?.country?.name || 'N/A',\n              nationality: item?.entity?.nationality?.name || 'N/A',\n              contacts:\n                item?.entity?.contacts?.map((contact: any) => ({\n                  id: contact.id,\n                  name: contact?.contact,\n                  contactable: contact?.contactable,\n                  type: contact?.contact_type?.name || '',\n                })) || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              // For standard packages\n              package_details: item?.package_details || null,\n              // For custom packages\n              custom_details: item?.custom_details || null,\n              // Season info\n              season: item?.season?.name || 'N/A',\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <!-- <Date\n      v-model=\"dateValue\"\n      :options=\"aOptions\"\n      placeholder=\"Filter By Area\"\n      @update:modelValue=\"getPriceLists\"\n    /> -->\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n\n    <!-- </div> -->\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton preset=\"plain\" icon=\"visibility\" class=\"mr-2\" @click=\"btnViewClicked(rowData)\"> </VaButton>\n\n      <VaButton preset=\"plain\" icon=\"download\" @click=\"btnDownloadClicked(rowData)\"></VaButton>\n    </template>\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"6\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed'],\n  data() {\n    return {\n      loading: ref(false),\n      columns: [\n        { key: 'id', label: 'ID', width: 80 },\n        { key: 'name' },\n        { key: 'country' },\n        { key: 'nationality' },\n\n        { key: 'preference.preferred_date', label: 'Preferred date', width: 80 },\n\n        { key: 'preference.start_date', label: 'Start date', width: 80 },\n        { key: 'preference.end_date', label: 'End date', width: 80 },\n\n        { key: 'actions', width: 80 },\n      ],\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              inquiry_type: item?.inquiry_type || '',\n              name: item?.entity?.full_name || 'N/A',\n              country: item?.entity?.country?.name || 'N/A',\n              nationality: item?.entity?.nationality?.name || 'N/A',\n              contacts:\n                item?.entity?.contacts?.map((contact: any) => ({\n                  id: contact.id,\n                  name: contact?.contact,\n                  contactable: contact?.contactable,\n                  type: contact?.contact_type?.name || '',\n                })) || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              // For standard packages\n              package_details: item?.package_details || null,\n              // For custom packages\n              custom_details: item?.custom_details || null,\n              // Season info\n              season: item?.season?.name || 'N/A',\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n  },\n})\n</script>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"iformRef\">\n        <!-- <h3 class=\"font-bold text-lg mb-2\">Package Details</h3>\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.regulatory_package_id\"\n        :options=\"regulatoryPackages\"\n        :rules=\"[(value: any) => value || 'Regulatory Package is required']\"\n        placeholder=\"Select Regulatory Package\"\n        label=\"Regulatory Package\"\n      />\n      <VaSelect\n        v-model=\"form.package_id\"\n        :options=\"packages\"\n        :rules=\"[(value: any) => value || 'Package is required']\"\n        placeholder=\"Select Package\"\n        label=\"Sales Package\"\n      />\n    </div> -->\n        <h3 class=\"font-bold text-lg mb-2\">Main Hunter safari information</h3>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.airport_name\"\n            type=\"text\"\n            placeholder=\" Enter Airport Name\"\n            :rules=\"[(value: any) => (value && value.length > 0) || ' Airport Name is required']\"\n            label=\"Airport Name\"\n          />\n\n          <!-- arrival -->\n          <VaDateInput\n            v-model=\"form.arrival\"\n            placeholder=\"Select Arrival Date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Arrival Date\"\n          />\n          <VaDateInput\n            v-model=\"form.charter_in\"\n            placeholder=\"Choose charter in date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Charter In Date\"\n          />\n          <VaDateInput\n            v-model=\"form.charter_out\"\n            placeholder=\"Choose charter out date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Charter Out Date\"\n          />\n        </div>\n\n        <h3 class=\"font-bold text-lg mb-2\">\n          Create Client Installment plan\n          <!-- <span v-if=\"priceBreakDown\">\n        - <b>{{ priceBreakDown.total_amount.currency.symbol }}{{ priceBreakDown.total_amount.amount }}</b>\n      </span> -->\n        </h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n          <VaTextarea\n            v-model=\"form.installment_narration\"\n            type=\"text\"\n            placeholder=\"Description\"\n            :rules=\"[(value: any) => (value && value.length > 0) || ' Installment Description is required']\"\n          />\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.installment_due_amount\"\n            type=\"number\"\n            label=\"Amount\"\n            placeholder=\"Amount\"\n            :rules=\"[(value: any) => (value && value > 0) || ' Installment Amount is required']\"\n          />\n\n          <VaSelect\n            v-model=\"form.installment_amount_type\"\n            :options=\"[\n              // up on Booking\n              { value: 'PERCENT', text: 'PERCENT' },\n              { value: 'LAPS', text: `LAPS ` },\n            ]\"\n            label=\"Amount type\"\n            :rules=\"[(value: any) => value || 'Due amoun type is required']\"\n            placeholder=\"Select Due amount type\"\n            @update:modelValue=\"onInputChange\"\n          />\n\n          <!-- limit -->\n\n          <VaInput\n            v-model=\"form.installment_due_days\"\n            type=\"number\"\n            label=\"Days\"\n            :rules=\"[(value: any) => (value && value > 0) || ' Installment Days is required']\"\n            placeholder=\"Days\"\n          />\n\n          <VaSelect\n            v-model=\"form.due_days_type\"\n            label=\"Due days type\"\n            :options=\"[\n              // up on Booking\n              { value: 'UPON_SALES_CONFIRMATION', text: 'UPON_SALES_CONFIRMATION' },\n              { value: 'PRIOR_SAFARI', text: `PRIOR_SAFARI ` },\n            ]\"\n            :rules=\"[(value: any) => value || 'Due days type is required']\"\n            placeholder=\"Select Due days type\"\n            @update:modelValue=\"onInputChange\"\n          />\n\n          <!-- installment_amount_type -->\n\n          <VaButton icon=\"add\" @click=\"createInstallmentList()\"> </VaButton>\n        </div>\n\n        <div v-if=\"installments.length > 0\" class=\"mb-4\">\n          <h3 class=\"font-bold text-lg mb-2\">Installment Plans</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n            <div class=\"flex items-center\">\n              <div class=\"va-table-responsive\">\n                <table class=\"va-table va-table--striped\">\n                  <thead>\n                    <tr>\n                      <th>Description</th>\n                      <th>Amount</th>\n                      <th>installment In (PERCENT/LAPS)</th>\n                      <th>Days</th>\n                      <th>Due Days Limit</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"i in installments\" :key=\"i.id\">\n                      <td>{{ i.narration }}</td>\n                      <td>{{ i.amount }}</td>\n                      <td>{{ i.amount_type }}</td>\n\n                      <td>{{ i.days }}</td>\n                      <td>{{ i.due_days_type }}</td>\n\n                      <td><VaButton plain icon=\"delete\" @click=\"deleteInstallment(i.id)\"> </VaButton></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end\">\n          <VaButton\n            save\n            icon=\"save\"\n            :loading=\"saving\"\n            :disabled=\"!isValidForm || saving || installments.length < 0\"\n            @click=\"validateForm() && onSubmit()\"\n          >\n            save</VaButton\n          >\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\n\nexport default defineComponent({\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const iformRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(iformRef)\n\n    const isNotUpBookingSelected = ref(true)\n\n    const onInputChange = (event: any) => {\n      console.log(event)\n      if (event.value == 'prior' || event.value == 'after') {\n        isNotUpBookingSelected.value = false\n      }\n    }\n\n    const form = reactive({\n      // package_id: null as any,\n      airport_name: null as any,\n      charter_in: null as any,\n      charter_out: null as any,\n      arrival: null as any,\n      installment_narration: null as any,\n      installment_due_amount: null as any,\n      installment_amount_type: null as any,\n      installment_due_days: 0,\n      due_days_type: null as any,\n      // installment_due_limit: null as any,\n      // regulatory_package_id: null as any,\n    })\n\n    return {\n      iformRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n      onInputChange,\n      isNotUpBookingSelected,\n    }\n  },\n\n  data() {\n    const packages = [] as any\n    return {\n      packages,\n      installments: [] as any,\n      regulatoryPackages: [] as any,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['priceBreakDown']),\n  },\n\n  mounted() {\n    this.getPL()\n    this.getLicencePackages()\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['createSalesConfirmationFinalization']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getSalesPackageList']),\n    ...mapActions(useSalesInquiriesStore, ['getSalesPriceBreakdown', 'getObservers']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packages = response.data.data.map((item: any) => ({\n          value: item.sales_package.id,\n          text: item?.sales_package.name + ' - ' + item.price_list_type.hunting_type.name,\n        }))\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    createInstallmentList() {\n      if (this.form.installment_narration && this.form.installment_due_amount) {\n        this.installments.push({\n          narration: this.form.installment_narration,\n          amount: this.form.installment_due_amount,\n          amount_type: this.form.installment_amount_type.value,\n          days: this.form.installment_due_days,\n          due_days_type: this.form.due_days_type.value,\n        })\n      } else {\n        this.init({ message: 'Add at least one installment plan', color: 'warning' })\n      }\n    },\n\n    deleteInstallment(index: number) {\n      this.installments.splice(index, 1)\n    },\n\n    async getSalesPriceBreakdownForClient() {\n      const payLoad = {\n        salesInquiryId: this.item.id,\n        packageId: this.item.price_list.price_list.sales_package.id,\n      }\n      await this.getSalesPriceBreakdown(payLoad)\n    },\n\n    async onSubmit() {\n      this.saving = true\n      const requestDate = {\n        charterIn: this.form.charter_in,\n        charterOut: this.form.charter_out,\n        arrival: this.form.arrival,\n        airportName: this.form.airport_name,\n        packageId: this.item.price_list.price_list.sales_package.id,\n        salesInquiryId: this.item.id,\n        regulatoryPackageId: this.item.price_list.price_list.sales_package.regulatory_package.id,\n        installments: this.installments,\n      }\n\n      try {\n        const response = await this.createSalesConfirmationFinalization(requestDate)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationForm()\n          this.installments = []\n        } else {\n          this.init({ message: response.data.message, color: 'error' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // async getSalesPackages() {\n    //   try {\n    //     const response = await this.getSalesPackageList()\n    //     this.packages = response.data.map((item: { id: any; name: any }) => {\n    //       return {\n    //         value: item.id,\n    //         text: item.name,\n    //       }\n    //     })\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry {\n  margin: 20px;\n}\n\n.split-demo {\n  & .custom-grabber {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--va-background-element);\n  }\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"iformRef\">\n        <!-- <h3 class=\"font-bold text-lg mb-2\">Package Details</h3>\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.regulatory_package_id\"\n        :options=\"regulatoryPackages\"\n        :rules=\"[(value: any) => value || 'Regulatory Package is required']\"\n        placeholder=\"Select Regulatory Package\"\n        label=\"Regulatory Package\"\n      />\n      <VaSelect\n        v-model=\"form.package_id\"\n        :options=\"packages\"\n        :rules=\"[(value: any) => value || 'Package is required']\"\n        placeholder=\"Select Package\"\n        label=\"Sales Package\"\n      />\n    </div> -->\n        <h3 class=\"font-bold text-lg mb-2\">Main Hunter safari information</h3>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.airport_name\"\n            type=\"text\"\n            placeholder=\" Enter Airport Name\"\n            :rules=\"[(value: any) => (value && value.length > 0) || ' Airport Name is required']\"\n            label=\"Airport Name\"\n          />\n\n          <!-- arrival -->\n          <VaDateInput\n            v-model=\"form.arrival\"\n            placeholder=\"Select Arrival Date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Arrival Date\"\n          />\n          <VaDateInput\n            v-model=\"form.charter_in\"\n            placeholder=\"Choose charter in date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Charter In Date\"\n          />\n          <VaDateInput\n            v-model=\"form.charter_out\"\n            placeholder=\"Choose charter out date\"\n            :rules=\"[(value: any) => value || 'Arrival Date is required']\"\n            label=\"Charter Out Date\"\n          />\n        </div>\n\n        <h3 class=\"font-bold text-lg mb-2\">\n          Create Client Installment plan\n          <!-- <span v-if=\"priceBreakDown\">\n        - <b>{{ priceBreakDown.total_amount.currency.symbol }}{{ priceBreakDown.total_amount.amount }}</b>\n      </span> -->\n        </h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n          <VaTextarea\n            v-model=\"form.installment_narration\"\n            type=\"text\"\n            placeholder=\"Description\"\n            :rules=\"[(value: any) => (value && value.length > 0) || ' Installment Description is required']\"\n          />\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.installment_due_amount\"\n            type=\"number\"\n            label=\"Amount\"\n            placeholder=\"Amount\"\n            :rules=\"[(value: any) => (value && value > 0) || ' Installment Amount is required']\"\n          />\n\n          <VaSelect\n            v-model=\"form.installment_amount_type\"\n            :options=\"[\n              // up on Booking\n              { value: 'PERCENT', text: 'PERCENT' },\n              { value: 'LAPS', text: `LAPS ` },\n            ]\"\n            label=\"Amount type\"\n            :rules=\"[(value: any) => value || 'Due amoun type is required']\"\n            placeholder=\"Select Due amount type\"\n            @update:modelValue=\"onInputChange\"\n          />\n\n          <!-- limit -->\n\n          <VaInput\n            v-model=\"form.installment_due_days\"\n            type=\"number\"\n            label=\"Days\"\n            :rules=\"[(value: any) => (value && value > 0) || ' Installment Days is required']\"\n            placeholder=\"Days\"\n          />\n\n          <VaSelect\n            v-model=\"form.due_days_type\"\n            label=\"Due days type\"\n            :options=\"[\n              // up on Booking\n              { value: 'UPON_SALES_CONFIRMATION', text: 'UPON_SALES_CONFIRMATION' },\n              { value: 'PRIOR_SAFARI', text: `PRIOR_SAFARI ` },\n            ]\"\n            :rules=\"[(value: any) => value || 'Due days type is required']\"\n            placeholder=\"Select Due days type\"\n            @update:modelValue=\"onInputChange\"\n          />\n\n          <!-- installment_amount_type -->\n\n          <VaButton icon=\"add\" @click=\"createInstallmentList()\"> </VaButton>\n        </div>\n\n        <div v-if=\"installments.length > 0\" class=\"mb-4\">\n          <h3 class=\"font-bold text-lg mb-2\">Installment Plans</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n            <div class=\"flex items-center\">\n              <div class=\"va-table-responsive\">\n                <table class=\"va-table va-table--striped\">\n                  <thead>\n                    <tr>\n                      <th>Description</th>\n                      <th>Amount</th>\n                      <th>installment In (PERCENT/LAPS)</th>\n                      <th>Days</th>\n                      <th>Due Days Limit</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"i in installments\" :key=\"i.id\">\n                      <td>{{ i.narration }}</td>\n                      <td>{{ i.amount }}</td>\n                      <td>{{ i.amount_type }}</td>\n\n                      <td>{{ i.days }}</td>\n                      <td>{{ i.due_days_type }}</td>\n\n                      <td><VaButton plain icon=\"delete\" @click=\"deleteInstallment(i.id)\"> </VaButton></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end\">\n          <VaButton\n            save\n            icon=\"save\"\n            :loading=\"saving\"\n            :disabled=\"!isValidForm || saving || installments.length < 0\"\n            @click=\"validateForm() && onSubmit()\"\n          >\n            save</VaButton\n          >\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\n\nexport default defineComponent({\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const iformRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(iformRef)\n\n    const isNotUpBookingSelected = ref(true)\n\n    const onInputChange = (event: any) => {\n      console.log(event)\n      if (event.value == 'prior' || event.value == 'after') {\n        isNotUpBookingSelected.value = false\n      }\n    }\n\n    const form = reactive({\n      // package_id: null as any,\n      airport_name: null as any,\n      charter_in: null as any,\n      charter_out: null as any,\n      arrival: null as any,\n      installment_narration: null as any,\n      installment_due_amount: null as any,\n      installment_amount_type: null as any,\n      installment_due_days: 0,\n      due_days_type: null as any,\n      // installment_due_limit: null as any,\n      // regulatory_package_id: null as any,\n    })\n\n    return {\n      iformRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n      onInputChange,\n      isNotUpBookingSelected,\n    }\n  },\n\n  data() {\n    const packages = [] as any\n    return {\n      packages,\n      installments: [] as any,\n      regulatoryPackages: [] as any,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['priceBreakDown']),\n  },\n\n  mounted() {\n    this.getPL()\n    this.getLicencePackages()\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['createSalesConfirmationFinalization']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getSalesPackageList']),\n    ...mapActions(useSalesInquiriesStore, ['getSalesPriceBreakdown', 'getObservers']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packages = response.data.data.map((item: any) => ({\n          value: item.sales_package.id,\n          text: item?.sales_package.name + ' - ' + item.price_list_type.hunting_type.name,\n        }))\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    createInstallmentList() {\n      if (this.form.installment_narration && this.form.installment_due_amount) {\n        this.installments.push({\n          narration: this.form.installment_narration,\n          amount: this.form.installment_due_amount,\n          amount_type: this.form.installment_amount_type.value,\n          days: this.form.installment_due_days,\n          due_days_type: this.form.due_days_type.value,\n        })\n      } else {\n        this.init({ message: 'Add at least one installment plan', color: 'warning' })\n      }\n    },\n\n    deleteInstallment(index: number) {\n      this.installments.splice(index, 1)\n    },\n\n    async getSalesPriceBreakdownForClient() {\n      const payLoad = {\n        salesInquiryId: this.item.id,\n        packageId: this.item.price_list.price_list.sales_package.id,\n      }\n      await this.getSalesPriceBreakdown(payLoad)\n    },\n\n    async onSubmit() {\n      this.saving = true\n      const requestDate = {\n        charterIn: this.form.charter_in,\n        charterOut: this.form.charter_out,\n        arrival: this.form.arrival,\n        airportName: this.form.airport_name,\n        packageId: this.item.price_list.price_list.sales_package.id,\n        salesInquiryId: this.item.id,\n        regulatoryPackageId: this.item.price_list.price_list.sales_package.regulatory_package.id,\n        installments: this.installments,\n      }\n\n      try {\n        const response = await this.createSalesConfirmationFinalization(requestDate)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationForm()\n          this.installments = []\n        } else {\n          this.init({ message: response.data.message, color: 'error' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // async getSalesPackages() {\n    //   try {\n    //     const response = await this.getSalesPackageList()\n    //     this.packages = response.data.map((item: { id: any; name: any }) => {\n    //       return {\n    //         value: item.id,\n    //         text: item.name,\n    //       }\n    //     })\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry {\n  margin: 20px;\n}\n\n.split-demo {\n  & .custom-grabber {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--va-background-element);\n  }\n}\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        label=\"Accommodation Type Name\"\n        placeholder=\"Enter Accommodation Type Name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport handleErrors from '../../../utils/errorHandler'\n\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      name: '',\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapWritableState(useSettingsStore, {\n      saving: 'savingAccommodationType',\n    }),\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['createAccommodationType']),\n    async submit() {\n      const payload = {\n        name: this.form.name,\n      }\n\n      try {\n        const response = await this.createAccommodationType(payload)\n        if (response.status === 201) {\n          this.init({ message: 'Accommodation Type Created Successfully', color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Error Creating Accommodation Type', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n     */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        label=\"Accommodation Type Name\"\n        placeholder=\"Enter Accommodation Type Name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport handleErrors from '../../../utils/errorHandler'\n\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      name: '',\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapWritableState(useSettingsStore, {\n      saving: 'savingAccommodationType',\n    }),\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['createAccommodationType']),\n    async submit() {\n      const payload = {\n        name: this.form.name,\n      }\n\n      try {\n        const response = await this.createAccommodationType(payload)\n        if (response.status === 201) {\n          this.init({ message: 'Accommodation Type Created Successfully', color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Error Creating Accommodation Type', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n     */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <div>\n    <VaForm ref=\"formRef\" @submit.prevent=\"submitForm\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        <div>\n          <VaSelect\n            v-model=\"form.entity_id\"\n            :options=\"salesInquiryEntities\"\n            label=\"Accommodation For?\"\n            placeholder=\"Select client\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          >\n          </VaSelect>\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.type_id\"\n            :options=\"accommodationTypes\"\n            label=\"Accommodation Type \"\n            placeholder=\"Enter type\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          >\n            <template #append> <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" /> </template>\n          </VaSelect>\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_street\"\n            label=\"Accommodation Street Address\"\n            placeholder=\"Enter street address\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_city\"\n            label=\"Accommodation City\"\n            placeholder=\"Enter city\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_zipcode\"\n            label=\"Accommodation Zip Code\"\n            placeholder=\"Enter zip code\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput v-model=\"form.booking_number\" label=\"Booking Number (Optional)\" placeholder=\"Enter booking number\" />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.check_in\"\n            label=\"Check In\"\n            placeholder=\"Select check-in date\"\n            type=\"datetime-local\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.check_out\"\n            label=\"Check Out\"\n            placeholder=\"Select check-out date\"\n            type=\"datetime-local\"\n            required\n            required-mark\n            :rules=\"[\n              (v: any) => !!v || 'This field is required',\n              (v: any) => new Date(v) > new Date(form.check_in) || 'Check out date must be after check-in date',\n            ]\"\n          />\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.account_id\"\n            :options=\"companyAccounts\"\n            label=\"Account\"\n            placeholder=\"Select account\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.amount\"\n            label=\"Amount\"\n            placeholder=\"Enter amount\"\n            type=\"number\"\n            required\n            required-mark\n            :rules=\"[(value: any) => (value && value > 0) || 'Amount must be greater than zero']\"\n          />\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.currency\"\n            label=\"Currency\"\n            :options=\"currencies\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n      </div>\n      <VaButton icon=\"save\" :disabled=\"!isValidForm\" @click=\"validateForm() && submitForm()\">Save</VaButton>\n    </VaForm>\n  </div>\n  <VaModal v-model=\"_shtyMd\" title=\"Accommodation Type\" width=\"600px\" :show-default-actions=\"false\">\n    <AccomodationTypeForm></AccomodationTypeForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { format } from 'date-fns'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport AccomodationTypeForm from '../../../module-settings/components/AccomodationTypeForm.vue'\n\nexport default defineComponent({\n  components: {\n    AccomodationTypeForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      type_id: null as any,\n      address_street: '',\n      address_city: '',\n      address_zipcode: '',\n      entity_id: null as any,\n      booking_number: '',\n      check_in: '',\n      check_out: '',\n      account_id: null as any,\n      amount: '',\n      currency: null as any,\n    })\n    return {\n      init,\n      form,\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['salesInquiryEntities', 'currencies', 'accommodationTypes']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSettingsStore, {\n      _shtyMd: 'showAccommodationTypeModal',\n    }),\n  },\n  mounted() {\n    this.getSalesInquiryEntities(this.item.id)\n    this.getCompanyAccounts()\n    this.getCurrencies()\n    this.getAccommodationTypes(true)\n  },\n  methods: {\n    ...mapActions(useSettingsStore, ['getSalesInquiryEntities', 'getCurrencies', 'getAccommodationTypes']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createAccommodation']),\n\n    async submitForm() {\n      const checkInDate = new Date(this.form.check_in)\n      const checkOutDate = new Date(this.form.check_out)\n      const payload = {\n        type_id: this.form.type_id.value,\n        address_street: this.form.address_street,\n        address_city: this.form.address_city,\n        address_zipcode: this.form.address_zipcode,\n        entity_id: this.form.entity_id.value,\n        sales_inquiry_id: this.item.id,\n        booking_number: this.form.booking_number,\n        check_in: format(checkInDate, 'yyyy-MM-dd HH:mm:ss'),\n        check_out: format(checkOutDate, 'yyyy-MM-dd HH:mm:ss'),\n        account_id: this.form.account_id.value,\n        amount: this.form.amount,\n        currency: this.form.currency.value,\n      }\n\n      try {\n        const response: any = await this.createAccommodation(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    _showModal() {\n      this._shtyMd = true\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any custom styles here */\n</style>\n","<template>\n  <div>\n    <VaForm ref=\"formRef\" @submit.prevent=\"submitForm\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        <div>\n          <VaSelect\n            v-model=\"form.entity_id\"\n            :options=\"salesInquiryEntities\"\n            label=\"Accommodation For?\"\n            placeholder=\"Select client\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          >\n          </VaSelect>\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.type_id\"\n            :options=\"accommodationTypes\"\n            label=\"Accommodation Type \"\n            placeholder=\"Enter type\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          >\n            <template #append> <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" /> </template>\n          </VaSelect>\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_street\"\n            label=\"Accommodation Street Address\"\n            placeholder=\"Enter street address\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_city\"\n            label=\"Accommodation City\"\n            placeholder=\"Enter city\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.address_zipcode\"\n            label=\"Accommodation Zip Code\"\n            placeholder=\"Enter zip code\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput v-model=\"form.booking_number\" label=\"Booking Number (Optional)\" placeholder=\"Enter booking number\" />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.check_in\"\n            label=\"Check In\"\n            placeholder=\"Select check-in date\"\n            type=\"datetime-local\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.check_out\"\n            label=\"Check Out\"\n            placeholder=\"Select check-out date\"\n            type=\"datetime-local\"\n            required\n            required-mark\n            :rules=\"[\n              (v: any) => !!v || 'This field is required',\n              (v: any) => new Date(v) > new Date(form.check_in) || 'Check out date must be after check-in date',\n            ]\"\n          />\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.account_id\"\n            :options=\"companyAccounts\"\n            label=\"Account\"\n            placeholder=\"Select account\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n        <div>\n          <VaInput\n            v-model=\"form.amount\"\n            label=\"Amount\"\n            placeholder=\"Enter amount\"\n            type=\"number\"\n            required\n            required-mark\n            :rules=\"[(value: any) => (value && value > 0) || 'Amount must be greater than zero']\"\n          />\n        </div>\n        <div>\n          <VaSelect\n            v-model=\"form.currency\"\n            label=\"Currency\"\n            :options=\"currencies\"\n            required\n            required-mark\n            :rules=\"[(v: any) => !!v || 'This field is required']\"\n          />\n        </div>\n      </div>\n      <VaButton icon=\"save\" :disabled=\"!isValidForm\" @click=\"validateForm() && submitForm()\">Save</VaButton>\n    </VaForm>\n  </div>\n  <VaModal v-model=\"_shtyMd\" title=\"Accommodation Type\" width=\"600px\" :show-default-actions=\"false\">\n    <AccomodationTypeForm></AccomodationTypeForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { format } from 'date-fns'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport AccomodationTypeForm from '../../../module-settings/components/AccomodationTypeForm.vue'\n\nexport default defineComponent({\n  components: {\n    AccomodationTypeForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      type_id: null as any,\n      address_street: '',\n      address_city: '',\n      address_zipcode: '',\n      entity_id: null as any,\n      booking_number: '',\n      check_in: '',\n      check_out: '',\n      account_id: null as any,\n      amount: '',\n      currency: null as any,\n    })\n    return {\n      init,\n      form,\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['salesInquiryEntities', 'currencies', 'accommodationTypes']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSettingsStore, {\n      _shtyMd: 'showAccommodationTypeModal',\n    }),\n  },\n  mounted() {\n    this.getSalesInquiryEntities(this.item.id)\n    this.getCompanyAccounts()\n    this.getCurrencies()\n    this.getAccommodationTypes(true)\n  },\n  methods: {\n    ...mapActions(useSettingsStore, ['getSalesInquiryEntities', 'getCurrencies', 'getAccommodationTypes']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createAccommodation']),\n\n    async submitForm() {\n      const checkInDate = new Date(this.form.check_in)\n      const checkOutDate = new Date(this.form.check_out)\n      const payload = {\n        type_id: this.form.type_id.value,\n        address_street: this.form.address_street,\n        address_city: this.form.address_city,\n        address_zipcode: this.form.address_zipcode,\n        entity_id: this.form.entity_id.value,\n        sales_inquiry_id: this.item.id,\n        booking_number: this.form.booking_number,\n        check_in: format(checkInDate, 'yyyy-MM-dd HH:mm:ss'),\n        check_out: format(checkOutDate, 'yyyy-MM-dd HH:mm:ss'),\n        account_id: this.form.account_id.value,\n        amount: this.form.amount,\n        currency: this.form.currency.value,\n      }\n\n      try {\n        const response: any = await this.createAccommodation(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    _showModal() {\n      this._shtyMd = true\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any custom styles here */\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        label=\"Name\"\n        placeholder=\"Item name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Name is required']\"\n      />\n      <!-- amount -->\n      <VaInput\n        v-model=\"form.amount\"\n        label=\"Amount\"\n        placeholder=\"Item amount\"\n        type=\"number\"\n        required\n        :rules=\"[(v: any) => !!v || 'Amount is required']\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        :options=\"currencies\"\n        label=\"Entity\"\n        placeholder=\"Select Entity\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Entity is required']\"\n      />\n\n      <!-- season -->\n\n      <!-- description -->\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        :options=\"seasons\"\n        label=\"Season\"\n        placeholder=\"Select Season\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Season is required']\"\n      />\n      <VaTextarea\n        v-model=\"form.description\"\n        label=\"Description\"\n        placeholder=\"Item description\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Description is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport handleErrors from '../../../utils/errorHandler'\n\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      description: '',\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapState(useSettingsStore, ['salesChartersPriceList', 'salesInquiryEntities', 'seasons', 'currencies']),\n\n    ...mapWritableState(useSettingsStore, {\n      saving: 'savingSalesChartersPriceList',\n    }),\n  },\n\n  mounted() {\n    this.getSeasons(true)\n    this.getCurrencies()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, [\n      'getSalesChartersPriceList',\n      'getSalesInquiryEntities',\n      'createSalesChartersPriceList',\n      'getSeasons',\n      'getCurrencies',\n    ]),\n\n    async submit() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        description: this.form.description,\n      }\n\n      try {\n        const response = await this.createSalesChartersPriceList(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Something went wrong', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n         */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        label=\"Name\"\n        placeholder=\"Item name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Name is required']\"\n      />\n      <!-- amount -->\n      <VaInput\n        v-model=\"form.amount\"\n        label=\"Amount\"\n        placeholder=\"Item amount\"\n        type=\"number\"\n        required\n        :rules=\"[(v: any) => !!v || 'Amount is required']\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        :options=\"currencies\"\n        label=\"Entity\"\n        placeholder=\"Select Entity\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Entity is required']\"\n      />\n\n      <!-- season -->\n\n      <!-- description -->\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        :options=\"seasons\"\n        label=\"Season\"\n        placeholder=\"Select Season\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Season is required']\"\n      />\n      <VaTextarea\n        v-model=\"form.description\"\n        label=\"Description\"\n        placeholder=\"Item description\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Description is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport handleErrors from '../../../utils/errorHandler'\n\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      description: '',\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapState(useSettingsStore, ['salesChartersPriceList', 'salesInquiryEntities', 'seasons', 'currencies']),\n\n    ...mapWritableState(useSettingsStore, {\n      saving: 'savingSalesChartersPriceList',\n    }),\n  },\n\n  mounted() {\n    this.getSeasons(true)\n    this.getCurrencies()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, [\n      'getSalesChartersPriceList',\n      'getSalesInquiryEntities',\n      'createSalesChartersPriceList',\n      'getSeasons',\n      'getCurrencies',\n    ]),\n\n    async submit() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        description: this.form.description,\n      }\n\n      try {\n        const response = await this.createSalesChartersPriceList(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Something went wrong', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n         */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.charters_price_list_id\"\n        :options=\"salesChartersPriceList\"\n        label=\"Charters Price List\"\n        placeholder=\"Item category Name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Item Name is required']\"\n      >\n        <template #append> <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" /> </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.entity_id\"\n        :options=\"salesInquiryEntities\"\n        label=\"Entity\"\n        placeholder=\"Select Entity\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Entity is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n\n  <!-- ChartersPriceListForm -->\n  <VaModal v-model=\"_shCM\" :width=\"'50%'\" :height=\"'80%'\" :scrollable=\"true\">\n    <ChartersPriceListForm></ChartersPriceListForm>\n  </VaModal>\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport ChartersPriceListForm from '../../../module-settings/components/ChartersPriceListForm.vue'\n\nexport default defineComponent({\n  components: {\n    ChartersPriceListForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      charters_price_list_id: null as any,\n      sales_inquiry_id: null as any,\n      entity_id: null as any,\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapState(useSettingsStore, ['salesChartersPriceList', 'salesInquiryEntities']),\n\n    ...mapWritableState(useSalesInquiriesStore, {\n      saving: 'savingCharterPrices',\n    }),\n\n    ...mapWritableState(useSettingsStore, {\n      _shCM: 'showSalesChartersPriceListModal',\n    }),\n  },\n\n  mounted() {\n    this.getSalesChartersPriceList(true)\n    this.getSalesInquiryEntities(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSalesChartersPriceList', 'getSalesInquiryEntities']),\n\n    ...mapActions(useSalesInquiriesStore, ['createChartersPrice']),\n    async submit() {\n      const payload = {\n        charters_price_list_id: this.form.charters_price_list_id.value,\n        sales_inquiry_id: this.item.id,\n        entity_id: this.form.entity_id.value,\n      }\n\n      try {\n        const response = await this.createChartersPrice(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Something went wrong', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n    _showModal() {\n      this._shCM = true\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n       */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.charters_price_list_id\"\n        :options=\"salesChartersPriceList\"\n        label=\"Charters Price List\"\n        placeholder=\"Item category Name\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Item Name is required']\"\n      >\n        <template #append> <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" /> </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.entity_id\"\n        :options=\"salesInquiryEntities\"\n        label=\"Entity\"\n        placeholder=\"Select Entity\"\n        type=\"text\"\n        required\n        :rules=\"[(v: any) => !!v || 'Entity is required']\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    type=\"submit\"\n    icon=\"save\"\n    :loading=\"saving\"\n    :disabled=\"!isValidForm || saving\"\n    @click=\"validateForm() && submit()\"\n    >Save</VaButton\n  >\n\n  <!-- ChartersPriceListForm -->\n  <VaModal v-model=\"_shCM\" :width=\"'50%'\" :height=\"'80%'\" :scrollable=\"true\">\n    <ChartersPriceListForm></ChartersPriceListForm>\n  </VaModal>\n</template>\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent, reactive, ref } from 'vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport ChartersPriceListForm from '../../../module-settings/components/ChartersPriceListForm.vue'\n\nexport default defineComponent({\n  components: {\n    ChartersPriceListForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref()\n\n    const form = reactive({\n      charters_price_list_id: null as any,\n      sales_inquiry_id: null as any,\n      entity_id: null as any,\n    })\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n\n      init,\n      resetForm,\n      form,\n    }\n  },\n  data() {},\n  computed: {\n    ...mapState(useSettingsStore, ['salesChartersPriceList', 'salesInquiryEntities']),\n\n    ...mapWritableState(useSalesInquiriesStore, {\n      saving: 'savingCharterPrices',\n    }),\n\n    ...mapWritableState(useSettingsStore, {\n      _shCM: 'showSalesChartersPriceListModal',\n    }),\n  },\n\n  mounted() {\n    this.getSalesChartersPriceList(true)\n    this.getSalesInquiryEntities(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSalesChartersPriceList', 'getSalesInquiryEntities']),\n\n    ...mapActions(useSalesInquiriesStore, ['createChartersPrice']),\n    async submit() {\n      const payload = {\n        charters_price_list_id: this.form.charters_price_list_id.value,\n        sales_inquiry_id: this.item.id,\n        entity_id: this.form.entity_id.value,\n      }\n\n      try {\n        const response = await this.createChartersPrice(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n        } else {\n          this.init({ message: 'Something went wrong', color: 'danger' })\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n    _showModal() {\n      this._shCM = true\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Add any relevant styles here */\n.bordered-items-form {\n  border-color: rgb(65, 217, 225) !important;\n  border-width: 2px !important;\n  border-style: solid !important;\n  border-radius: 10px !important;\n  padding: 10px !important;\n  /* shadow\n       */\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.25);\n}\n</style>\n","<template>\n  <div class=\"flex justify-between items-center mb-6\">\n    <div class=\"flex items-center gap-3\">\n      <VaBadge\n        :text=\"item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package'\"\n        :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\"\n      />\n      <VaBadge :text=\"item?.code\" color=\"primary\" />\n    </div>\n    <div class=\"flex gap-2\">\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showChartersPriceModal()\">\n        Add Charters Costs\n      </VaButton>\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showAccommodationModal()\">\n        Add accommodation\n      </VaButton>\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showSafariExtrasModal()\">\n        Add Safari Extras Services\n      </VaButton>\n      <VaButton\n        preset=\"primary\"\n        class=\"mr-2 mb-2\"\n        round\n        icon=\"arrow_downward\"\n        size=\"small\"\n        @click=\"scrollTo(observerScollRef)\"\n      >\n        Add Observers\n      </VaButton>\n      <VaButton\n        preset=\"primary\"\n        class=\"mr-2 mb-2\"\n        round\n        icon=\"arrow_downward\"\n        size=\"small\"\n        @click=\"scrollTo(companionsScollRef)\"\n      >\n        Add Companions\n      </VaButton>\n    </div>\n  </div>\n  <VaSplit\n    class=\"split-demo h-[40rem]\"\n    :limits=\"[\n      ['30px', '20rem'],\n      [5 as any, 'any'],\n    ]\"\n  >\n    <template #start>\n      <div class=\"p-4 bg-gray-100 rounded-lg shadow-md overflow-y-auto\">\n        <!-- Header -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex justify-between items-start\">\n              <div>\n                <h2 class=\"text-2xl font-bold text-gray-800\">{{ item?.code }}</h2>\n                <p class=\"text-gray-600\">Created: {{ formatDate(item?.create_date) }}</p>\n              </div>\n              <VaBadge :text=\"item?.season?.name\" color=\"primary\" large />\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Client Information -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"person\" color=\"primary\" />\n              <h3 class=\"text-lg font-bold\">Client Information</h3>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3\">\n              <div>\n                <p class=\"text-sm text-gray-600\">Full Name</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.full_name) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Nationality</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Country</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.country?.name) }}</p>\n              </div>\n            </div>\n\n            <VaDivider class=\"my-3\" />\n\n            <h4 class=\"font-semibold mb-2\">Contacts</h4>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"(contact, index) in safeArray(item.entity?.contacts)\"\n                :key=\"index\"\n                class=\"flex items-center gap-2\"\n              >\n                <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" size=\"small\" color=\"info\" />\n                <span>{{ contact.contact }}</span>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Preferences Information -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"event\" color=\"primary\" />\n              <h3 class=\"text-lg font-bold\">Hunting Preferences</h3>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3\">\n              <div>\n                <p class=\"text-sm text-gray-600\">Preferred Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Start Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">End Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Duration</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunters</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_hunters }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Companions</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_companions }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Observers</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_observers }}</p>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Standard Package Details -->\n        <VaCard v-if=\"item?.inquiry_type === 'standard' && item?.package_details\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"inventory_2\" color=\"success\" />\n              <h3 class=\"text-lg font-bold\">Standard Package Details</h3>\n            </div>\n\n            <div class=\"grid grid-cols-2 gap-4 mb-4\">\n              <div class=\"col-span-2 p-3 bg-green-50 rounded-lg\">\n                <p class=\"text-sm text-gray-600\">Package Amount</p>\n                <p class=\"text-2xl font-bold text-green-600\">\n                  {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n                </p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunting Area</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.area_name }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunting Type</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.hunting_type_name }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Duration</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.duration }} days</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Package Period</p>\n                <p class=\"font-semibold text-xs\">\n                  {{ formatDate(item?.package_details?.start_date) }} -\n                  {{ formatDate(item?.package_details?.end_date) }}\n                </p>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Custom Package Details -->\n        <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"tune\" color=\"info\" />\n              <h3 class=\"text-lg font-bold\">Custom Package Details</h3>\n            </div>\n\n            <!-- Custom Areas -->\n            <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n              <h4 class=\"font-semibold mb-2\">Hunting Areas</h4>\n              <div class=\"flex flex-wrap gap-2\">\n                <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\">\n                  {{ area.area_name }}\n                </VaChip>\n              </div>\n            </div>\n\n            <!-- Custom Species -->\n            <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n              <h4 class=\"font-semibold mb-2\">Requested Species</h4>\n              <VaDataTable\n                :items=\"item?.custom_details?.species\"\n                :columns=\"[\n                  { key: 'species_name', label: 'Species', sortable: true },\n                  { key: 'quantity', label: 'Quantity', sortable: true },\n                ]\"\n              />\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Additional Species (if added later) -->\n        <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"pets\" color=\"warning\" />\n              <h3 class=\"text-lg font-bold\">\n                {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n              </h3>\n            </div>\n            <VaDataTable\n              :items=\"\n                item?.species.map((s: any) => ({\n                  species_name: s.species?.name,\n                  scientific_name: s.species?.scientific_name,\n                  quantity: s.quantity,\n                }))\n              \"\n              :columns=\"[\n                { key: 'species_name', label: 'Species', sortable: true },\n                { key: 'scientific_name', label: 'Scientific Name', sortable: true },\n                { key: 'quantity', label: 'Quantity', sortable: true },\n              ]\"\n            />\n          </VaCardContent>\n        </VaCard>\n      </div>\n    </template>\n\n    <template #grabber>\n      <div class=\"custom-grabber\">\n        <VaIcon name=\"swap_horiz\" />\n      </div>\n    </template>\n\n    <template #end>\n      <div class=\"p-6\">\n        <SalesProposalForm :item=\"item\" />\n      </div>\n\n      <section ref=\"observerScollRef\">\n        <ObserversForm :sales-inquiry-id=\"item.id\" />\n      </section>\n      <section ref=\"companionsScollRef\">\n        <CompanionForm :sales-inquiry-id=\"item.id\" />\n      </section>\n    </template>\n  </VaSplit>\n\n  <VaModal v-model=\"_shM\" width=\"60%\" height=\"80%\">\n    <SalesClientSafariExtrasForm :table-selectable=\"true\" :item=\"item\" />\n  </VaModal>\n\n  <VaModal v-model=\"_shAM\" width=\"60%\" height=\"80%\">\n    <AccommodationForm :item=\"item\" />\n  </VaModal>\n\n  <VaModal v-model=\"_shCM\" width=\"60%\" height=\"80%\">\n    <ChartersPriceForm :item=\"item\" />\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport SalesProposalForm from './SalesProposalForm.vue'\nimport ObserversForm from './ObserversForm.vue'\nimport CompanionForm from './CompanionForm.vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport SalesClientSafariExtrasForm from './SalesClientSafariExtrasForm.vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport AccommodationForm from './AccommodationForm.vue'\nimport ChartersPriceForm from './ChartersPriceForm.vue'\n\nexport default defineComponent({\n  name: 'SalesConfirmationClientDetails',\n  components: {\n    SalesProposalForm,\n    ObserversForm,\n    CompanionForm,\n    SalesClientSafariExtrasForm,\n    AccommodationForm,\n    ChartersPriceForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const observerScollRef = ref<HTMLDivElement | null>(null)\n    const companionsScollRef = ref<HTMLDivElement | null>(null)\n    const safariExtrasRef = ref<HTMLDivElement | null>(null)\n\n    const scrollTo = (view: any) => {\n      console.log('Scroll View:', view) // For debugging\n      console.log('Section Ref El:', observerScollRef.value) // For debugging\n      if (view) {\n        view.scrollIntoView({ behavior: 'smooth' })\n      } else {\n        console.error('View is null or undefined')\n      }\n    }\n\n    return {\n      observerScollRef,\n      companionsScollRef,\n      safariExtrasRef,\n      scrollTo,\n      init,\n    }\n  },\n\n  data() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      id: null as any,\n      package_id: null as any,\n      airport: null as any,\n      departure: null as any,\n      charters: null as any,\n      arrival: null as any,\n      hotel_booking: null as any,\n    })\n\n    return {\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      formRef,\n      form,\n      searchText: '',\n      // showSafariExtrasModal: false,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shM: 'showSafariExtrasModal',\n    }),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shAM: 'showAccommodationModal',\n    }),\n\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shCM: 'showChartersPriceModal',\n    }),\n\n    logo() {\n      return useSettingsStore().logo // Get the logo from the store\n    },\n  },\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['getObservers', 'getCompanions']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createsafariExtras',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n    safeArray(arr: any) {\n      return arr || []\n    },\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n    gotBack() {\n      // Your logic to go back to the previous view\n    },\n    getOrsearchSalesInquiry() {},\n    _showSafariExtrasModal() {\n      this._shM = true\n    },\n    _showAccommodationModal() {\n      this._shAM = true\n    },\n    _showChartersPriceModal() {\n      this._shCM = true\n    },\n    // async submitSelectedItems(selectedItems: any) {\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry {\n  margin: 20px;\n}\n.split-demo {\n  & .custom-grabber {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    // background-color: var(--va-background-element);\n  }\n}\n</style>\n","<template>\n  <div class=\"flex justify-between items-center mb-6\">\n    <div class=\"flex items-center gap-3\">\n      <VaBadge\n        :text=\"item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package'\"\n        :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\"\n      />\n      <VaBadge :text=\"item?.code\" color=\"primary\" />\n    </div>\n    <div class=\"flex gap-2\">\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showChartersPriceModal()\">\n        Add Charters Costs\n      </VaButton>\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showAccommodationModal()\">\n        Add accommodation\n      </VaButton>\n      <VaButton preset=\"primary\" class=\"mr-2 mb-2\" round icon=\"add\" size=\"small\" @click=\"_showSafariExtrasModal()\">\n        Add Safari Extras Services\n      </VaButton>\n      <VaButton\n        preset=\"primary\"\n        class=\"mr-2 mb-2\"\n        round\n        icon=\"arrow_downward\"\n        size=\"small\"\n        @click=\"scrollTo(observerScollRef)\"\n      >\n        Add Observers\n      </VaButton>\n      <VaButton\n        preset=\"primary\"\n        class=\"mr-2 mb-2\"\n        round\n        icon=\"arrow_downward\"\n        size=\"small\"\n        @click=\"scrollTo(companionsScollRef)\"\n      >\n        Add Companions\n      </VaButton>\n    </div>\n  </div>\n  <VaSplit\n    class=\"split-demo h-[40rem]\"\n    :limits=\"[\n      ['30px', '20rem'],\n      [5 as any, 'any'],\n    ]\"\n  >\n    <template #start>\n      <div class=\"p-4 bg-gray-100 rounded-lg shadow-md overflow-y-auto\">\n        <!-- Header -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex justify-between items-start\">\n              <div>\n                <h2 class=\"text-2xl font-bold text-gray-800\">{{ item?.code }}</h2>\n                <p class=\"text-gray-600\">Created: {{ formatDate(item?.create_date) }}</p>\n              </div>\n              <VaBadge :text=\"item?.season?.name\" color=\"primary\" large />\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Client Information -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"person\" color=\"primary\" />\n              <h3 class=\"text-lg font-bold\">Client Information</h3>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3\">\n              <div>\n                <p class=\"text-sm text-gray-600\">Full Name</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.full_name) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Nationality</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Country</p>\n                <p class=\"font-semibold\">{{ safeString(item?.entity?.country?.name) }}</p>\n              </div>\n            </div>\n\n            <VaDivider class=\"my-3\" />\n\n            <h4 class=\"font-semibold mb-2\">Contacts</h4>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"(contact, index) in safeArray(item.entity?.contacts)\"\n                :key=\"index\"\n                class=\"flex items-center gap-2\"\n              >\n                <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" size=\"small\" color=\"info\" />\n                <span>{{ contact.contact }}</span>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Preferences Information -->\n        <VaCard class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"event\" color=\"primary\" />\n              <h3 class=\"text-lg font-bold\">Hunting Preferences</h3>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3\">\n              <div>\n                <p class=\"text-sm text-gray-600\">Preferred Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Start Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">End Date</p>\n                <p class=\"font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Duration</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunters</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_hunters }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Companions</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_companions }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Observers</p>\n                <p class=\"font-semibold\">{{ item?.formatted_preferences?.no_of_observers }}</p>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Standard Package Details -->\n        <VaCard v-if=\"item?.inquiry_type === 'standard' && item?.package_details\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"inventory_2\" color=\"success\" />\n              <h3 class=\"text-lg font-bold\">Standard Package Details</h3>\n            </div>\n\n            <div class=\"grid grid-cols-2 gap-4 mb-4\">\n              <div class=\"col-span-2 p-3 bg-green-50 rounded-lg\">\n                <p class=\"text-sm text-gray-600\">Package Amount</p>\n                <p class=\"text-2xl font-bold text-green-600\">\n                  {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n                </p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunting Area</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.area_name }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Hunting Type</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.hunting_type_name }}</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Duration</p>\n                <p class=\"font-semibold\">{{ item?.package_details?.duration }} days</p>\n              </div>\n              <div>\n                <p class=\"text-sm text-gray-600\">Package Period</p>\n                <p class=\"font-semibold text-xs\">\n                  {{ formatDate(item?.package_details?.start_date) }} -\n                  {{ formatDate(item?.package_details?.end_date) }}\n                </p>\n              </div>\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Custom Package Details -->\n        <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"tune\" color=\"info\" />\n              <h3 class=\"text-lg font-bold\">Custom Package Details</h3>\n            </div>\n\n            <!-- Custom Areas -->\n            <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n              <h4 class=\"font-semibold mb-2\">Hunting Areas</h4>\n              <div class=\"flex flex-wrap gap-2\">\n                <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\">\n                  {{ area.area_name }}\n                </VaChip>\n              </div>\n            </div>\n\n            <!-- Custom Species -->\n            <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n              <h4 class=\"font-semibold mb-2\">Requested Species</h4>\n              <VaDataTable\n                :items=\"item?.custom_details?.species\"\n                :columns=\"[\n                  { key: 'species_name', label: 'Species', sortable: true },\n                  { key: 'quantity', label: 'Quantity', sortable: true },\n                ]\"\n              />\n            </div>\n          </VaCardContent>\n        </VaCard>\n\n        <!-- Additional Species (if added later) -->\n        <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-4\">\n          <VaCardContent>\n            <div class=\"flex items-center gap-2 mb-3\">\n              <VaIcon name=\"pets\" color=\"warning\" />\n              <h3 class=\"text-lg font-bold\">\n                {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n              </h3>\n            </div>\n            <VaDataTable\n              :items=\"\n                item?.species.map((s: any) => ({\n                  species_name: s.species?.name,\n                  scientific_name: s.species?.scientific_name,\n                  quantity: s.quantity,\n                }))\n              \"\n              :columns=\"[\n                { key: 'species_name', label: 'Species', sortable: true },\n                { key: 'scientific_name', label: 'Scientific Name', sortable: true },\n                { key: 'quantity', label: 'Quantity', sortable: true },\n              ]\"\n            />\n          </VaCardContent>\n        </VaCard>\n      </div>\n    </template>\n\n    <template #grabber>\n      <div class=\"custom-grabber\">\n        <VaIcon name=\"swap_horiz\" />\n      </div>\n    </template>\n\n    <template #end>\n      <div class=\"p-6\">\n        <SalesProposalForm :item=\"item\" />\n      </div>\n\n      <section ref=\"observerScollRef\">\n        <ObserversForm :sales-inquiry-id=\"item.id\" />\n      </section>\n      <section ref=\"companionsScollRef\">\n        <CompanionForm :sales-inquiry-id=\"item.id\" />\n      </section>\n    </template>\n  </VaSplit>\n\n  <VaModal v-model=\"_shM\" width=\"60%\" height=\"80%\">\n    <SalesClientSafariExtrasForm :table-selectable=\"true\" :item=\"item\" />\n  </VaModal>\n\n  <VaModal v-model=\"_shAM\" width=\"60%\" height=\"80%\">\n    <AccommodationForm :item=\"item\" />\n  </VaModal>\n\n  <VaModal v-model=\"_shCM\" width=\"60%\" height=\"80%\">\n    <ChartersPriceForm :item=\"item\" />\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useForm, useToast } from 'vuestic-ui'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport SalesProposalForm from './SalesProposalForm.vue'\nimport ObserversForm from './ObserversForm.vue'\nimport CompanionForm from './CompanionForm.vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport SalesClientSafariExtrasForm from './SalesClientSafariExtrasForm.vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport AccommodationForm from './AccommodationForm.vue'\nimport ChartersPriceForm from './ChartersPriceForm.vue'\n\nexport default defineComponent({\n  name: 'SalesConfirmationClientDetails',\n  components: {\n    SalesProposalForm,\n    ObserversForm,\n    CompanionForm,\n    SalesClientSafariExtrasForm,\n    AccommodationForm,\n    ChartersPriceForm,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init } = useToast()\n\n    const observerScollRef = ref<HTMLDivElement | null>(null)\n    const companionsScollRef = ref<HTMLDivElement | null>(null)\n    const safariExtrasRef = ref<HTMLDivElement | null>(null)\n\n    const scrollTo = (view: any) => {\n      console.log('Scroll View:', view) // For debugging\n      console.log('Section Ref El:', observerScollRef.value) // For debugging\n      if (view) {\n        view.scrollIntoView({ behavior: 'smooth' })\n      } else {\n        console.error('View is null or undefined')\n      }\n    }\n\n    return {\n      observerScollRef,\n      companionsScollRef,\n      safariExtrasRef,\n      scrollTo,\n      init,\n    }\n  },\n\n  data() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      id: null as any,\n      package_id: null as any,\n      airport: null as any,\n      departure: null as any,\n      charters: null as any,\n      arrival: null as any,\n      hotel_booking: null as any,\n    })\n\n    return {\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      formRef,\n      form,\n      searchText: '',\n      // showSafariExtrasModal: false,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shM: 'showSafariExtrasModal',\n    }),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shAM: 'showAccommodationModal',\n    }),\n\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shCM: 'showChartersPriceModal',\n    }),\n\n    logo() {\n      return useSettingsStore().logo // Get the logo from the store\n    },\n  },\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['getObservers', 'getCompanions']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createsafariExtras',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n    safeArray(arr: any) {\n      return arr || []\n    },\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n    gotBack() {\n      // Your logic to go back to the previous view\n    },\n    getOrsearchSalesInquiry() {},\n    _showSafariExtrasModal() {\n      this._shM = true\n    },\n    _showAccommodationModal() {\n      this._shAM = true\n    },\n    _showChartersPriceModal() {\n      this._shCM = true\n    },\n    // async submitSelectedItems(selectedItems: any) {\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry {\n  margin: 20px;\n}\n.split-demo {\n  & .custom-grabber {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    // background-color: var(--va-background-element);\n  }\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"gotBack()\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <VaButtonGroup v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\">\n          <VaButton\n            class=\"px-6\"\n            color=\"primary\"\n            label=\"Add New Quota\"\n            round\n            present=\"secondary\"\n            border-color=\"primary\"\n            icon=\"add\"\n            size=\"large\"\n            @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </VaButtonGroup>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n        >\n        </Salesinquirieslist>\n        <!-- <VaStepper v-else v-model=\"step\" :steps=\"steps\" vertical controls-hidden> -->\n        <!-- <template #step-content-0> -->\n        <VaForm v-else ref=\"formRef\" class=\"space-y-6\">\n          <div class=\"p-6 bg-white rounded-lg\">\n            <!-- Package Selection Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"inventory_2\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Package Selection</h3>\n              </div>\n              <div class=\"flex gap-6 mb-4\">\n                <VaRadio\n                  v-model=\"packageSelectionType\"\n                  option=\"standard\"\n                  label=\"Use Standard Package\"\n                  @update:modelValue=\"onPackageTypeChange\"\n                />\n                <VaRadio\n                  v-model=\"packageSelectionType\"\n                  option=\"custom\"\n                  label=\"Create Custom Package\"\n                  @update:modelValue=\"onPackageTypeChange\"\n                />\n              </div>\n\n              <template v-if=\"packageSelectionType === 'standard'\">\n                <div class=\"grid grid-cols-1 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.priceListId\"\n                    placeholder=\"Select Standard Price List\"\n                    label=\"Sales Package\"\n                    :rules=\"[(v: any) => v || 'Price List is required']\"\n                    :options=\"packagesOptions\"\n                    searchable\n                    highlight-matched-text\n                    @update:modelValue=\"populateSpeciesList\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                          {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n\n                  <!-- Display selected package details -->\n                  <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4\">\n                    <VaCardTitle class=\"text-sm font-semibold\">Package Details</VaCardTitle>\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\n                        <div>\n                          <span class=\"text-gray-600\">Area:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.area ||\n                            form.priceListId.selfItem?.sales_package?.area?.name ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Hunting Type:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.hunting_type ||\n                            form.priceListId.selfItem?.price_list_type?.hunting_type?.name ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Duration:</span>\n                          <span class=\"ml-1 font-medium\"\n                            >{{\n                              form.priceListId.selfItem?.duration ||\n                              form.priceListId.selfItem?.price_list_type?.duration ||\n                              0\n                            }}\n                            days</span\n                          >\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Base Amount:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.amount ||\n                            formatCurrency(form.priceListId.selfItem?.price_list_type?.amount)\n                          }}</span>\n                        </div>\n                      </div>\n\n                      <!-- Additional details from detailed API -->\n                      <template v-if=\"form.priceListId.selfItem?.safari_extras\">\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Safari Extras Available:</div>\n                          <div class=\"flex flex-wrap gap-1\">\n                            <VaBadge\n                              v-for=\"extra in form.priceListId.selfItem.safari_extras\"\n                              :key=\"extra.id\"\n                              :text=\"`${extra.name} (${extra.currency?.symbol}${extra.amount})`\"\n                              color=\"info\"\n                              size=\"small\"\n                            />\n                          </div>\n                        </div>\n                      </template>\n\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.componions_hunter &&\n                          form.priceListId.selfItem.componions_hunter.length > 0\n                        \"\n                      >\n                        <div class=\"mt-2\">\n                          <span class=\"text-xs text-gray-600\">Companion Rate:</span>\n                          <span class=\"ml-1 text-xs font-medium\"\n                            >${{ form.priceListId.selfItem.componions_hunter[0].amount }}</span\n                          >\n                        </div>\n                      </template>\n\n                      <template\n                        v-if=\"form.priceListId.selfItem?.observer && form.priceListId.selfItem.observer.length > 0\"\n                      >\n                        <div class=\"mt-1\">\n                          <span class=\"text-xs text-gray-600\">Observer Rate:</span>\n                          <span class=\"ml-1 text-xs font-medium\"\n                            >${{ form.priceListId.selfItem.observer[0].amount }}</span\n                          >\n                        </div>\n                      </template>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n              </template>\n\n              <template v-else-if=\"packageSelectionType === 'custom'\">\n                <VaAlert color=\"info\" class=\"mb-4\">\n                  <template #title>Custom Package</template>\n                  You can create a custom package by selecting species and quantities below. This will create a unique\n                  price list for this inquiry.\n                </VaAlert>\n              </template>\n\n              <h3 class=\"font-bold text-lg mb-2 mt-4\">Species Included in Package</h3>\n              <template v-if=\"packageSelectionType === 'standard' && salesPackagesSpecies.length > 0\">\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--striped\">\n                        <thead>\n                          <tr>\n                            <th>Species Name</th>\n                            <th>Scientific Name</th>\n                            <th>Quantity</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <template v-for=\"item in salesPackagesSpecies\" :key=\"item.id\">\n                            <tr>\n                              <td class=\"font-medium\">{{ item.name }}</td>\n                              <td class=\"text-sm text-gray-600\">{{ item.scientific_name || 'N/A' }}</td>\n                              <td>\n                                <VaBadge :color=\"item.quantity > 0 ? 'success' : 'danger'\" size=\"medium\">\n                                  {{ item.quantity }}\n                                </VaBadge>\n                              </td>\n                            </tr>\n                          </template>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Details -->\n                <template\n                  v-if=\"form.priceListId.selfItem?.safari_extras && form.priceListId.selfItem.safari_extras.length > 0\"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Safari Extras</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                        <div\n                          v-for=\"extra in form.priceListId.selfItem.safari_extras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg hover:shadow-md transition-shadow\"\n                        >\n                          <div class=\"flex justify-between items-start\">\n                            <div class=\"flex-1\">\n                              <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                              <div class=\"text-xs text-gray-600 mt-1\">{{ extra.description }}</div>\n                              <div class=\"mt-2 flex items-center gap-2\">\n                                <VaBadge color=\"primary\" size=\"small\">\n                                  {{ extra.currency?.symbol }}{{ extra.amount }}\n                                </VaBadge>\n                                <span class=\"text-xs text-gray-500\">{{ formatChargesPer(extra.charges_per) }}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Trophy Fees Details -->\n                <template\n                  v-if=\"form.priceListId.selfItem?.trophy_fees && form.priceListId.selfItem.trophy_fees.length > 0\"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Trophy Fees</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"va-table-responsive\">\n                        <table class=\"va-table va-table--striped\">\n                          <thead>\n                            <tr>\n                              <th>Species</th>\n                              <th>Scientific Name</th>\n                              <th>Sequence</th>\n                              <th>Price (USD)</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <template v-for=\"fee in form.priceListId.selfItem.trophy_fees\" :key=\"fee.id\">\n                              <tr>\n                                <td class=\"font-medium\">{{ fee.species?.name }}</td>\n                                <td class=\"text-sm text-gray-600\">{{ fee.species?.scientific_name || 'N/A' }}</td>\n                                <td>\n                                  <VaBadge color=\"info\" size=\"small\">\n                                    {{ getSequenceLabel(fee.sequence_order) }}\n                                  </VaBadge>\n                                </td>\n                                <td class=\"font-semibold\">${{ fee.price_usd }}</td>\n                              </tr>\n                            </template>\n                          </tbody>\n                        </table>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Companion and Observer Rates -->\n                <template\n                  v-if=\"\n                    (form.priceListId.selfItem?.componions_hunter &&\n                      form.priceListId.selfItem.componions_hunter.length > 0) ||\n                    (form.priceListId.selfItem?.observer && form.priceListId.selfItem.observer.length > 0)\n                  \"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Additional Rates</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <template\n                          v-if=\"\n                            form.priceListId.selfItem.componions_hunter &&\n                            form.priceListId.selfItem.componions_hunter.length > 0\n                          \"\n                        >\n                          <div class=\"p-4 bg-blue-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"group\" size=\"small\" color=\"primary\" />\n                              <span class=\"font-semibold text-base\">Companion Hunter</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-primary\">\n                              ${{ form.priceListId.selfItem.componions_hunter[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per companion</div>\n                          </div>\n                        </template>\n                        <template\n                          v-if=\"form.priceListId.selfItem.observer && form.priceListId.selfItem.observer.length > 0\"\n                        >\n                          <div class=\"p-4 bg-green-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"visibility\" size=\"small\" color=\"success\" />\n                              <span class=\"font-semibold text-base\">Observer</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-success\">\n                              ${{ form.priceListId.selfItem.observer[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per observer</div>\n                          </div>\n                        </template>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </template>\n\n              <!-- Custom Package Species Selection -->\n              <template v-if=\"packageSelectionType === 'custom'\">\n                <h3 class=\"font-bold text-lg mb-2 mt-4\">Preferred Species</h3>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <VaSelect\n                        v-model=\"form.species\"\n                        label=\"Species\"\n                        :options=\"speciesOptions\"\n                        placeholder=\"Select Species\"\n                        :rules=\"[(v: any) => !!v || 'Species is required']\"\n                        searchable\n                        highlight-matched-text\n                      />\n\n                      <VaCounter\n                        v-model=\"form.quantity\"\n                        label=\"Quantity\"\n                        manual-input\n                        :min=\"1\"\n                        :max=\"100\"\n                        :rules=\"[(v: any) => v || 'Quantity is required']\"\n                      />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div>\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <span class=\"ml-3 text-sm text-gray-600\">Qty: {{ s.quantity }}</span>\n                              </div>\n                              <VaButton\n                                preset=\"plain\"\n                                icon=\"delete\"\n                                color=\"danger\"\n                                size=\"small\"\n                                @click=\"deleteFromStorage(index)\"\n                              />\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </template>\n            </div>\n\n            <!-- Basic Information Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <VaInput\n                  v-model=\"form.full_name\"\n                  type=\"text\"\n                  placeholder=\"Enter your Full name\"\n                  :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                  label=\"Full name\"\n                />\n                <VaSelect\n                  v-model=\"form.country\"\n                  placeholder=\"Select Country\"\n                  label=\"Country\"\n                  :rules=\"[(v: any) => v || 'Country is required']\"\n                  :options=\"countries\"\n                  searchable\n                  highlight-matched-text\n                />\n                <VaSelect\n                  v-model=\"form.nationality\"\n                  placeholder=\"Select Client nationality\"\n                  label=\"Client Nationality\"\n                  :rules=\"[(v: any) => v || 'Nationality is required']\"\n                  :options=\"nationality\"\n                  searchable\n                  highlight-matched-text\n                />\n              </div>\n            </div>\n\n            <!-- Contact Information Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <VaInput\n                  v-model=\"form.email\"\n                  type=\"email\"\n                  placeholder=\"Enter your email\"\n                  :rules=\"[validators.required, validators.email]\"\n                  label=\"Email\"\n                />\n\n                <VaInput\n                  v-model=\"form.phone\"\n                  type=\"text\"\n                  placeholder=\"eg: +971501234567\"\n                  :rules=\"[validators.required, validators.tell]\"\n                  label=\"Phone\"\n                />\n                <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n                <VaInput\n                  v-model=\"form.address\"\n                  type=\"text\"\n                  :max-length=\"30\"\n                  placeholder=\"Enter your address\"\n                  :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                  label=\"Address\"\n                />\n              </div>\n            </div>\n\n            <!-- Participants and Hunting Days Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Participants and Hunting Days</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <!-- <VaInput\n                v-model=\"form.no_of_hunters\"\n                label=\"Number of Hunters\"\n                placeholder=\"Enter Number of Hunters\"\n                default-value=\"1\"\n                type=\"number\"\n                required\n              /> -->\n                <VaInput\n                  v-model=\"form.no_of_observers\"\n                  label=\"Number of Observers(Optional)\"\n                  placeholder=\"Enter Number of Observers\"\n                  type=\"number\"\n                  required\n                />\n                <VaInput\n                  v-model=\"form.no_of_days\"\n                  label=\"Number of Days\"\n                  placeholder=\"Enter Number of Days\"\n                  type=\"number\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'This field is required' : true)]\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  required\n                />\n                <VaInput\n                  v-model=\"form.no_of_companions\"\n                  label=\"Number of Companions(Optional)\"\n                  placeholder=\"Enter Number of Companions\"\n                  type=\"number\"\n                  required\n                />\n                <VaSelect\n                  v-model=\"form.area\"\n                  placeholder=\"Select Area\"\n                  label=\"Hunting area\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'Hunting area is required' : true)]\"\n                  :options=\"areasOptions\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  searchable\n                  highlight-matched-text\n                />\n              </div>\n            </div>\n\n            <!-- Season and Tentative Date Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Season and Tentative Date</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <VaSelect\n                  v-model=\"form.season\"\n                  placeholder=\"Select Season\"\n                  label=\"Season\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'Season is required' : true)]\"\n                  :options=\"seasonsOptions\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  searchable\n                  highlight-matched-text\n                />\n                <!-- <VaInput\n              v-model=\"form.preferred_date\"\n              type=\"date\"\n              placeholder=\"Select Preferred Date\"\n              :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n              label=\"Preferred Date\"\n            /> -->\n                <VaDateInput\n                  v-model=\"form.preferred_date\"\n                  label=\"Preferred Date\"\n                  placeholder=\"Select Preferred Date\"\n                  :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                  required\n                />\n                <VaDateInput\n                  v-model=\"form.start_date\"\n                  label=\"Start Date\"\n                  placeholder=\"Select Start Date\"\n                  :rules=\"[(v: any) => v || 'Start Date is required']\"\n                  required\n                />\n                <VaDateInput\n                  v-model=\"form.end_date\"\n                  label=\"End Date\"\n                  placeholder=\"Select End Date\"\n                  :rules=\"[(v: any) => v || 'End Date is required']\"\n                  required\n                />\n              </div>\n            </div>\n          </div>\n\n          <VaDivider class=\"my-6\" />\n\n          <div class=\"flex justify-end gap-3 p-4\">\n            <VaButton preset=\"secondary\" @click=\"gotBack()\"> Cancel </VaButton>\n            <VaButton :loading=\"saving\" icon=\"save\" :disabled=\"!isValidForm\" @click=\"validateForm() && submit()\">\n              Submit Enquiry\n            </VaButton>\n          </div>\n        </VaForm>\n\n        <!-- </template> -->\n        <!-- </VaStepper> -->\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const packageSelectionType = ref('standard')\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      packageSelectionType,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate based on package selection type\n      if (this.packageSelectionType === 'standard') {\n        if (!this.form.priceListId) {\n          this.init({\n            message: 'Please select a standard price list.',\n            color: 'warning',\n          })\n          this.saving = false\n          return\n        }\n        // For standard packages, no need to check species quantities\n        // The package already has predefined species\n      } else if (this.packageSelectionType === 'custom') {\n        if (this.speciesObjects.length === 0) {\n          this.init({\n            message: 'Please add at least one species for custom package.',\n            color: 'warning',\n          })\n          this.saving = false\n          return\n        }\n      }\n\n      if (this.form.no_of_hunters <= 0) {\n        this.init({\n          message: 'Number of hunters must be greater than zero.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare species data based on selection type\n      let speciesData = []\n      if (this.packageSelectionType === 'custom') {\n        // Only send species for custom packages\n        speciesData = this.speciesObjects\n      }\n      // For standard packages, species come from the price list, so we don't send them\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        // For standard packages, no_of_hunters is companions, no_of_days comes from price list\n        no_of_hunters: this.packageSelectionType === 'standard' ? this.form.no_of_companions : this.form.no_of_hunters,\n        no_of_days: this.packageSelectionType === 'standard' ? null : this.form.no_of_days, // null for standard, backend gets it from price list\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Sales inquiry basic info\n        inquiry_type: this.packageSelectionType, // 'standard' or 'custom'\n\n        // Preferences\n        preferences: preferences,\n      }\n\n      // Add fields based on package type\n      if (this.packageSelectionType === 'standard') {\n        // Standard package: include price_list_id and default season_id\n        requestdata.price_list_id = this.form.priceListId?.value\n        requestdata.season_id = 6 // Default season ID\n      } else {\n        // Custom package: include species, area_id, and season_id\n        // Do NOT send price_list_id for custom packages\n        requestdata.species = speciesData\n        requestdata.area_id = this.form.area?.value\n        requestdata.season_id = this.form.season?.value || null\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        const response: any = await this.createSalesInquiry(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error creating sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: item.package_name || `Package ${item.id}`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateSpeciesList() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data\n          if (this.packageSelectionType === 'standard') {\n            // Set hunting area\n            if (priceListData.sales_package?.area?.name) {\n              const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n              if (areaOption) {\n                this.form.area = areaOption\n              }\n            }\n\n            // Set duration (number of days)\n            if (priceListData.price_list_type?.duration) {\n              this.form.no_of_days = priceListData.price_list_type.duration\n            }\n\n            // Set season based on date range\n            if (priceListData.price_list_type?.price_list?.start_date) {\n              const startDate = new Date(priceListData.price_list_type.price_list.start_date)\n              const seasonOption = this.seasonsOptions.find((s: any) => {\n                if (s.selfItem?.start_date) {\n                  const seasonStart = new Date(s.selfItem.start_date)\n                  return seasonStart.getFullYear() === startDate.getFullYear()\n                }\n                return false\n              })\n              if (seasonOption) {\n                this.form.season = seasonOption\n              }\n            }\n          }\n\n          // Extract species from sales_package.species\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            // Update store directly\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', speciesList)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    onPackageTypeChange() {\n      const settingsStore = useSettingsStore()\n\n      // Reset species selections when switching package types\n      if (this.packageSelectionType === 'standard') {\n        this.form.priceListId = null\n        this.salesPackagesSpecies.forEach((s: any) => {\n          s.requested_quantity = 0\n        })\n      } else {\n        // Reset to custom mode - clear package selection and re-enable fields\n        this.form.priceListId = null\n        this.form.area = null\n        this.form.no_of_days = 0\n        this.form.season = null\n        settingsStore.salesPackagesSpecies = []\n        this.speciesObjects = []\n      }\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"gotBack()\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <VaButtonGroup v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\">\n          <VaButton\n            class=\"px-6\"\n            color=\"primary\"\n            label=\"Add New Quota\"\n            round\n            present=\"secondary\"\n            border-color=\"primary\"\n            icon=\"add\"\n            size=\"large\"\n            @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </VaButtonGroup>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n        >\n        </Salesinquirieslist>\n        <!-- <VaStepper v-else v-model=\"step\" :steps=\"steps\" vertical controls-hidden> -->\n        <!-- <template #step-content-0> -->\n        <VaForm v-else ref=\"formRef\" class=\"space-y-6\">\n          <div class=\"p-6 bg-white rounded-lg\">\n            <!-- Package Selection Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"inventory_2\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Package Selection</h3>\n              </div>\n              <div class=\"flex gap-6 mb-4\">\n                <VaRadio\n                  v-model=\"packageSelectionType\"\n                  option=\"standard\"\n                  label=\"Use Standard Package\"\n                  @update:modelValue=\"onPackageTypeChange\"\n                />\n                <VaRadio\n                  v-model=\"packageSelectionType\"\n                  option=\"custom\"\n                  label=\"Create Custom Package\"\n                  @update:modelValue=\"onPackageTypeChange\"\n                />\n              </div>\n\n              <template v-if=\"packageSelectionType === 'standard'\">\n                <div class=\"grid grid-cols-1 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.priceListId\"\n                    placeholder=\"Select Standard Price List\"\n                    label=\"Sales Package\"\n                    :rules=\"[(v: any) => v || 'Price List is required']\"\n                    :options=\"packagesOptions\"\n                    searchable\n                    highlight-matched-text\n                    @update:modelValue=\"populateSpeciesList\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                          {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n\n                  <!-- Display selected package details -->\n                  <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4\">\n                    <VaCardTitle class=\"text-sm font-semibold\">Package Details</VaCardTitle>\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\n                        <div>\n                          <span class=\"text-gray-600\">Area:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.area ||\n                            form.priceListId.selfItem?.sales_package?.area?.name ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Hunting Type:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.hunting_type ||\n                            form.priceListId.selfItem?.price_list_type?.hunting_type?.name ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Duration:</span>\n                          <span class=\"ml-1 font-medium\"\n                            >{{\n                              form.priceListId.selfItem?.duration ||\n                              form.priceListId.selfItem?.price_list_type?.duration ||\n                              0\n                            }}\n                            days</span\n                          >\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Base Amount:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.amount ||\n                            formatCurrency(form.priceListId.selfItem?.price_list_type?.amount)\n                          }}</span>\n                        </div>\n                      </div>\n\n                      <!-- Additional details from detailed API -->\n                      <template v-if=\"form.priceListId.selfItem?.safari_extras\">\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Safari Extras Available:</div>\n                          <div class=\"flex flex-wrap gap-1\">\n                            <VaBadge\n                              v-for=\"extra in form.priceListId.selfItem.safari_extras\"\n                              :key=\"extra.id\"\n                              :text=\"`${extra.name} (${extra.currency?.symbol}${extra.amount})`\"\n                              color=\"info\"\n                              size=\"small\"\n                            />\n                          </div>\n                        </div>\n                      </template>\n\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.componions_hunter &&\n                          form.priceListId.selfItem.componions_hunter.length > 0\n                        \"\n                      >\n                        <div class=\"mt-2\">\n                          <span class=\"text-xs text-gray-600\">Companion Rate:</span>\n                          <span class=\"ml-1 text-xs font-medium\"\n                            >${{ form.priceListId.selfItem.componions_hunter[0].amount }}</span\n                          >\n                        </div>\n                      </template>\n\n                      <template\n                        v-if=\"form.priceListId.selfItem?.observer && form.priceListId.selfItem.observer.length > 0\"\n                      >\n                        <div class=\"mt-1\">\n                          <span class=\"text-xs text-gray-600\">Observer Rate:</span>\n                          <span class=\"ml-1 text-xs font-medium\"\n                            >${{ form.priceListId.selfItem.observer[0].amount }}</span\n                          >\n                        </div>\n                      </template>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n              </template>\n\n              <template v-else-if=\"packageSelectionType === 'custom'\">\n                <VaAlert color=\"info\" class=\"mb-4\">\n                  <template #title>Custom Package</template>\n                  You can create a custom package by selecting species and quantities below. This will create a unique\n                  price list for this inquiry.\n                </VaAlert>\n              </template>\n\n              <h3 class=\"font-bold text-lg mb-2 mt-4\">Species Included in Package</h3>\n              <template v-if=\"packageSelectionType === 'standard' && salesPackagesSpecies.length > 0\">\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--striped\">\n                        <thead>\n                          <tr>\n                            <th>Species Name</th>\n                            <th>Scientific Name</th>\n                            <th>Quantity</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <template v-for=\"item in salesPackagesSpecies\" :key=\"item.id\">\n                            <tr>\n                              <td class=\"font-medium\">{{ item.name }}</td>\n                              <td class=\"text-sm text-gray-600\">{{ item.scientific_name || 'N/A' }}</td>\n                              <td>\n                                <VaBadge :color=\"item.quantity > 0 ? 'success' : 'danger'\" size=\"medium\">\n                                  {{ item.quantity }}\n                                </VaBadge>\n                              </td>\n                            </tr>\n                          </template>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Details -->\n                <template\n                  v-if=\"form.priceListId.selfItem?.safari_extras && form.priceListId.selfItem.safari_extras.length > 0\"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Safari Extras</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                        <div\n                          v-for=\"extra in form.priceListId.selfItem.safari_extras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg hover:shadow-md transition-shadow\"\n                        >\n                          <div class=\"flex justify-between items-start\">\n                            <div class=\"flex-1\">\n                              <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                              <div class=\"text-xs text-gray-600 mt-1\">{{ extra.description }}</div>\n                              <div class=\"mt-2 flex items-center gap-2\">\n                                <VaBadge color=\"primary\" size=\"small\">\n                                  {{ extra.currency?.symbol }}{{ extra.amount }}\n                                </VaBadge>\n                                <span class=\"text-xs text-gray-500\">{{ formatChargesPer(extra.charges_per) }}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Trophy Fees Details -->\n                <template\n                  v-if=\"form.priceListId.selfItem?.trophy_fees && form.priceListId.selfItem.trophy_fees.length > 0\"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Trophy Fees</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"va-table-responsive\">\n                        <table class=\"va-table va-table--striped\">\n                          <thead>\n                            <tr>\n                              <th>Species</th>\n                              <th>Scientific Name</th>\n                              <th>Sequence</th>\n                              <th>Price (USD)</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <template v-for=\"fee in form.priceListId.selfItem.trophy_fees\" :key=\"fee.id\">\n                              <tr>\n                                <td class=\"font-medium\">{{ fee.species?.name }}</td>\n                                <td class=\"text-sm text-gray-600\">{{ fee.species?.scientific_name || 'N/A' }}</td>\n                                <td>\n                                  <VaBadge color=\"info\" size=\"small\">\n                                    {{ getSequenceLabel(fee.sequence_order) }}\n                                  </VaBadge>\n                                </td>\n                                <td class=\"font-semibold\">${{ fee.price_usd }}</td>\n                              </tr>\n                            </template>\n                          </tbody>\n                        </table>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Companion and Observer Rates -->\n                <template\n                  v-if=\"\n                    (form.priceListId.selfItem?.componions_hunter &&\n                      form.priceListId.selfItem.componions_hunter.length > 0) ||\n                    (form.priceListId.selfItem?.observer && form.priceListId.selfItem.observer.length > 0)\n                  \"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Additional Rates</h3>\n                  <VaCard outlined class=\"mb-4\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <template\n                          v-if=\"\n                            form.priceListId.selfItem.componions_hunter &&\n                            form.priceListId.selfItem.componions_hunter.length > 0\n                          \"\n                        >\n                          <div class=\"p-4 bg-blue-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"group\" size=\"small\" color=\"primary\" />\n                              <span class=\"font-semibold text-base\">Companion Hunter</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-primary\">\n                              ${{ form.priceListId.selfItem.componions_hunter[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per companion</div>\n                          </div>\n                        </template>\n                        <template\n                          v-if=\"form.priceListId.selfItem.observer && form.priceListId.selfItem.observer.length > 0\"\n                        >\n                          <div class=\"p-4 bg-green-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"visibility\" size=\"small\" color=\"success\" />\n                              <span class=\"font-semibold text-base\">Observer</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-success\">\n                              ${{ form.priceListId.selfItem.observer[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per observer</div>\n                          </div>\n                        </template>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </template>\n\n              <!-- Custom Package Species Selection -->\n              <template v-if=\"packageSelectionType === 'custom'\">\n                <h3 class=\"font-bold text-lg mb-2 mt-4\">Preferred Species</h3>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <VaSelect\n                        v-model=\"form.species\"\n                        label=\"Species\"\n                        :options=\"speciesOptions\"\n                        placeholder=\"Select Species\"\n                        :rules=\"[(v: any) => !!v || 'Species is required']\"\n                        searchable\n                        highlight-matched-text\n                      />\n\n                      <VaCounter\n                        v-model=\"form.quantity\"\n                        label=\"Quantity\"\n                        manual-input\n                        :min=\"1\"\n                        :max=\"100\"\n                        :rules=\"[(v: any) => v || 'Quantity is required']\"\n                      />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div>\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <span class=\"ml-3 text-sm text-gray-600\">Qty: {{ s.quantity }}</span>\n                              </div>\n                              <VaButton\n                                preset=\"plain\"\n                                icon=\"delete\"\n                                color=\"danger\"\n                                size=\"small\"\n                                @click=\"deleteFromStorage(index)\"\n                              />\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </template>\n            </div>\n\n            <!-- Basic Information Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <VaInput\n                  v-model=\"form.full_name\"\n                  type=\"text\"\n                  placeholder=\"Enter your Full name\"\n                  :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                  label=\"Full name\"\n                />\n                <VaSelect\n                  v-model=\"form.country\"\n                  placeholder=\"Select Country\"\n                  label=\"Country\"\n                  :rules=\"[(v: any) => v || 'Country is required']\"\n                  :options=\"countries\"\n                  searchable\n                  highlight-matched-text\n                />\n                <VaSelect\n                  v-model=\"form.nationality\"\n                  placeholder=\"Select Client nationality\"\n                  label=\"Client Nationality\"\n                  :rules=\"[(v: any) => v || 'Nationality is required']\"\n                  :options=\"nationality\"\n                  searchable\n                  highlight-matched-text\n                />\n              </div>\n            </div>\n\n            <!-- Contact Information Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <VaInput\n                  v-model=\"form.email\"\n                  type=\"email\"\n                  placeholder=\"Enter your email\"\n                  :rules=\"[validators.required, validators.email]\"\n                  label=\"Email\"\n                />\n\n                <VaInput\n                  v-model=\"form.phone\"\n                  type=\"text\"\n                  placeholder=\"eg: +971501234567\"\n                  :rules=\"[validators.required, validators.tell]\"\n                  label=\"Phone\"\n                />\n                <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n                <VaInput\n                  v-model=\"form.address\"\n                  type=\"text\"\n                  :max-length=\"30\"\n                  placeholder=\"Enter your address\"\n                  :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                  label=\"Address\"\n                />\n              </div>\n            </div>\n\n            <!-- Participants and Hunting Days Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Participants and Hunting Days</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <!-- <VaInput\n                v-model=\"form.no_of_hunters\"\n                label=\"Number of Hunters\"\n                placeholder=\"Enter Number of Hunters\"\n                default-value=\"1\"\n                type=\"number\"\n                required\n              /> -->\n                <VaInput\n                  v-model=\"form.no_of_observers\"\n                  label=\"Number of Observers(Optional)\"\n                  placeholder=\"Enter Number of Observers\"\n                  type=\"number\"\n                  required\n                />\n                <VaInput\n                  v-model=\"form.no_of_days\"\n                  label=\"Number of Days\"\n                  placeholder=\"Enter Number of Days\"\n                  type=\"number\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'This field is required' : true)]\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  required\n                />\n                <VaInput\n                  v-model=\"form.no_of_companions\"\n                  label=\"Number of Companions(Optional)\"\n                  placeholder=\"Enter Number of Companions\"\n                  type=\"number\"\n                  required\n                />\n                <VaSelect\n                  v-model=\"form.area\"\n                  placeholder=\"Select Area\"\n                  label=\"Hunting area\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'Hunting area is required' : true)]\"\n                  :options=\"areasOptions\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  searchable\n                  highlight-matched-text\n                />\n              </div>\n            </div>\n\n            <!-- Season and Tentative Date Section -->\n            <div class=\"mb-6\">\n              <div class=\"flex items-center gap-2 mb-4\">\n                <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                <h3 class=\"text-xl font-bold text-gray-800\">Season and Tentative Date</h3>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <VaSelect\n                  v-model=\"form.season\"\n                  placeholder=\"Select Season\"\n                  label=\"Season\"\n                  :rules=\"[(v: any) => (packageSelectionType === 'custom' ? v || 'Season is required' : true)]\"\n                  :options=\"seasonsOptions\"\n                  :disabled=\"packageSelectionType === 'standard' && !!form.priceListId\"\n                  searchable\n                  highlight-matched-text\n                />\n                <!-- <VaInput\n              v-model=\"form.preferred_date\"\n              type=\"date\"\n              placeholder=\"Select Preferred Date\"\n              :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n              label=\"Preferred Date\"\n            /> -->\n                <VaDateInput\n                  v-model=\"form.preferred_date\"\n                  label=\"Preferred Date\"\n                  placeholder=\"Select Preferred Date\"\n                  :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                  required\n                />\n                <VaDateInput\n                  v-model=\"form.start_date\"\n                  label=\"Start Date\"\n                  placeholder=\"Select Start Date\"\n                  :rules=\"[(v: any) => v || 'Start Date is required']\"\n                  required\n                />\n                <VaDateInput\n                  v-model=\"form.end_date\"\n                  label=\"End Date\"\n                  placeholder=\"Select End Date\"\n                  :rules=\"[(v: any) => v || 'End Date is required']\"\n                  required\n                />\n              </div>\n            </div>\n          </div>\n\n          <VaDivider class=\"my-6\" />\n\n          <div class=\"flex justify-end gap-3 p-4\">\n            <VaButton preset=\"secondary\" @click=\"gotBack()\"> Cancel </VaButton>\n            <VaButton :loading=\"saving\" icon=\"save\" :disabled=\"!isValidForm\" @click=\"validateForm() && submit()\">\n              Submit Enquiry\n            </VaButton>\n          </div>\n        </VaForm>\n\n        <!-- </template> -->\n        <!-- </VaStepper> -->\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const packageSelectionType = ref('standard')\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      packageSelectionType,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate based on package selection type\n      if (this.packageSelectionType === 'standard') {\n        if (!this.form.priceListId) {\n          this.init({\n            message: 'Please select a standard price list.',\n            color: 'warning',\n          })\n          this.saving = false\n          return\n        }\n        // For standard packages, no need to check species quantities\n        // The package already has predefined species\n      } else if (this.packageSelectionType === 'custom') {\n        if (this.speciesObjects.length === 0) {\n          this.init({\n            message: 'Please add at least one species for custom package.',\n            color: 'warning',\n          })\n          this.saving = false\n          return\n        }\n      }\n\n      if (this.form.no_of_hunters <= 0) {\n        this.init({\n          message: 'Number of hunters must be greater than zero.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare species data based on selection type\n      let speciesData = []\n      if (this.packageSelectionType === 'custom') {\n        // Only send species for custom packages\n        speciesData = this.speciesObjects\n      }\n      // For standard packages, species come from the price list, so we don't send them\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        // For standard packages, no_of_hunters is companions, no_of_days comes from price list\n        no_of_hunters: this.packageSelectionType === 'standard' ? this.form.no_of_companions : this.form.no_of_hunters,\n        no_of_days: this.packageSelectionType === 'standard' ? null : this.form.no_of_days, // null for standard, backend gets it from price list\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Sales inquiry basic info\n        inquiry_type: this.packageSelectionType, // 'standard' or 'custom'\n\n        // Preferences\n        preferences: preferences,\n      }\n\n      // Add fields based on package type\n      if (this.packageSelectionType === 'standard') {\n        // Standard package: include price_list_id and default season_id\n        requestdata.price_list_id = this.form.priceListId?.value\n        requestdata.season_id = 6 // Default season ID\n      } else {\n        // Custom package: include species, area_id, and season_id\n        // Do NOT send price_list_id for custom packages\n        requestdata.species = speciesData\n        requestdata.area_id = this.form.area?.value\n        requestdata.season_id = this.form.season?.value || null\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        const response: any = await this.createSalesInquiry(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error creating sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: item.package_name || `Package ${item.id}`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateSpeciesList() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data\n          if (this.packageSelectionType === 'standard') {\n            // Set hunting area\n            if (priceListData.sales_package?.area?.name) {\n              const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n              if (areaOption) {\n                this.form.area = areaOption\n              }\n            }\n\n            // Set duration (number of days)\n            if (priceListData.price_list_type?.duration) {\n              this.form.no_of_days = priceListData.price_list_type.duration\n            }\n\n            // Set season based on date range\n            if (priceListData.price_list_type?.price_list?.start_date) {\n              const startDate = new Date(priceListData.price_list_type.price_list.start_date)\n              const seasonOption = this.seasonsOptions.find((s: any) => {\n                if (s.selfItem?.start_date) {\n                  const seasonStart = new Date(s.selfItem.start_date)\n                  return seasonStart.getFullYear() === startDate.getFullYear()\n                }\n                return false\n              })\n              if (seasonOption) {\n                this.form.season = seasonOption\n              }\n            }\n          }\n\n          // Extract species from sales_package.species\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            // Update store directly\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', speciesList)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    onPackageTypeChange() {\n      const settingsStore = useSettingsStore()\n\n      // Reset species selections when switching package types\n      if (this.packageSelectionType === 'standard') {\n        this.form.priceListId = null\n        this.salesPackagesSpecies.forEach((s: any) => {\n          s.requested_quantity = 0\n        })\n      } else {\n        // Reset to custom mode - clear package selection and re-enable fields\n        this.form.priceListId = null\n        this.form.area = null\n        this.form.no_of_days = 0\n        this.form.season = null\n        settingsStore.salesPackagesSpecies = []\n        this.speciesObjects = []\n      }\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n"],"names":["_sfc_main$7","defineComponent","ref","mapActions","useSalesInquiriesStore","useSettingsStore","response","_a","dataArray","item","_c","_b","_e","_d","_g","_f","contact","_h","_i","_j","_k","_l","_m","_n","_o","_p","_q","error","rowData","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_VaSelect","_ctx","_cache","$event","_component_VaDateInput","_component_VaInput","_component_VaDataTable","_withCtx","_component_VaButton","_component_VaPagination","_sfc_main$6","init","useToast","iformRef","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isNotUpBookingSelected","onInputChange","event","form","reactive","mapState","usePriceListStore","useRegulatoryPackageStore","index","payLoad","requestDate","errors","handleErrors","data","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createBlock","_component_VaCard","_component_VaCardContent","_component_VaForm","value","_component_VaTextarea","_hoisted_4","_renderList","i","_toDisplayString","_createCommentVNode","_createTextVNode","_sfc_main$5","formRef","mapWritableState","payload","v","_sfc_main$4","AccomodationTypeForm","useAccountsStore","checkInDate","checkOutDate","format","_withModifiers","_component_VaIcon","_component_VaModal","_component_AccomodationTypeForm","_sfc_main$3","_sfc_main$2","ChartersPriceListForm","_component_ChartersPriceListForm","_sfc_main$1","SalesProposalForm","ObserversForm","CompanionForm","SalesClientSafariExtrasForm","AccommodationForm","ChartersPriceForm","observerScollRef","companionsScollRef","safariExtrasRef","view","dateString","amount","contactType","arr","str","fallback","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_component_VaBadge","_component_VaSplit","_component_VaDivider","_hoisted_32","area","_component_VaChip","s","_component_SalesProposalForm","_component_ObserversForm","_component_CompanionForm","_component_SalesClientSafariExtrasForm","_component_AccommodationForm","_component_ChartersPriceForm","_sfc_main","Salesinquirieslist","VaForm","VaInput","VaSelect","VaButton","SalesInquiryDetails","contactFormRef","showAddSalesInquiriesForm","btnIcon","isValidContactForm","validateContactForm","resetValidationContactForm","resetContactForm","showDetailsPage","packageSelectionType","contactForm","toggleAddSalesInquiriesForm","gotBack","countries","nationality","categoryOptions","contactsTypes","clients","step","getCountries","config","axios","country","getCategories","category","getNationalities","getContactTypes","contactFieldType","computed","contact_field_type","onMounted","validators","downloadPdf","useQuotaStore","entityData","contacts","speciesData","preferences","requestdata","species","settingsStore","priceListData","areaOption","a","startDate","seasonOption","speciesList","id","newValue","updatedItem","endDate","start","end","startFormatted","endFormatted","chargesPer","c","sequence","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_component_VaButtonGroup","_component_SalesInquiryDetails","_component_VaRadio","_component_VaCardTitle","extra","_component_VaAlert","fee","_hoisted_42","_component_VaCounter","_component_VaList","_component_VaListItem","_component_VaListItemSection","_component_VaListItemLabel","_component_Salesinquirieslist"],"mappings":"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"}