const y=async(r,s="price-list-report.pdf")=>{if(!r){console.warn("downloadPdf: no data provided");return}try{if(typeof r=="string"&&/^https?:\/\//i.test(r)){const t=await fetch(r);if(!t.ok)throw new Error(`Failed to fetch PDF from URL (status ${t.status})`);const n=await t.blob(),e=URL.createObjectURL(n),o=document.createElement("a");o.href=e,o.download=s,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(e);return}const a=(r||"").replace(/^data:application\/pdf;base64,/,"");let c=null;try{c=atob(a)}catch{c=null}if(c&&(c.includes("<!DOCTYPE")||c.includes("<html"))){const t=new Blob([c],{type:"text/html"}),n=URL.createObjectURL(t),e=document.createElement("a");e.href=n,e.download=s.replace(/\.pdf$/i,".html"),document.body.appendChild(e),e.click(),e.remove(),URL.revokeObjectURL(n);return}const i=a,b=1024,p=[];for(let t=0;t<i.length;t+=b){const n=i.slice(t,t+b),e=atob(n),o=new Array(e.length);for(let l=0;l<e.length;l++)o[l]=e.charCodeAt(l);const u=new Uint8Array(o);p.push(u)}const f=new Blob(p,{type:"application/pdf"}),h=URL.createObjectURL(f),d=document.createElement("a");d.href=h,d.download=s,document.body.appendChild(d),d.click(),d.remove(),URL.revokeObjectURL(h)}catch(a){console.error("downloadPdf error:",a)}};export{y as d};
//# sourceMappingURL=pdfDownloader-DiRJnS-k.js.map
