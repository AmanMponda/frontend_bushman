{"version":3,"file":"ManagePriceList-DHbAdZ_m.js","sources":["../../src/pages/module-settings/components/PricesList/PriceListDetails.vue","../../src/pages/module-settings/components/PricesList/PriceListDetails.vue","../../src/pages/module-settings/components/PricesList/CreatePricesListForm.vue","../../src/pages/module-settings/components/PricesList/CreatePricesListForm.vue","../../src/pages/module-settings/ManagePriceList.vue","../../src/pages/module-settings/ManagePriceList.vue"],"sourcesContent":["<template>\n  <VaSkeletonGroup v-if=\"cardStore.loading || !priceListItem || !priceListItem.sales_package\">\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton height=\"360px\" variant=\"squared\" />\n  </VaSkeletonGroup>\n\n  <div v-else class=\"price-list-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ priceListItem.sales_package?.name }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ formatDate(priceListItem.price_list_type?.price_list?.start_date) }} -\n              {{ formatDate(priceListItem.price_list_type?.price_list?.end_date) }}\n            </VaChip>\n            <VaChip v-if=\"priceListItem.price_list_type?.is_active\" color=\"success\" size=\"large\">\n              <VaIcon name=\"check_circle\" class=\"mr-1\" />\n              Active\n            </VaChip>\n            <VaChip v-else color=\"danger\" size=\"large\">\n              <VaIcon name=\"cancel\" class=\"mr-1\" />\n              Inactive\n            </VaChip>\n          </div>\n          <p class=\"text-lg text-secondary\">\n            <VaIcon name=\"location_on\" size=\"small\" />\n            {{ priceListItem.sales_package?.area?.name }} ({{ priceListItem.sales_package?.area?.description }})\n          </p>\n          <!-- Download PDF Button -->\n          <div class=\"mt-4\">\n            <VaButton v-if=\"pdfData\" color=\"primary\" icon=\"download\" @click=\"downloadPriceListPdf\">\n              Download PDF\n            </VaButton>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">\n            {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(priceListItem.price_list_type.amount) }}\n          </div>\n          <div class=\"text-sm text-secondary mt-1\">Base Amount</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ priceListItem.price_list_type.duration }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"verified\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.sales_package.regulatory_package?.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">License Type</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"category\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.price_list_type.hunting_type.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Species Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        Available Species ({{ speciesList.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n          <VaCard\n            v-for=\"species in speciesList\"\n            :key=\"species.id\"\n            class=\"species-card\"\n            :color=\"species.quantity > 0 ? '#f0f9ff' : '#fef2f2'\"\n          >\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ getSpeciesName(species) }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ getSpeciesScientificName(species) }}</div>\n                </div>\n                <VaBadge :color=\"species.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\">\n                  Qty: {{ species.quantity }}\n                </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Trophy Fees Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"military_tech\" />\n        Trophy Fees ({{ priceListItem.price_list_type.currency.name }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"priceListItem.trophy_fees && priceListItem.trophy_fees.length > 0\">\n          <div class=\"va-table-responsive\">\n            <table class=\"va-table va-table--hoverable w-full\">\n              <thead>\n                <tr>\n                  <th class=\"text-left\">Species</th>\n                  <th class=\"text-left\">Scientific Name</th>\n                  <th class=\"text-center\">Sequence</th>\n                  <th class=\"text-right\">Price ({{ priceListItem.price_list_type.currency.symbol }})</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"fee in priceListItem.trophy_fees\" :key=\"fee.id\">\n                  <td class=\"font-semibold\">{{ fee.species.name }}</td>\n                  <td class=\"text-secondary italic\">{{ fee.species.scientific_name }}</td>\n                  <td class=\"text-center\">\n                    <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" />\n                  </td>\n                  <td class=\"text-right font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(fee.price_usd) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <VaAlert v-else color=\"info\" border=\"top\"> No trophy fees available for this package </VaAlert>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Upgrade Fees Section -->\n    <VaCard\n      v-if=\"priceListItem.upgrade_fees && priceListItem.upgrade_fees.length > 0\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"warning\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"upgrade\" />\n        Upgrade Fees\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Species</th>\n                <th class=\"text-right\">Amount</th>\n                <th class=\"text-left\">Description</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"fee in priceListItem.upgrade_fees\" :key=\"fee.id\">\n                <td class=\"font-semibold\">{{ fee.species_name }}</td>\n                <td class=\"text-right font-bold text-lg\">{{ fee.currency_symbol }}{{ formatAmount(fee.amount) }}</td>\n                <td class=\"text-secondary\">{{ fee.description }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras & Additional Costs -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n      <!-- Safari Extras -->\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"add_circle\" />\n          Safari Extras\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-3\">\n            <!-- Observer -->\n            <div v-if=\"priceListItem.observer && priceListItem.observer.length > 0\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base\">Observer</div>\n                  <div class=\"text-sm text-secondary\">Observer cost</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ priceListItem.observer[0]?.amount }}\n                  </div>\n                  <div class=\"text-xs text-secondary\">per day / person</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Other Extras -->\n            <div v-for=\"extra in priceListItem.safari_extras\" :key=\"extra.id\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                  <div class=\"text-sm text-secondary\">{{ extra.description }}</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">{{ extra.currency.symbol }}{{ extra.amount }}</div>\n                  <div class=\"text-xs text-secondary\">{{ formatChargesPer(extra.charges_per) }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n\n      <!-- Companion Hunter Costs -->\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"groups\" />\n          Companion Hunter Costs\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-4\">\n            <!-- Companion Hunter -->\n            <div v-if=\"companionHunterCosts && companionHunterCosts.length > 0\">\n              <div class=\"text-sm font-semibold text-secondary mb-2\">Companion Hunter</div>\n              <div\n                v-for=\"companion in companionHunterCosts\"\n                :key=\"companion.id\"\n                class=\"p-4 rounded-lg bg-green-50 mb-2\"\n              >\n                <div class=\"flex justify-between items-center mb-2\">\n                  <span class=\"text-base\">Days</span>\n                  <span class=\"font-bold text-xl\">{{ companion.days }}</span>\n                </div>\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-base\">Rate</span>\n                  <span class=\"font-bold text-xl\"> {{ currencySymbol }}{{ companion.amount }} </span>\n                </div>\n              </div>\n            </div>\n            <VaAlert v-else color=\"info\" border=\"top\"> No companion hunter costs available </VaAlert>\n          </div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Important Notes -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"danger\">\n      <VaCardContent>\n        <VaAlert color=\"warning\" border=\"left\" class=\"mb-3\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"warning\" />\n              <span class=\"font-bold\">Important Information</span>\n            </div>\n          </template>\n          All hunts confirmation is subject to quota availability. Other safari packages are available on request and\n          can be customized depending on client requirements.\n        </VaAlert>\n\n        <VaAlert v-if=\"hasUpgradeFees\" color=\"info\" border=\"left\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"info\" />\n              <span class=\"font-bold\">Upgrade Fees</span>\n            </div>\n          </template>\n          If additional trophies beyond the standard package are taken, upgrade fees may apply (plus trophy fees).\n        </VaAlert>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { usePaymentCardsStore } from '../../../../stores/payment-cards'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\n\nexport default defineComponent({\n  components: {\n    // PriceListQuota,\n    // PriceListByHuntingType,\n    // PriceListPackagesDetails,\n    // PricesSpeciesList,\n    // ObComCosts,\n    // AdditionCharges,\n  },\n\n  props: {\n    priceListItem: {\n      type: Object,\n      required: true,\n    },\n    pdfData: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      cardStore: usePaymentCardsStore(),\n      format,\n    }\n  },\n  computed: {\n    loading() {\n      return this.cardStore.loading\n    },\n    hasUpgradeFees() {\n      // Check if there are upgrade fees from the API\n      return this.priceListItem.upgrade_fees && this.priceListItem.upgrade_fees.length > 0\n    },\n    // Support both old (sales_package.species) and new (species) API structures\n    speciesList() {\n      // New structure: species array directly on priceListItem\n      if (this.priceListItem.species && Array.isArray(this.priceListItem.species)) {\n        return this.priceListItem.species\n      }\n      // Old structure: nested under sales_package.species\n      return this.priceListItem.sales_package?.species || []\n    },\n    // Support both old (componions_hunter) and new (companion_hunter_costs) API structures\n    companionHunterCosts() {\n      // New structure: companion_hunter_costs array\n      if (this.priceListItem.companion_hunter_costs && Array.isArray(this.priceListItem.companion_hunter_costs)) {\n        return this.priceListItem.companion_hunter_costs\n      }\n      // Old structure: componions_hunter\n      return this.priceListItem.componions_hunter || []\n    },\n    // Get currency symbol from various sources\n    currencySymbol() {\n      return this.priceListItem.price_list_type?.currency?.symbol || this.priceListItem.currency?.symbol || '$'\n    },\n  },\n  mounted() {\n    this.cardStore.load()\n  },\n  methods: {\n    // Format date safely\n    formatDate(dateStr: string | null | undefined) {\n      if (!dateStr) return 'N/A'\n      try {\n        return this.format(dateStr, 'MMM yyyy')\n      } catch {\n        return dateStr\n      }\n    },\n    // Get species name - supports both old nested structure and new flat structure\n    getSpeciesName(species: any) {\n      // New structure: name directly on species object\n      if (species.name) {\n        return species.name\n      }\n      // Old structure: nested species.species.name\n      return species.species?.name || 'Unknown'\n    },\n    // Get species scientific name - supports both structures\n    getSpeciesScientificName(species: any) {\n      // New structure: scientific_name directly on species object\n      if (species.scientific_name) {\n        return species.scientific_name\n      }\n      // Old structure: nested species.species.scientific_name\n      return species.species?.scientific_name || ''\n    },\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      // Convert \"PER_DAY\" to \"per day\", \"PER_ROUND\" to \"per round\", etc.\n      return chargesPer.toLowerCase().replace('_', ' ')\n    },\n    formatAmount(amount: string | number | null | undefined) {\n      if (amount === null || amount === undefined) return 'N/A'\n      const num = typeof amount === 'string' ? parseFloat(amount) : amount\n      if (isNaN(num)) return 'N/A'\n      return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n    },\n    getSequenceLabel(sequence: number) {\n      const suffixes = ['th', 'st', 'nd', 'rd']\n      const value = sequence % 100\n      const suffix = suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0]\n      return `${sequence}${suffix}`\n    },\n    async downloadPriceListPdf() {\n      if (!this.pdfData) {\n        console.warn('No PDF data available')\n        return\n      }\n      try {\n        const packageName = this.priceListItem?.sales_package?.name || 'price-list'\n        const fileName = `${packageName.replace(/\\s+/g, '-')}-${Date.now()}.pdf`\n        await downloadPdf(this.pdfData, fileName)\n      } catch (err) {\n        console.error('Failed to download PDF:', err)\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n.price-list-details {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.species-card {\n  transition: all 0.3s ease;\n}\n\n.species-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.va-table th {\n  font-weight: 600;\n  text-transform: uppercase;\n  font-size: 0.875rem;\n  letter-spacing: 0.05em;\n}\n\n.va-table tbody tr {\n  transition: background-color 0.2s ease;\n}\n\n.va-table tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.02);\n}\n</style>\n","<template>\n  <VaSkeletonGroup v-if=\"cardStore.loading || !priceListItem || !priceListItem.sales_package\">\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton class=\"mb-4\" height=\"160px\" variant=\"squared\" />\n    <VaSkeleton height=\"360px\" variant=\"squared\" />\n  </VaSkeletonGroup>\n\n  <div v-else class=\"price-list-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ priceListItem.sales_package?.name }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ formatDate(priceListItem.price_list_type?.price_list?.start_date) }} -\n              {{ formatDate(priceListItem.price_list_type?.price_list?.end_date) }}\n            </VaChip>\n            <VaChip v-if=\"priceListItem.price_list_type?.is_active\" color=\"success\" size=\"large\">\n              <VaIcon name=\"check_circle\" class=\"mr-1\" />\n              Active\n            </VaChip>\n            <VaChip v-else color=\"danger\" size=\"large\">\n              <VaIcon name=\"cancel\" class=\"mr-1\" />\n              Inactive\n            </VaChip>\n          </div>\n          <p class=\"text-lg text-secondary\">\n            <VaIcon name=\"location_on\" size=\"small\" />\n            {{ priceListItem.sales_package?.area?.name }} ({{ priceListItem.sales_package?.area?.description }})\n          </p>\n          <!-- Download PDF Button -->\n          <div class=\"mt-4\">\n            <VaButton v-if=\"pdfData\" color=\"primary\" icon=\"download\" @click=\"downloadPriceListPdf\">\n              Download PDF\n            </VaButton>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">\n            {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(priceListItem.price_list_type.amount) }}\n          </div>\n          <div class=\"text-sm text-secondary mt-1\">Base Amount</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ priceListItem.price_list_type.duration }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"verified\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.sales_package.regulatory_package?.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">License Type</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"category\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-lg font-bold\">{{ priceListItem.price_list_type.hunting_type.name }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Species Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        Available Species ({{ speciesList.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n          <VaCard\n            v-for=\"species in speciesList\"\n            :key=\"species.id\"\n            class=\"species-card\"\n            :color=\"species.quantity > 0 ? '#f0f9ff' : '#fef2f2'\"\n          >\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ getSpeciesName(species) }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ getSpeciesScientificName(species) }}</div>\n                </div>\n                <VaBadge :color=\"species.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\">\n                  Qty: {{ species.quantity }}\n                </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Trophy Fees Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"military_tech\" />\n        Trophy Fees ({{ priceListItem.price_list_type.currency.name }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"priceListItem.trophy_fees && priceListItem.trophy_fees.length > 0\">\n          <div class=\"va-table-responsive\">\n            <table class=\"va-table va-table--hoverable w-full\">\n              <thead>\n                <tr>\n                  <th class=\"text-left\">Species</th>\n                  <th class=\"text-left\">Scientific Name</th>\n                  <th class=\"text-center\">Sequence</th>\n                  <th class=\"text-right\">Price ({{ priceListItem.price_list_type.currency.symbol }})</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"fee in priceListItem.trophy_fees\" :key=\"fee.id\">\n                  <td class=\"font-semibold\">{{ fee.species.name }}</td>\n                  <td class=\"text-secondary italic\">{{ fee.species.scientific_name }}</td>\n                  <td class=\"text-center\">\n                    <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" />\n                  </td>\n                  <td class=\"text-right font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ formatAmount(fee.price_usd) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <VaAlert v-else color=\"info\" border=\"top\"> No trophy fees available for this package </VaAlert>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Upgrade Fees Section -->\n    <VaCard\n      v-if=\"priceListItem.upgrade_fees && priceListItem.upgrade_fees.length > 0\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"warning\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"upgrade\" />\n        Upgrade Fees\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Species</th>\n                <th class=\"text-right\">Amount</th>\n                <th class=\"text-left\">Description</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"fee in priceListItem.upgrade_fees\" :key=\"fee.id\">\n                <td class=\"font-semibold\">{{ fee.species_name }}</td>\n                <td class=\"text-right font-bold text-lg\">{{ fee.currency_symbol }}{{ formatAmount(fee.amount) }}</td>\n                <td class=\"text-secondary\">{{ fee.description }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras & Additional Costs -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n      <!-- Safari Extras -->\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"add_circle\" />\n          Safari Extras\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-3\">\n            <!-- Observer -->\n            <div v-if=\"priceListItem.observer && priceListItem.observer.length > 0\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base\">Observer</div>\n                  <div class=\"text-sm text-secondary\">Observer cost</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">\n                    {{ priceListItem.price_list_type.currency.symbol }}{{ priceListItem.observer[0]?.amount }}\n                  </div>\n                  <div class=\"text-xs text-secondary\">per day / person</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Other Extras -->\n            <div v-for=\"extra in priceListItem.safari_extras\" :key=\"extra.id\" class=\"p-4 rounded-lg bg-gray-50\">\n              <div class=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                  <div class=\"text-sm text-secondary\">{{ extra.description }}</div>\n                </div>\n                <div class=\"text-right\">\n                  <div class=\"font-bold text-lg\">{{ extra.currency.symbol }}{{ extra.amount }}</div>\n                  <div class=\"text-xs text-secondary\">{{ formatChargesPer(extra.charges_per) }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </VaCardContent>\n      </VaCard>\n\n      <!-- Companion Hunter Costs -->\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardTitle class=\"flex items-center gap-2\">\n          <VaIcon name=\"groups\" />\n          Companion Hunter Costs\n        </VaCardTitle>\n        <VaCardContent>\n          <div class=\"space-y-4\">\n            <!-- Companion Hunter -->\n            <div v-if=\"companionHunterCosts && companionHunterCosts.length > 0\">\n              <div class=\"text-sm font-semibold text-secondary mb-2\">Companion Hunter</div>\n              <div\n                v-for=\"companion in companionHunterCosts\"\n                :key=\"companion.id\"\n                class=\"p-4 rounded-lg bg-green-50 mb-2\"\n              >\n                <div class=\"flex justify-between items-center mb-2\">\n                  <span class=\"text-base\">Days</span>\n                  <span class=\"font-bold text-xl\">{{ companion.days }}</span>\n                </div>\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-base\">Rate</span>\n                  <span class=\"font-bold text-xl\"> {{ currencySymbol }}{{ companion.amount }} </span>\n                </div>\n              </div>\n            </div>\n            <VaAlert v-else color=\"info\" border=\"top\"> No companion hunter costs available </VaAlert>\n          </div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Important Notes -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"danger\">\n      <VaCardContent>\n        <VaAlert color=\"warning\" border=\"left\" class=\"mb-3\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"warning\" />\n              <span class=\"font-bold\">Important Information</span>\n            </div>\n          </template>\n          All hunts confirmation is subject to quota availability. Other safari packages are available on request and\n          can be customized depending on client requirements.\n        </VaAlert>\n\n        <VaAlert v-if=\"hasUpgradeFees\" color=\"info\" border=\"left\">\n          <template #title>\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"info\" />\n              <span class=\"font-bold\">Upgrade Fees</span>\n            </div>\n          </template>\n          If additional trophies beyond the standard package are taken, upgrade fees may apply (plus trophy fees).\n        </VaAlert>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { usePaymentCardsStore } from '../../../../stores/payment-cards'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\n\nexport default defineComponent({\n  components: {\n    // PriceListQuota,\n    // PriceListByHuntingType,\n    // PriceListPackagesDetails,\n    // PricesSpeciesList,\n    // ObComCosts,\n    // AdditionCharges,\n  },\n\n  props: {\n    priceListItem: {\n      type: Object,\n      required: true,\n    },\n    pdfData: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      cardStore: usePaymentCardsStore(),\n      format,\n    }\n  },\n  computed: {\n    loading() {\n      return this.cardStore.loading\n    },\n    hasUpgradeFees() {\n      // Check if there are upgrade fees from the API\n      return this.priceListItem.upgrade_fees && this.priceListItem.upgrade_fees.length > 0\n    },\n    // Support both old (sales_package.species) and new (species) API structures\n    speciesList() {\n      // New structure: species array directly on priceListItem\n      if (this.priceListItem.species && Array.isArray(this.priceListItem.species)) {\n        return this.priceListItem.species\n      }\n      // Old structure: nested under sales_package.species\n      return this.priceListItem.sales_package?.species || []\n    },\n    // Support both old (componions_hunter) and new (companion_hunter_costs) API structures\n    companionHunterCosts() {\n      // New structure: companion_hunter_costs array\n      if (this.priceListItem.companion_hunter_costs && Array.isArray(this.priceListItem.companion_hunter_costs)) {\n        return this.priceListItem.companion_hunter_costs\n      }\n      // Old structure: componions_hunter\n      return this.priceListItem.componions_hunter || []\n    },\n    // Get currency symbol from various sources\n    currencySymbol() {\n      return this.priceListItem.price_list_type?.currency?.symbol || this.priceListItem.currency?.symbol || '$'\n    },\n  },\n  mounted() {\n    this.cardStore.load()\n  },\n  methods: {\n    // Format date safely\n    formatDate(dateStr: string | null | undefined) {\n      if (!dateStr) return 'N/A'\n      try {\n        return this.format(dateStr, 'MMM yyyy')\n      } catch {\n        return dateStr\n      }\n    },\n    // Get species name - supports both old nested structure and new flat structure\n    getSpeciesName(species: any) {\n      // New structure: name directly on species object\n      if (species.name) {\n        return species.name\n      }\n      // Old structure: nested species.species.name\n      return species.species?.name || 'Unknown'\n    },\n    // Get species scientific name - supports both structures\n    getSpeciesScientificName(species: any) {\n      // New structure: scientific_name directly on species object\n      if (species.scientific_name) {\n        return species.scientific_name\n      }\n      // Old structure: nested species.species.scientific_name\n      return species.species?.scientific_name || ''\n    },\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      // Convert \"PER_DAY\" to \"per day\", \"PER_ROUND\" to \"per round\", etc.\n      return chargesPer.toLowerCase().replace('_', ' ')\n    },\n    formatAmount(amount: string | number | null | undefined) {\n      if (amount === null || amount === undefined) return 'N/A'\n      const num = typeof amount === 'string' ? parseFloat(amount) : amount\n      if (isNaN(num)) return 'N/A'\n      return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n    },\n    getSequenceLabel(sequence: number) {\n      const suffixes = ['th', 'st', 'nd', 'rd']\n      const value = sequence % 100\n      const suffix = suffixes[(value - 20) % 10] || suffixes[value] || suffixes[0]\n      return `${sequence}${suffix}`\n    },\n    async downloadPriceListPdf() {\n      if (!this.pdfData) {\n        console.warn('No PDF data available')\n        return\n      }\n      try {\n        const packageName = this.priceListItem?.sales_package?.name || 'price-list'\n        const fileName = `${packageName.replace(/\\s+/g, '-')}-${Date.now()}.pdf`\n        await downloadPdf(this.pdfData, fileName)\n      } catch (err) {\n        console.error('Failed to download PDF:', err)\n      }\n    },\n  },\n})\n</script>\n\n<style scoped>\n.price-list-details {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.species-card {\n  transition: all 0.3s ease;\n}\n\n.species-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.va-table th {\n  font-weight: 600;\n  text-transform: uppercase;\n  font-size: 0.875rem;\n  letter-spacing: 0.05em;\n}\n\n.va-table tbody tr {\n  transition: background-color 0.2s ease;\n}\n\n.va-table tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.02);\n}\n</style>\n","<template>\n  <VaInnerLoading :loading=\"savingPriceList\" :size=\"60\">\n    <VaForm ref=\"formRef\">\n      <div class=\"p-1\">\n        <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n        <h3 class=\"font-bold text-lg mb-2\">Price list Infos</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaSelect\n            v-model=\"form.package\"\n            :options=\"packageOptions\"\n            multiple\n            clearable\n            placeholder=\"Select Package list here\"\n            :rules=\"[(v: any) => v || 'Package is required']\"\n            label=\"Packages\"\n            required-mark\n            @update:modelValue=\"onChangePackage\"\n          >\n            <template #content=\"{ value }\">\n              <VaChip\n                v-for=\"chip in value\"\n                :key=\"chip\"\n                size=\"small\"\n                color=\"info\"\n                class=\"mr-1 my-1\"\n                closeable\n                @update:modelValue=\"deleteChip(chip)\"\n              >\n                {{ chip.text }}\n              </VaChip>\n            </template>\n            <template #append>\n              <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n            </template>\n          </VaSelect>\n          <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n          <VaSelect\n            v-model=\"form.hunting_type_id\"\n            placeholder=\"Select Hunting Type\"\n            label=\"Hunting Type\"\n            :rules=\"[(v: any) => v || 'Hunting type is required']\"\n            :options=\"huntingTypesOptions\"\n            searchable\n            required-mark\n            highlight-matched-text\n          />\n          <VaSelect\n            v-model=\"form.season\"\n            :options=\"seasonsOptions\"\n            required-mark\n            label=\"Select season\"\n            placeholder=\"Select season\"\n          />\n        </div>\n\n        <!-- Experience and Date Group -->\n        <h3 class=\"font-bold text-lg mb-2\">Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.amount\"\n            type=\"text\"\n            placeholder=\"Enter Amount\"\n            :rules=\"[(value: any) => (value && value.length > 0) || 'Amount is required']\"\n            label=\"Amount\"\n            required-mark\n          />\n\n          <VaSelect\n            v-model=\"form.currency\"\n            placeholder=\"Select Currency\"\n            label=\"Currency\"\n            :rules=\"[(v: any) => v || 'Currency is required']\"\n            :options=\"currencyOptions\"\n            searchable\n            highlight-matched-text\n            required-mark\n          />\n          <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n          <VaSelect\n            v-model=\"form.duration\"\n            type=\"text\"\n            :options=\"durationsOptions\"\n            required-mark\n            placeholder=\"Enter Duration eg: 21 days\"\n            :rules=\"[(v: any) => v || 'Duration is required']\"\n            label=\"Duration(days)\"\n          />\n        </div>\n\n        <!-- companion group -->\n        <h3 class=\"font-bold text-lg mb-2\">Companion Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.companion_amount\"\n            type=\"number\"\n            placeholder=\"Enter Companion Amount\"\n            label=\"Companion Cost\"\n          />\n          <VaSelect\n            v-model=\"form.companion_days\"\n            :options=\"durationsOptions\"\n            placeholder=\"Select Companion Days\"\n            label=\"Companion Days\"\n            clearable\n          />\n        </div>\n\n        <!-- Upgrade Fees Section (Optional) -->\n        <div class=\"mb-4\">\n          <div class=\"flex items-center justify-between mb-2\">\n            <h3 class=\"font-bold text-lg\">Upgrade Fees (Optional)</h3>\n            <VaButton size=\"small\" color=\"primary\" icon=\"add\" @click=\"addUpgradeFee\"> Add Upgrade Fee </VaButton>\n          </div>\n          <p class=\"text-sm text-gray-500 mb-3\">\n            Add upgrade fees for additional species that can be hunted beyond the standard package.\n          </p>\n\n          <div v-if=\"upgradeFees.length > 0\" class=\"space-y-4\">\n            <VaCard\n              v-for=\"(fee, index) in upgradeFees\"\n              :key=\"index\"\n              class=\"p-4 bg-gray-50\"\n              stripe\n              stripe-color=\"warning\"\n            >\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <VaSelect\n                  v-model=\"fee.species_id\"\n                  :options=\"speciesOptions\"\n                  placeholder=\"Select Species\"\n                  label=\"Species\"\n                  searchable\n                  highlight-matched-text\n                  :rules=\"[(v: any) => v || 'Species is required']\"\n                />\n                <VaInput\n                  v-model=\"fee.amount\"\n                  type=\"number\"\n                  placeholder=\"Enter Amount\"\n                  label=\"Amount\"\n                  :rules=\"[(v: any) => v || 'Amount is required']\"\n                />\n                <VaSelect\n                  v-model=\"fee.currency_id\"\n                  :options=\"currencyOptions\"\n                  placeholder=\"Select Currency\"\n                  label=\"Currency\"\n                  :rules=\"[(v: any) => v || 'Currency is required']\"\n                />\n                <div class=\"flex items-end\">\n                  <VaButton color=\"danger\" icon=\"delete\" size=\"small\" @click=\"removeUpgradeFee(index)\">\n                    Remove\n                  </VaButton>\n                </div>\n              </div>\n              <div class=\"mt-3\">\n                <VaInput\n                  v-model=\"fee.description\"\n                  type=\"textarea\"\n                  placeholder=\"Enter description (optional)\"\n                  label=\"Description\"\n                  :min-rows=\"2\"\n                />\n              </div>\n            </VaCard>\n          </div>\n\n          <div v-else class=\"text-center py-4 text-gray-400 border border-dashed border-gray-300 rounded-lg\">\n            <VaIcon name=\"info\" size=\"small\" class=\"mr-1\" />\n            No upgrade fees added. Click \"Add Upgrade Fee\" to add optional upgrade fees.\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mt-4 d-flex p-2\">\n        <VaButton\n          icon=\"save\"\n          class=\"mr-3 mb-2\"\n          :loading=\"savingPriceList\"\n          :disabled=\"!isValidForm\"\n          @click=\"validateForm() && submit()\"\n        >\n          {{ editMode ? 'Update' : 'Save' }}\n        </VaButton>\n      </div>\n    </VaForm>\n  </VaInnerLoading>\n  <VaModal v-model=\"_shM\" ok-text=\"Apply\" close-button size=\"large\" :hide-default-actions=\"true\">\n    <SalesPackageForm> </SalesPackageForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref } from 'vue'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { validators } from '../../../../services/utils'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport SalesPackageForm from '../SalesPackageForm.vue'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    SalesPackageForm,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n  },\n  props: {\n    editMode: {\n      type: Boolean,\n      default: false,\n    },\n    editItem: {\n      type: Object,\n      default: null,\n    },\n  },\n  emits: ['saved'],\n  setup() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const { init } = useToast()\n    const showEditForm = ref(false)\n    // const _usePriceListStore: any = usePriceListStore()\n\n    // const pkg: any = computed(() => {\n    //   return _usePriceListStore.latestPackage\n    // })\n\n    const form = reactive({\n      id: null as any,\n      hunting_type_id: null as any,\n      // is list\n      package: [] as any,\n      // description: '',s\n      // sales_quota_id: null as any,\n      amount: null as any,\n\n      currency: null as any,\n      duration: null as any,\n      season: null as any,\n      end_date: null as any,\n      species: null as any,\n      quantity: null as any,\n      // area: null as any,\n      companion_days: null as any,\n      companion_amount: null as any,\n    })\n\n    // make as copy of pkg to form package\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const deleteChip = (chip: any) => {\n      form.package = form.package.filter((v: any) => v !== chip)\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n\n    return {\n      formRef,\n      form,\n      contactForm,\n      showEditForm,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      deleteChip,\n      validators,\n    }\n  },\n  data() {\n    // 1-21\n    const durationsOptions: any = [\n      { value: 1, text: '1 day' },\n      { value: 2, text: '2 days' },\n      { value: 3, text: '3 days' },\n      { value: 4, text: '4 days' },\n      { value: 5, text: '5 days' },\n      { value: 6, text: '6 days' },\n      { value: 7, text: '7 days' },\n      { value: 8, text: '8 days' },\n      { value: 9, text: '9 days' },\n      { value: 10, text: '10 days' },\n      { value: 11, text: '11 days' },\n      { value: 12, text: '12 days' },\n      { value: 13, text: '13 days' },\n      { value: 14, text: '14 days' },\n      { value: 15, text: '15 days' },\n      { value: 16, text: '16 days' },\n      { value: 17, text: '17 days' },\n      { value: 18, text: '18 days' },\n      { value: 19, text: '19 days' },\n      { value: 20, text: '20 days' },\n      { value: 21, text: '21 days' },\n    ]\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      huntingTypesOptions: [] as any,\n      salesQuotasOptions: [] as any,\n      speciesItemOptions: [] as any,\n      currencyOptions: [] as any,\n      // packageOptions: [] as any,\n      savingPriceList: false,\n      durationsOptions,\n      seasonsOptions: [] as any,\n      upgradeFees: [] as any[],\n    }\n  },\n  computed: {\n    ...mapState(usePriceListStore, ['salesPackages', 'packageOptions', 'latestPackage', 'loadingpackages']),\n    ...mapWritableState(usePriceListStore, {\n      _shM: 'showModal',\n    }),\n  },\n\n  watch: {\n    // use both close modal and show modal to close modal\n    // i want if the  closeMadal is true then showModal should be false\n  },\n  async mounted() {\n    // this.getAllSpeciesPerQuotaPerArea()\n    await Promise.all([\n      this.getAreas(),\n      this.getHuntingTypes(),\n      this.getQuotaList(),\n      this.getCurrencyList(),\n      this.getSalesPackages(),\n      this.getSeasonList(),\n      this.getSpeciesItems(),\n    ])\n\n    // If in edit mode, populate form with existing data (after options are loaded)\n    if (this.editMode && this.editItem) {\n      this.populateFormForEdit()\n    }\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['getCurrencies', 'getSeasons']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(usePriceListStore, ['createPriceList', 'updatePriceList']),\n    ...mapActions(usePriceListStore, ['getSalesPackageList']),\n\n    // addNewSpeciesItemToStorage() {},\n    // CreateSalesInquiry\n\n    // ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n\n    onAreaChange(value: any) {\n      console.log(value as any)\n      // this.getAllSpieces()\n    },\n\n    async submit() {\n      this.savingPriceList = true\n\n      // Prepare upgrade fees data (only include valid entries)\n      const validUpgradeFees = this.upgradeFees\n        .filter((fee: any) => fee.species_id && fee.amount && fee.currency_id)\n        .map((fee: any) => {\n          const feeData: any = {\n            species_id: fee.species_id?.value || fee.species_id,\n            amount: parseFloat(fee.amount),\n            currency_id: fee.currency_id?.value || fee.currency_id,\n            description: fee.description || '',\n          }\n          // Include ID for existing fees (when editing)\n          if (fee.id) {\n            feeData.id = fee.id\n          }\n          return feeData\n        })\n\n      const requestdata = {\n        huntingTypeId: this.form.hunting_type_id?.value || this.form.hunting_type_id,\n        sales_package_ids: this.form.package?.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value),\n        amount: this.form.amount,\n        currency: this.form.currency?.value || this.form.currency,\n        duration: this.form.duration?.value || this.form.duration,\n        season_id: this.form.season?.value?.id || this.form.season?.id,\n        //chriss' codes\n        start_at: this.form.season?.value?.start_at || this.form.season?.start_at,\n        end_at: this.form.season?.value?.end_at || this.form.season?.end_at,\n        is_active: 1,\n        area_id: 3,\n        user_id: 1,\n        companionAmount: this.form.companion_amount ? String(this.form.companion_amount) : null,\n        companionDays: this.form.companion_days?.value || this.form.companion_days,\n        upgrade_fees: validUpgradeFees.length > 0 ? validUpgradeFees : null,\n      }\n\n      // console.log(requestdata);\n      // return ;\n      try {\n        let response: any\n        if (this.editMode && this.editItem) {\n          response = await this.updatePriceList(this.editItem.id, requestdata)\n          if (response.status === 200) {\n            this.init({ message: 'Price list updated successfully', color: 'success' })\n            this.savingPriceList = false\n            this.$emit('saved')\n          }\n        } else {\n          response = await this.createPriceList(requestdata)\n          if (response.status === 201) {\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationForm()\n            this.speciesObjects = []\n            this.upgradeFees = []\n            this.savingPriceList = false\n          }\n        }\n      } catch (error: any) {\n        this.savingPriceList = false\n        handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: error.message,\n          color: 'danger',\n        })\n      }\n    },\n\n    populateFormForEdit() {\n      if (!this.editItem) return\n\n      // Options should already be loaded since we await them in mounted()\n      console.log('Edit Item:', JSON.stringify(this.editItem, null, 2))\n      console.log('Hunting Types Options:', this.huntingTypesOptions)\n      console.log('Seasons Options:', this.seasonsOptions)\n      console.log('Currency Options:', this.currencyOptions)\n\n      // Handle nested structure from API (price_list_type contains the main data)\n      const priceListType = this.editItem.price_list_type || this.editItem\n\n      // Set amount - handle different data structures\n      const rawAmount = priceListType.amount || this.editItem.amount\n      if (rawAmount) {\n        this.form.amount = String(rawAmount).replace('$', '').replace(',', '')\n      }\n\n      // Set duration - handle nested structure\n      const durationValue = priceListType.duration || this.editItem.duration\n      if (durationValue !== undefined && durationValue !== null) {\n        this.form.duration = this.durationsOptions.find((d: any) => d.value === durationValue) || {\n          value: durationValue,\n          text: `${durationValue} days`,\n        }\n      }\n\n      // Set hunting type - match by name since API returns name only\n      const huntingTypeName = priceListType.hunting_type?.name || this.editItem.hunting_type\n      console.log('Hunting Type Name:', huntingTypeName)\n      if (huntingTypeName) {\n        this.form.hunting_type_id = this.huntingTypesOptions.find((h: any) => h.text === huntingTypeName)\n      }\n      console.log('Selected Hunting Type:', this.form.hunting_type_id)\n\n      // Set season - need to find season that matches the date range\n      const startDate = priceListType.price_list?.start_date\n      const endDate = priceListType.price_list?.end_date\n      console.log('Season dates:', startDate, endDate)\n      if (startDate && endDate) {\n        // Find season by matching dates\n        this.form.season = this.seasonsOptions.find(\n          (s: any) => s.value?.start_at === startDate && s.value?.end_at === endDate,\n        )\n        // If not found by exact date, try to find by year\n        if (!this.form.season) {\n          const year = new Date(startDate).getFullYear()\n          this.form.season = this.seasonsOptions.find((s: any) => s.text?.includes(String(year)))\n        }\n      }\n      console.log('Selected Season:', this.form.season)\n\n      // Set currency - match by name since API returns name only\n      const currencyName = priceListType.currency?.name\n      console.log('Currency Name:', currencyName)\n      if (currencyName) {\n        this.form.currency = this.currencyOptions.find((c: any) => c.text === currencyName)\n      }\n      if (!this.form.currency) {\n        // Default to USD if not set\n        this.form.currency = this.currencyOptions.find((c: any) => c.text === 'USD') || this.currencyOptions[0]\n      }\n      console.log('Selected Currency:', this.form.currency)\n\n      // Set companion fields - check for companion_hunter_costs in nested structure\n      const companionCosts = this.editItem.companion_hunter_costs || priceListType.companion_hunter_costs\n      if (companionCosts && companionCosts.length > 0) {\n        const firstCompanion = companionCosts[0]\n        this.form.companion_amount = firstCompanion.amount || null\n        if (firstCompanion.days) {\n          this.form.companion_days = this.durationsOptions.find((d: any) => d.value === firstCompanion.days) || {\n            value: firstCompanion.days,\n            text: `${firstCompanion.days} days`,\n          }\n        }\n      } else {\n        // Fallback to direct properties\n        this.form.companion_amount = this.editItem.companion_amount || null\n        if (this.editItem.companion_days) {\n          this.form.companion_days = this.durationsOptions.find(\n            (d: any) => d.value === this.editItem.companion_days,\n          ) || {\n            value: this.editItem.companion_days,\n            text: `${this.editItem.companion_days} days`,\n          }\n        }\n      }\n\n      // Set packages if available - check in sales_package or packages array\n      const salesPackage = this.editItem.sales_package\n      if (salesPackage) {\n        this.form.package = [\n          {\n            value: salesPackage.id,\n            text: salesPackage.name,\n          },\n        ]\n      } else if (this.editItem.packages && Array.isArray(this.editItem.packages)) {\n        this.form.package = this.editItem.packages.map((p: any) => ({\n          value: p.id,\n          text: p.name,\n        }))\n      }\n\n      // Populate upgrade fees if available\n      const upgradeFees = this.editItem.upgrade_fees || priceListType.upgrade_fees\n      if (upgradeFees && Array.isArray(upgradeFees) && upgradeFees.length > 0) {\n        this.upgradeFees = upgradeFees.map((fee: any) => ({\n          id: fee.id, // Keep the ID for updating existing fees\n          species_id: this.speciesOptions.find((s: any) => s.value === fee.species_id) || {\n            value: fee.species_id,\n            text: fee.species?.name || `Species ${fee.species_id}`,\n          },\n          amount: fee.amount,\n          currency_id: this.currencyOptions.find((c: any) => c.value === fee.currency_id) || {\n            value: fee.currency_id,\n            text: fee.currency?.name || 'USD',\n          },\n          description: fee.description || '',\n        }))\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        this.speciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        // this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    _showModal() {\n      this._shM = true\n    },\n\n    async getSalesPackages() {\n      try {\n        await this.getSalesPackageList(true)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get hunting types\n    async getHuntingTypes() {\n      try {\n        const response = await this.getHuntingsTypes()\n        this.huntingTypesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    onChangePackage(value: any) {\n      console.log(value.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value))\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesItemOptions = response.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // get quotas\n    async getQuotaList() {\n      try {\n        const response = await this.getQuotas(null)\n        this.salesQuotasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currencyOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Upgrade fees methods\n    addUpgradeFee() {\n      this.upgradeFees.push({\n        species_id: null,\n        amount: null,\n        currency_id: null,\n        description: '',\n      })\n    },\n\n    removeUpgradeFee(index: number) {\n      this.upgradeFees.splice(index, 1)\n    },\n\n    // get clients\n  },\n})\n</script>\ns\n","<template>\n  <VaInnerLoading :loading=\"savingPriceList\" :size=\"60\">\n    <VaForm ref=\"formRef\">\n      <div class=\"p-1\">\n        <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n        <h3 class=\"font-bold text-lg mb-2\">Price list Infos</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaSelect\n            v-model=\"form.package\"\n            :options=\"packageOptions\"\n            multiple\n            clearable\n            placeholder=\"Select Package list here\"\n            :rules=\"[(v: any) => v || 'Package is required']\"\n            label=\"Packages\"\n            required-mark\n            @update:modelValue=\"onChangePackage\"\n          >\n            <template #content=\"{ value }\">\n              <VaChip\n                v-for=\"chip in value\"\n                :key=\"chip\"\n                size=\"small\"\n                color=\"info\"\n                class=\"mr-1 my-1\"\n                closeable\n                @update:modelValue=\"deleteChip(chip)\"\n              >\n                {{ chip.text }}\n              </VaChip>\n            </template>\n            <template #append>\n              <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n            </template>\n          </VaSelect>\n          <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n          <VaSelect\n            v-model=\"form.hunting_type_id\"\n            placeholder=\"Select Hunting Type\"\n            label=\"Hunting Type\"\n            :rules=\"[(v: any) => v || 'Hunting type is required']\"\n            :options=\"huntingTypesOptions\"\n            searchable\n            required-mark\n            highlight-matched-text\n          />\n          <VaSelect\n            v-model=\"form.season\"\n            :options=\"seasonsOptions\"\n            required-mark\n            label=\"Select season\"\n            placeholder=\"Select season\"\n          />\n        </div>\n\n        <!-- Experience and Date Group -->\n        <h3 class=\"font-bold text-lg mb-2\">Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.amount\"\n            type=\"text\"\n            placeholder=\"Enter Amount\"\n            :rules=\"[(value: any) => (value && value.length > 0) || 'Amount is required']\"\n            label=\"Amount\"\n            required-mark\n          />\n\n          <VaSelect\n            v-model=\"form.currency\"\n            placeholder=\"Select Currency\"\n            label=\"Currency\"\n            :rules=\"[(v: any) => v || 'Currency is required']\"\n            :options=\"currencyOptions\"\n            searchable\n            highlight-matched-text\n            required-mark\n          />\n          <!-- <vue-tel-input v-model=\"form.phone\" mode=\"international\" required></vue-tel-input> -->\n\n          <VaSelect\n            v-model=\"form.duration\"\n            type=\"text\"\n            :options=\"durationsOptions\"\n            required-mark\n            placeholder=\"Enter Duration eg: 21 days\"\n            :rules=\"[(v: any) => v || 'Duration is required']\"\n            label=\"Duration(days)\"\n          />\n        </div>\n\n        <!-- companion group -->\n        <h3 class=\"font-bold text-lg mb-2\">Companion Charges</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.companion_amount\"\n            type=\"number\"\n            placeholder=\"Enter Companion Amount\"\n            label=\"Companion Cost\"\n          />\n          <VaSelect\n            v-model=\"form.companion_days\"\n            :options=\"durationsOptions\"\n            placeholder=\"Select Companion Days\"\n            label=\"Companion Days\"\n            clearable\n          />\n        </div>\n\n        <!-- Upgrade Fees Section (Optional) -->\n        <div class=\"mb-4\">\n          <div class=\"flex items-center justify-between mb-2\">\n            <h3 class=\"font-bold text-lg\">Upgrade Fees (Optional)</h3>\n            <VaButton size=\"small\" color=\"primary\" icon=\"add\" @click=\"addUpgradeFee\"> Add Upgrade Fee </VaButton>\n          </div>\n          <p class=\"text-sm text-gray-500 mb-3\">\n            Add upgrade fees for additional species that can be hunted beyond the standard package.\n          </p>\n\n          <div v-if=\"upgradeFees.length > 0\" class=\"space-y-4\">\n            <VaCard\n              v-for=\"(fee, index) in upgradeFees\"\n              :key=\"index\"\n              class=\"p-4 bg-gray-50\"\n              stripe\n              stripe-color=\"warning\"\n            >\n              <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <VaSelect\n                  v-model=\"fee.species_id\"\n                  :options=\"speciesOptions\"\n                  placeholder=\"Select Species\"\n                  label=\"Species\"\n                  searchable\n                  highlight-matched-text\n                  :rules=\"[(v: any) => v || 'Species is required']\"\n                />\n                <VaInput\n                  v-model=\"fee.amount\"\n                  type=\"number\"\n                  placeholder=\"Enter Amount\"\n                  label=\"Amount\"\n                  :rules=\"[(v: any) => v || 'Amount is required']\"\n                />\n                <VaSelect\n                  v-model=\"fee.currency_id\"\n                  :options=\"currencyOptions\"\n                  placeholder=\"Select Currency\"\n                  label=\"Currency\"\n                  :rules=\"[(v: any) => v || 'Currency is required']\"\n                />\n                <div class=\"flex items-end\">\n                  <VaButton color=\"danger\" icon=\"delete\" size=\"small\" @click=\"removeUpgradeFee(index)\">\n                    Remove\n                  </VaButton>\n                </div>\n              </div>\n              <div class=\"mt-3\">\n                <VaInput\n                  v-model=\"fee.description\"\n                  type=\"textarea\"\n                  placeholder=\"Enter description (optional)\"\n                  label=\"Description\"\n                  :min-rows=\"2\"\n                />\n              </div>\n            </VaCard>\n          </div>\n\n          <div v-else class=\"text-center py-4 text-gray-400 border border-dashed border-gray-300 rounded-lg\">\n            <VaIcon name=\"info\" size=\"small\" class=\"mr-1\" />\n            No upgrade fees added. Click \"Add Upgrade Fee\" to add optional upgrade fees.\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mt-4 d-flex p-2\">\n        <VaButton\n          icon=\"save\"\n          class=\"mr-3 mb-2\"\n          :loading=\"savingPriceList\"\n          :disabled=\"!isValidForm\"\n          @click=\"validateForm() && submit()\"\n        >\n          {{ editMode ? 'Update' : 'Save' }}\n        </VaButton>\n      </div>\n    </VaForm>\n  </VaInnerLoading>\n  <VaModal v-model=\"_shM\" ok-text=\"Apply\" close-button size=\"large\" :hide-default-actions=\"true\">\n    <SalesPackageForm> </SalesPackageForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref } from 'vue'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { validators } from '../../../../services/utils'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { usePriceListStore } from '../../../../stores/price-list-store'\nimport SalesPackageForm from '../SalesPackageForm.vue'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    SalesPackageForm,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n  },\n  props: {\n    editMode: {\n      type: Boolean,\n      default: false,\n    },\n    editItem: {\n      type: Object,\n      default: null,\n    },\n  },\n  emits: ['saved'],\n  setup() {\n    const formRef = ref()\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const { init } = useToast()\n    const showEditForm = ref(false)\n    // const _usePriceListStore: any = usePriceListStore()\n\n    // const pkg: any = computed(() => {\n    //   return _usePriceListStore.latestPackage\n    // })\n\n    const form = reactive({\n      id: null as any,\n      hunting_type_id: null as any,\n      // is list\n      package: [] as any,\n      // description: '',s\n      // sales_quota_id: null as any,\n      amount: null as any,\n\n      currency: null as any,\n      duration: null as any,\n      season: null as any,\n      end_date: null as any,\n      species: null as any,\n      quantity: null as any,\n      // area: null as any,\n      companion_days: null as any,\n      companion_amount: null as any,\n    })\n\n    // make as copy of pkg to form package\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const deleteChip = (chip: any) => {\n      form.package = form.package.filter((v: any) => v !== chip)\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n\n    return {\n      formRef,\n      form,\n      contactForm,\n      showEditForm,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      deleteChip,\n      validators,\n    }\n  },\n  data() {\n    // 1-21\n    const durationsOptions: any = [\n      { value: 1, text: '1 day' },\n      { value: 2, text: '2 days' },\n      { value: 3, text: '3 days' },\n      { value: 4, text: '4 days' },\n      { value: 5, text: '5 days' },\n      { value: 6, text: '6 days' },\n      { value: 7, text: '7 days' },\n      { value: 8, text: '8 days' },\n      { value: 9, text: '9 days' },\n      { value: 10, text: '10 days' },\n      { value: 11, text: '11 days' },\n      { value: 12, text: '12 days' },\n      { value: 13, text: '13 days' },\n      { value: 14, text: '14 days' },\n      { value: 15, text: '15 days' },\n      { value: 16, text: '16 days' },\n      { value: 17, text: '17 days' },\n      { value: 18, text: '18 days' },\n      { value: 19, text: '19 days' },\n      { value: 20, text: '20 days' },\n      { value: 21, text: '21 days' },\n    ]\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      huntingTypesOptions: [] as any,\n      salesQuotasOptions: [] as any,\n      speciesItemOptions: [] as any,\n      currencyOptions: [] as any,\n      // packageOptions: [] as any,\n      savingPriceList: false,\n      durationsOptions,\n      seasonsOptions: [] as any,\n      upgradeFees: [] as any[],\n    }\n  },\n  computed: {\n    ...mapState(usePriceListStore, ['salesPackages', 'packageOptions', 'latestPackage', 'loadingpackages']),\n    ...mapWritableState(usePriceListStore, {\n      _shM: 'showModal',\n    }),\n  },\n\n  watch: {\n    // use both close modal and show modal to close modal\n    // i want if the  closeMadal is true then showModal should be false\n  },\n  async mounted() {\n    // this.getAllSpeciesPerQuotaPerArea()\n    await Promise.all([\n      this.getAreas(),\n      this.getHuntingTypes(),\n      this.getQuotaList(),\n      this.getCurrencyList(),\n      this.getSalesPackages(),\n      this.getSeasonList(),\n      this.getSpeciesItems(),\n    ])\n\n    // If in edit mode, populate form with existing data (after options are loaded)\n    if (this.editMode && this.editItem) {\n      this.populateFormForEdit()\n    }\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes']),\n    ...mapActions(useSettingsStore, ['getCurrencies', 'getSeasons']),\n    ...mapActions(useQuotaStore, ['getQuotas']),\n    ...mapActions(usePriceListStore, ['createPriceList', 'updatePriceList']),\n    ...mapActions(usePriceListStore, ['getSalesPackageList']),\n\n    // addNewSpeciesItemToStorage() {},\n    // CreateSalesInquiry\n\n    // ...mapActions(useSalesInquiriesStore, ['createSalesInquiry']),\n\n    onAreaChange(value: any) {\n      console.log(value as any)\n      // this.getAllSpieces()\n    },\n\n    async submit() {\n      this.savingPriceList = true\n\n      // Prepare upgrade fees data (only include valid entries)\n      const validUpgradeFees = this.upgradeFees\n        .filter((fee: any) => fee.species_id && fee.amount && fee.currency_id)\n        .map((fee: any) => {\n          const feeData: any = {\n            species_id: fee.species_id?.value || fee.species_id,\n            amount: parseFloat(fee.amount),\n            currency_id: fee.currency_id?.value || fee.currency_id,\n            description: fee.description || '',\n          }\n          // Include ID for existing fees (when editing)\n          if (fee.id) {\n            feeData.id = fee.id\n          }\n          return feeData\n        })\n\n      const requestdata = {\n        huntingTypeId: this.form.hunting_type_id?.value || this.form.hunting_type_id,\n        sales_package_ids: this.form.package?.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value),\n        amount: this.form.amount,\n        currency: this.form.currency?.value || this.form.currency,\n        duration: this.form.duration?.value || this.form.duration,\n        season_id: this.form.season?.value?.id || this.form.season?.id,\n        //chriss' codes\n        start_at: this.form.season?.value?.start_at || this.form.season?.start_at,\n        end_at: this.form.season?.value?.end_at || this.form.season?.end_at,\n        is_active: 1,\n        area_id: 3,\n        user_id: 1,\n        companionAmount: this.form.companion_amount ? String(this.form.companion_amount) : null,\n        companionDays: this.form.companion_days?.value || this.form.companion_days,\n        upgrade_fees: validUpgradeFees.length > 0 ? validUpgradeFees : null,\n      }\n\n      // console.log(requestdata);\n      // return ;\n      try {\n        let response: any\n        if (this.editMode && this.editItem) {\n          response = await this.updatePriceList(this.editItem.id, requestdata)\n          if (response.status === 200) {\n            this.init({ message: 'Price list updated successfully', color: 'success' })\n            this.savingPriceList = false\n            this.$emit('saved')\n          }\n        } else {\n          response = await this.createPriceList(requestdata)\n          if (response.status === 201) {\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationForm()\n            this.speciesObjects = []\n            this.upgradeFees = []\n            this.savingPriceList = false\n          }\n        }\n      } catch (error: any) {\n        this.savingPriceList = false\n        handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: error.message,\n          color: 'danger',\n        })\n      }\n    },\n\n    populateFormForEdit() {\n      if (!this.editItem) return\n\n      // Options should already be loaded since we await them in mounted()\n      console.log('Edit Item:', JSON.stringify(this.editItem, null, 2))\n      console.log('Hunting Types Options:', this.huntingTypesOptions)\n      console.log('Seasons Options:', this.seasonsOptions)\n      console.log('Currency Options:', this.currencyOptions)\n\n      // Handle nested structure from API (price_list_type contains the main data)\n      const priceListType = this.editItem.price_list_type || this.editItem\n\n      // Set amount - handle different data structures\n      const rawAmount = priceListType.amount || this.editItem.amount\n      if (rawAmount) {\n        this.form.amount = String(rawAmount).replace('$', '').replace(',', '')\n      }\n\n      // Set duration - handle nested structure\n      const durationValue = priceListType.duration || this.editItem.duration\n      if (durationValue !== undefined && durationValue !== null) {\n        this.form.duration = this.durationsOptions.find((d: any) => d.value === durationValue) || {\n          value: durationValue,\n          text: `${durationValue} days`,\n        }\n      }\n\n      // Set hunting type - match by name since API returns name only\n      const huntingTypeName = priceListType.hunting_type?.name || this.editItem.hunting_type\n      console.log('Hunting Type Name:', huntingTypeName)\n      if (huntingTypeName) {\n        this.form.hunting_type_id = this.huntingTypesOptions.find((h: any) => h.text === huntingTypeName)\n      }\n      console.log('Selected Hunting Type:', this.form.hunting_type_id)\n\n      // Set season - need to find season that matches the date range\n      const startDate = priceListType.price_list?.start_date\n      const endDate = priceListType.price_list?.end_date\n      console.log('Season dates:', startDate, endDate)\n      if (startDate && endDate) {\n        // Find season by matching dates\n        this.form.season = this.seasonsOptions.find(\n          (s: any) => s.value?.start_at === startDate && s.value?.end_at === endDate,\n        )\n        // If not found by exact date, try to find by year\n        if (!this.form.season) {\n          const year = new Date(startDate).getFullYear()\n          this.form.season = this.seasonsOptions.find((s: any) => s.text?.includes(String(year)))\n        }\n      }\n      console.log('Selected Season:', this.form.season)\n\n      // Set currency - match by name since API returns name only\n      const currencyName = priceListType.currency?.name\n      console.log('Currency Name:', currencyName)\n      if (currencyName) {\n        this.form.currency = this.currencyOptions.find((c: any) => c.text === currencyName)\n      }\n      if (!this.form.currency) {\n        // Default to USD if not set\n        this.form.currency = this.currencyOptions.find((c: any) => c.text === 'USD') || this.currencyOptions[0]\n      }\n      console.log('Selected Currency:', this.form.currency)\n\n      // Set companion fields - check for companion_hunter_costs in nested structure\n      const companionCosts = this.editItem.companion_hunter_costs || priceListType.companion_hunter_costs\n      if (companionCosts && companionCosts.length > 0) {\n        const firstCompanion = companionCosts[0]\n        this.form.companion_amount = firstCompanion.amount || null\n        if (firstCompanion.days) {\n          this.form.companion_days = this.durationsOptions.find((d: any) => d.value === firstCompanion.days) || {\n            value: firstCompanion.days,\n            text: `${firstCompanion.days} days`,\n          }\n        }\n      } else {\n        // Fallback to direct properties\n        this.form.companion_amount = this.editItem.companion_amount || null\n        if (this.editItem.companion_days) {\n          this.form.companion_days = this.durationsOptions.find(\n            (d: any) => d.value === this.editItem.companion_days,\n          ) || {\n            value: this.editItem.companion_days,\n            text: `${this.editItem.companion_days} days`,\n          }\n        }\n      }\n\n      // Set packages if available - check in sales_package or packages array\n      const salesPackage = this.editItem.sales_package\n      if (salesPackage) {\n        this.form.package = [\n          {\n            value: salesPackage.id,\n            text: salesPackage.name,\n          },\n        ]\n      } else if (this.editItem.packages && Array.isArray(this.editItem.packages)) {\n        this.form.package = this.editItem.packages.map((p: any) => ({\n          value: p.id,\n          text: p.name,\n        }))\n      }\n\n      // Populate upgrade fees if available\n      const upgradeFees = this.editItem.upgrade_fees || priceListType.upgrade_fees\n      if (upgradeFees && Array.isArray(upgradeFees) && upgradeFees.length > 0) {\n        this.upgradeFees = upgradeFees.map((fee: any) => ({\n          id: fee.id, // Keep the ID for updating existing fees\n          species_id: this.speciesOptions.find((s: any) => s.value === fee.species_id) || {\n            value: fee.species_id,\n            text: fee.species?.name || `Species ${fee.species_id}`,\n          },\n          amount: fee.amount,\n          currency_id: this.currencyOptions.find((c: any) => c.value === fee.currency_id) || {\n            value: fee.currency_id,\n            text: fee.currency?.name || 'USD',\n          },\n          description: fee.description || '',\n        }))\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        this.speciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        // this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    _showModal() {\n      this._shM = true\n    },\n\n    async getSalesPackages() {\n      try {\n        await this.getSalesPackageList(true)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // get hunting types\n    async getHuntingTypes() {\n      try {\n        const response = await this.getHuntingsTypes()\n        this.huntingTypesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    onChangePackage(value: any) {\n      console.log(value.filter((v: any) => v?.value !== undefined).map((v: any) => v?.value))\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesItemOptions = response.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // get quotas\n    async getQuotaList() {\n      try {\n        const response = await this.getQuotas(null)\n        this.salesQuotasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currencyOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Upgrade fees methods\n    addUpgradeFee() {\n      this.upgradeFees.push({\n        species_id: null,\n        amount: null,\n        currency_id: null,\n        description: '',\n      })\n    },\n\n    removeUpgradeFee(index: number) {\n      this.upgradeFees.splice(index, 1)\n    },\n\n    // get clients\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"price-list-page\">\n    <VaCardContent>\n      <!-- Header Section -->\n      <div class=\"flex flex-col md:flex-row gap-2 mb-4 justify-between items-center\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start items-center\">\n          <VaButton\n            v-if=\"!showPriceList || showEditForm\"\n            class=\"px-3 py-2\"\n            icon=\"arrow_back\"\n            size=\"small\"\n            @click=\"goBack\"\n          >\n            Back to List\n          </VaButton>\n          <h2 v-if=\"showPriceList && !showEditForm\" class=\"text-xl font-bold text-gray-700\">\n            <VaIcon name=\"list_alt\" class=\"mr-2\" />\n            Price Lists\n          </h2>\n          <h2 v-if=\"showEditForm\" class=\"text-xl font-bold text-gray-700\">\n            <VaIcon name=\"edit\" class=\"mr-2\" />\n            Edit Price List\n          </h2>\n        </div>\n        <VaButton\n          v-if=\"!ShowCreateNewPriceListForm && showPriceList && !showEditForm\"\n          class=\"px-4 py-2\"\n          color=\"primary\"\n          icon=\"add\"\n          round\n          @click=\"showCreateNewPriceListFormMethod\"\n        >\n          Add a new Price List\n        </VaButton>\n      </div>\n\n      <VaDivider />\n\n      <!-- Main Content -->\n      <template v-if=\"!ShowCreateNewPriceListForm\">\n        <!-- Price List View -->\n        <template v-if=\"showPriceList\">\n          <!-- Filters Section -->\n          <div class=\"filters-section bg-gray-50 rounded-lg p-4 mb-6 mt-4\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n              <!-- Season Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"date_range\" size=\"small\" class=\"mr-1\" />\n                  Season\n                </label>\n                <VaSelect\n                  v-model=\"seasonValue\"\n                  :options=\"seasonOptions\"\n                  placeholder=\"Select Season\"\n                  :loading=\"loadingSeasons\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Hunting Type Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"pets\" size=\"small\" class=\"mr-1\" />\n                  Hunting Type\n                </label>\n                <VaSelect\n                  v-model=\"huntingTypeValue\"\n                  :options=\"huntingTypeOptions\"\n                  placeholder=\"Filter By Type\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Area Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"location_on\" size=\"small\" class=\"mr-1\" />\n                  Hunting Area\n                </label>\n                <VaSelect\n                  v-model=\"areaValue\"\n                  :options=\"areasOptions\"\n                  placeholder=\"Filter By Area\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Min Amount Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"attach_money\" size=\"small\" class=\"mr-1\" />\n                  Min Amount\n                </label>\n                <VaInput v-model=\"minAmount\" type=\"number\" placeholder=\"Min price\" @change=\"getPriceLists\" />\n              </div>\n\n              <!-- Max Amount Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"attach_money\" size=\"small\" class=\"mr-1\" />\n                  Max Amount\n                </label>\n                <VaInput v-model=\"maxAmount\" type=\"number\" placeholder=\"Max price\" @change=\"getPriceLists\" />\n              </div>\n\n              <!-- Download Button -->\n              <div class=\"flex items-end\">\n                <VaButton\n                  class=\"w-full\"\n                  color=\"secondary\"\n                  icon=\"download\"\n                  :loading=\"downloadingPdf\"\n                  @click=\"onDownloadPdf\"\n                >\n                  Download PDF\n                </VaButton>\n              </div>\n            </div>\n          </div>\n\n          <!-- Stats Summary -->\n          <div v-if=\"items.length > 0\" class=\"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6\">\n            <div class=\"stat-card bg-blue-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-blue-600\">{{ items.length }}</div>\n              <div class=\"text-sm text-gray-600\">Total Packages</div>\n            </div>\n            <div class=\"stat-card bg-green-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-green-600\">{{ activePackages }}</div>\n              <div class=\"text-sm text-gray-600\">Active</div>\n            </div>\n            <div class=\"stat-card bg-amber-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-amber-600\">{{ uniqueAreas }}</div>\n              <div class=\"text-sm text-gray-600\">Areas</div>\n            </div>\n          </div>\n\n          <!-- Price List Table -->\n          <VaInnerLoading :loading=\"loading\">\n            <div v-if=\"items.length === 0 && !loading\" class=\"text-center py-12\">\n              <VaIcon name=\"inventory_2\" size=\"4rem\" color=\"#9B9FB5\" />\n              <p class=\"text-gray-500 mt-4\">No price lists found for the selected filters.</p>\n            </div>\n\n            <VaDataTable v-else :items=\"items\" :columns=\"columns\" hoverable striped :loading=\"loading\">\n              <template #cell(package_name)=\"{ rowData }\">\n                <div class=\"font-semibold\">{{ rowData.package_name }}</div>\n              </template>\n              <template #cell(area)=\"{ rowData }\">\n                <div class=\"flex items-center gap-1\">\n                  <VaIcon name=\"location_on\" size=\"small\" color=\"secondary\" />\n                  {{ rowData.area }}\n                </div>\n              </template>\n              <template #cell(amount)=\"{ rowData }\">\n                <span class=\"font-semibold text-green-600\">{{ rowData.amount }}</span>\n              </template>\n              <template #cell(duration)=\"{ rowData }\"> {{ rowData.duration }} Days </template>\n              <template #cell(status)=\"{ rowData }\">\n                <VaBadge :text=\"rowData.status\" :color=\"rowData.status === 'Active' ? 'success' : 'warning'\" />\n              </template>\n              <template #cell(season_name)=\"{ rowData }\">\n                {{ rowData.season_name || 'N/A' }}\n              </template>\n              <template #cell(species_count)=\"{ rowData }\">\n                <VaBadge :text=\"String(rowData.species_count || 0)\" color=\"info\" />\n              </template>\n              <template #cell(actions)=\"{ rowData }\">\n                <div class=\"flex gap-2\">\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"visibility\"\n                    color=\"primary\"\n                    size=\"small\"\n                    title=\"View Details\"\n                    @click=\"toggleShowPriceListMethod(rowData)\"\n                  />\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"edit\"\n                    color=\"warning\"\n                    size=\"small\"\n                    title=\"Edit\"\n                    @click=\"editPriceList(rowData)\"\n                  />\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"delete\"\n                    color=\"danger\"\n                    size=\"small\"\n                    title=\"Delete\"\n                    @click=\"confirmDelete(rowData)\"\n                  />\n                </div>\n              </template>\n            </VaDataTable>\n          </VaInnerLoading>\n        </template>\n\n        <!-- Detail View -->\n        <template v-else-if=\"!showEditForm\">\n          <PricesListDetails :price-list-item=\"item\" :pdf-data=\"individualPriceListPdf\"></PricesListDetails>\n        </template>\n\n        <!-- Edit Form -->\n        <template v-else-if=\"showEditForm\">\n          <CreatePricesListForm :edit-mode=\"true\" :edit-item=\"editItem\" @saved=\"onEditSaved\"></CreatePricesListForm>\n        </template>\n      </template>\n\n      <!-- Create Form -->\n      <template v-if=\"ShowCreateNewPriceListForm\">\n        <CreatePricesListForm></CreatePricesListForm>\n      </template>\n    </VaCardContent>\n  </VaCard>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" hide-default-actions>\n    <template #header>\n      <h3 class=\"va-h6\">Confirm Delete</h3>\n    </template>\n    <p>\n      Are you sure you want to delete <strong>{{ itemToDelete?.package_name }}</strong\n      >?\n    </p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"showDeleteModal = false\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDeletePriceList\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useToast } from 'vuestic-ui'\nimport PricesListDetails from './components/PricesList/PriceListDetails.vue'\nimport { usePriceListStore } from '../../stores/price-list-store'\nimport CreatePricesListForm from './components/PricesList/CreatePricesListForm.vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { useSettingsStore } from '../../stores/settings-store'\nimport downloadPdf from '../../utils/pdfDownloader'\nimport handleErrors from '../../utils/errorHandler'\nimport { jsPDF } from 'jspdf'\n\nexport default defineComponent({\n  name: 'ManagePriceList',\n  components: {\n    PricesListDetails,\n    CreatePricesListForm,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    return {\n      formRef,\n    }\n  },\n\n  data() {\n    const columns = [\n      { key: 'package_name', label: 'Package Name', sortable: true },\n      { key: 'area', label: 'Area', sortable: true },\n      { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n      { key: 'amount', label: 'Price', sortable: true },\n      { key: 'duration', label: 'Duration', sortable: true },\n      { key: 'season_name', label: 'Season', sortable: true },\n      { key: 'species_count', label: 'Species', sortable: true },\n      { key: 'status', label: 'Status', sortable: true },\n      { key: 'actions', label: 'Actions', sortable: false, width: 120 },\n    ]\n\n    return {\n      columns,\n      items: [] as any[],\n      printableDataList: [] as any[],\n      item: null as any,\n      toast: useToast(),\n      areasOptions: [] as any,\n      huntingTypeOptions: [] as any,\n      seasonOptions: [] as any,\n      showPriceList: true,\n      ShowCreateNewPriceListForm: false,\n      loading: false,\n      loadingSeasons: false,\n      huntingTypeValue: null as any,\n      areaValue: null as any,\n      seasonValue: null as any,\n      minAmount: null as any,\n      maxAmount: null as any,\n      poriceListPdf: '' as any,\n      individualPriceListPdf: '' as any,\n      downloadPdf,\n      downloadingPdf: false,\n      showDeleteModal: false,\n      itemToDelete: null as any,\n      deleting: false,\n      showEditForm: false,\n      editItem: null as any,\n    }\n  },\n\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n\n    activePackages(): number {\n      return this.items.filter((item: any) => item.status === 'Active').length\n    },\n\n    uniqueAreas(): number {\n      const areas = new Set(this.items.map((item: any) => item.area))\n      return areas.size\n    },\n  },\n\n  mounted() {\n    this.getSeasonOptions()\n    this.getPriceLists()\n    this.getAreas()\n    this.getHuntingTypesOptions()\n    this.loadLogo()\n  },\n\n  methods: {\n    ...mapActions(usePriceListStore, [\n      'getPriceList',\n      'getPriceListByHuntingType',\n      'getPriceListById',\n      'deletePriceList',\n      'getCompletePriceListPdf',\n    ]),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes', 'loadLogo', 'getSeasons']),\n\n    getActiveSpecies(species: any[]) {\n      return species.filter((s: any) => s.quantity > 0)\n    },\n\n    formatDate(dateStr: string) {\n      if (!dateStr) return 'N/A'\n      const date = new Date(dateStr)\n      return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })\n    },\n\n    async getSeasonOptions() {\n      this.loadingSeasons = true\n      try {\n        const response = await this.getSeasons(false)\n        if (response.status === 200) {\n          const all = { value: '', text: 'All Seasons' }\n          this.seasonOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n          this.seasonOptions.unshift(all)\n          this.seasonValue = this.seasonOptions[0]\n        }\n      } catch (error) {\n        console.error('Error fetching seasons:', error)\n      } finally {\n        this.loadingSeasons = false\n      }\n    },\n\n    async toggleShowPriceListMethod(rowData: any) {\n      const priceListId = rowData?.id\n      if (!priceListId) return\n\n      try {\n        const response = await this.getPriceListById(priceListId)\n        this.item = response.data.data || response.data\n        this.individualPriceListPdf = response.data.pdf || ''\n        this.showPriceList = false\n      } catch (error) {\n        console.error('Error fetching price list detail:', error)\n      }\n    },\n\n    async onDownloadSinglePriceList(rowData: any) {\n      // eslint-disable-next-line no-console\n      console.log('=== Download button clicked ===')\n      // eslint-disable-next-line no-console\n      console.log('Row data for download:', rowData)\n\n      const priceListId = rowData?.id\n      if (!priceListId) {\n        // eslint-disable-next-line no-console\n        console.error('No price list ID found in row data')\n        return\n      }\n\n      try {\n        // eslint-disable-next-line no-console\n        console.log('Fetching price list detail for ID:', priceListId)\n        const response = await this.getPriceListById(priceListId)\n\n        // Backend returns { success: true, data: {...}, message: \"...\" }\n        const priceListData = response.data.data || response.data\n\n        // eslint-disable-next-line no-console\n        console.log('Fetched price list data for PDF generation:', priceListData)\n\n        // Generate PDF from the individual price list data\n        await this.generateIndividualPdf(priceListData, priceListId)\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error downloading price list:', error)\n        this.toast?.init({ message: 'Failed to download price list', color: 'danger' })\n      }\n    },\n\n    // ... existing code ...\n\n    async generateIndividualPdf(priceListData: any, priceListId: string) {\n      try {\n        // Create a new PDF document\n        const doc = new jsPDF()\n\n        // Set document properties\n        doc.setProperties({\n          title: `Price List ${priceListId}`,\n          subject: 'Price List Details',\n          author: 'Bushman System',\n          creator: 'Bushman',\n        })\n\n        // Add content to PDF\n        let yPosition = 20\n        const lineHeight = 7\n        const margin = 20\n        const pageWidth = doc.internal.pageSize.width\n\n        // Title\n        doc.setFontSize(16)\n        doc.setFont('helvetica', 'bold')\n        doc.text('INDIVIDUAL PRICE LIST DETAILS', pageWidth / 2, yPosition, { align: 'center' })\n        yPosition += 20\n\n        // Price List Information\n        doc.setFontSize(12)\n        doc.setFont('helvetica', 'bold')\n        doc.text('PRICE LIST INFORMATION:', margin, yPosition)\n        yPosition += lineHeight\n\n        doc.setFont('helvetica', 'normal')\n        doc.text(`ID: ${priceListData.id || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Package Name: ${priceListData.sales_package?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Area: ${priceListData.sales_package?.area?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Hunting Type: ${priceListData.price_list_type?.hunting_type?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(\n          `Amount: ${priceListData.price_list_type?.currency?.symbol || ''}${\n            priceListData.price_list_type?.amount || 'N/A'\n          }`,\n          margin,\n          yPosition,\n        )\n        yPosition += lineHeight\n        doc.text(`Duration: ${priceListData.price_list_type?.duration || 'N/A'} days`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Status: ${priceListData.price_list_type?.is_active ? 'Active' : 'Inactive'}`, margin, yPosition)\n        yPosition += 15\n\n        // Check if we need a new page\n        if (yPosition > 250) {\n          doc.addPage()\n          yPosition = 20\n        }\n\n        // Validity Period\n        doc.setFont('helvetica', 'bold')\n        doc.text('VALIDITY PERIOD:', margin, yPosition)\n        yPosition += lineHeight\n\n        doc.setFont('helvetica', 'normal')\n        doc.text(`Start Date: ${priceListData.price_list_type?.price_list?.start_date || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`End Date: ${priceListData.price_list_type?.price_list?.end_date || 'N/A'}`, margin, yPosition)\n        yPosition += 15\n\n        // Regulatory Package\n        if (priceListData.sales_package?.regulatory_package) {\n          doc.setFont('helvetica', 'bold')\n          doc.text('REGULATORY PACKAGE:', margin, yPosition)\n          yPosition += lineHeight\n\n          doc.setFont('helvetica', 'normal')\n          doc.text(`Name: ${priceListData.sales_package.regulatory_package.name || 'N/A'}`, margin, yPosition)\n          yPosition += lineHeight\n          doc.text(\n            `Duration: ${priceListData.sales_package.regulatory_package.duration || 'N/A'} days`,\n            margin,\n            yPosition,\n          )\n          yPosition += 15\n        }\n\n        // Included Species\n        if (priceListData.sales_package?.species?.length > 0) {\n          doc.setFont('helvetica', 'bold')\n          doc.text('INCLUDED SPECIES:', margin, yPosition)\n          yPosition += lineHeight\n\n          doc.setFont('helvetica', 'normal')\n          priceListData.sales_package.species.forEach((sp: any) => {\n            const speciesInfo = sp.species || {}\n            const text = ` ${speciesInfo.name} (${speciesInfo.scientific_name || 'No scientific name'}) - Quantity: ${\n              sp.quantity || 1\n            }`\n\n            // Split long text into multiple lines if needed\n            const lines = doc.splitTextToSize(text, pageWidth - margin * 2)\n            lines.forEach((line: string) => {\n              if (yPosition > 280) {\n                doc.addPage()\n                yPosition = 20\n              }\n              doc.text(line, margin, yPosition)\n              yPosition += lineHeight\n            })\n          })\n          yPosition += 10\n        }\n\n        // Footer\n        doc.setFontSize(10)\n        doc.setTextColor(128, 128, 128)\n        doc.text(`Document generated on: ${new Date().toLocaleString()}`, margin, 285)\n        doc.text('This is an auto-generated individual price list document.', margin, 292)\n\n        // Save the PDF\n        doc.save(`price-list-${priceListId}-${Date.now()}.pdf`)\n\n        this.toast?.init({ message: 'Price list downloaded successfully', color: 'success' })\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error generating individual PDF:', error)\n        this.toast?.init({\n          message: 'Failed to generate PDF. Please try the main Download button.',\n          color: 'warning',\n        })\n      }\n    },\n    createIndividualPdfContent(priceListData: any): string {\n      const currentDate = new Date().toLocaleString()\n      const priceListType = priceListData.price_list_type || {}\n      const salesPackage = priceListData.sales_package || {}\n      const area = salesPackage.area || {}\n      const regulatoryPackage = salesPackage.regulatory_package || {}\n\n      return `\nINDIVIDUAL PRICE LIST DETAILS\n==============================\n\nPRICE LIST INFORMATION:\n-----------------------\nID: ${priceListData.id || 'N/A'}\nPackage Name: ${salesPackage.name || 'N/A'}\nArea: ${area.name || 'N/A'}\nArea Description: ${area.description || 'N/A'}\nHunting Type: ${priceListType.hunting_type?.name || 'N/A'}\nAmount: ${priceListType.currency?.symbol || ''}${priceListType.amount || 'N/A'}\nDuration: ${priceListType.duration || 'N/A'} days\nStatus: ${priceListType.is_active ? 'Active' : 'Inactive'}\n\nVALIDITY PERIOD:\n----------------\nStart Date: ${priceListType.price_list?.start_date || 'N/A'}\nEnd Date: ${priceListType.price_list?.end_date || 'N/A'}\n\nREGULATORY PACKAGE:\n-------------------\nName: ${regulatoryPackage.name || 'N/A'}\nDuration: ${regulatoryPackage.duration || 'N/A'} days\n\nINCLUDED SPECIES:\n-----------------\n${this.formatIncludedSpecies(salesPackage.species || [])}\n\nSAFARI EXTRAS:\n--------------\n${this.formatSafariExtras(priceListData.safari_extras || [])}\n\nTROPHY FEES:\n------------\n${this.formatTrophyFees(priceListData.trophy_fees || [])}\n\nCOMPANION & OBSERVER COSTS:\n---------------------------\n${this.formatCompanionObserver(priceListData.componions_hunter, priceListData.observer)}\n\nCURRENCY INFORMATION:\n---------------------\nCurrency: ${priceListType.currency?.name || 'N/A'}\nSymbol: ${priceListType.currency?.symbol || 'N/A'}\n\nDocument generated on: ${currentDate}\nThis is an auto-generated individual price list document.\n  `.trim()\n    },\n\n    formatIncludedSpecies(species: any[]): string {\n      if (!species.length) return 'No species included'\n\n      return species\n        .map((sp) => {\n          const speciesInfo = sp.species || {}\n          return ` ${speciesInfo.name} (${speciesInfo.scientific_name || 'No scientific name'}) - Quantity: ${\n            sp.quantity || 1\n          }`\n        })\n        .join('\\n')\n    },\n\n    formatSafariExtras(extras: any[]): string {\n      if (!extras.length) return 'No safari extras available'\n\n      return extras\n        .map((extra) => {\n          const currency = extra.currency || {}\n          return ` ${extra.name}: ${currency.symbol || ''}${extra.amount} ${extra.charges_per || ''}`\n        })\n        .join('\\n')\n    },\n\n    formatTrophyFees(fees: any[]): string {\n      if (!fees.length) return 'No trophy fees available'\n\n      return fees\n        .map((fee) => {\n          const species = fee.species || {}\n          return ` ${species.name} (${species.scientific_name || 'No scientific name'}): $${fee.price_usd || 'N/A'}`\n        })\n        .join('\\n')\n    },\n\n    formatCompanionObserver(companion: any, observer: any): string {\n      let result = ''\n\n      if (companion && companion.length > 0) {\n        companion.forEach((comp: any) => {\n          result += `Companion: ${comp.days || 0} days - ${comp.currency?.symbol || ''}${comp.amount || 0}\\n`\n        })\n      } else {\n        result += 'Companion: Not available\\n'\n      }\n\n      if (observer && observer.length > 0) {\n        observer.forEach((obs: any) => {\n          result += `Observer: ${obs.days || 0} days - ${obs.currency?.symbol || ''}${obs.amount || 0}`\n        })\n      } else {\n        result += 'Observer: Not available'\n      }\n\n      return result\n    },\n\n    async onDownloadPdf() {\n      this.downloadingPdf = true\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const seasonId = unwrap(this.seasonValue) || ''\n        const minAmount = this.minAmount || ''\n        const maxAmount = this.maxAmount || ''\n\n        const response = await this.getCompletePriceListPdf(huntingTypeId, areaId, seasonId, minAmount, maxAmount)\n\n        if (response.status === 200) {\n          const pdf = response.data?.pdf || response.data\n          const isUrl = (s: any) => typeof s === 'string' && /^https?:\\/\\//i.test(s)\n          const isLikelyBase64 = (s: any) => typeof s === 'string' && s.length > 200 && /^[A-Za-z0-9+/=\\r\\n]+$/.test(s)\n\n          if (!pdf || (!isUrl(pdf) && !isLikelyBase64(pdf))) {\n            this.toast?.init({ message: 'PDF not available', color: 'warning' })\n            return\n          }\n\n          await downloadPdf(pdf, `price-list-${Date.now()}.pdf`)\n        } else {\n          this.toast?.init({ message: 'Failed to generate PDF', color: 'danger' })\n        }\n      } catch (err) {\n        console.error('Error downloading PDF:', err)\n        this.toast?.init({ message: 'Failed to download PDF', color: 'danger' })\n      } finally {\n        this.downloadingPdf = false\n      }\n    },\n\n    goBack() {\n      this.showPriceList = true\n      this.ShowCreateNewPriceListForm = false\n      this.showEditForm = false\n      this.editItem = null\n      this.getPriceLists()\n    },\n\n    showCreateNewPriceListFormMethod() {\n      this.ShowCreateNewPriceListForm = true\n      this.showPriceList = false\n      this.showEditForm = false\n    },\n\n    async editPriceList(item: any) {\n      try {\n        // Fetch full details for editing\n        const response = await this.getPriceListById(item.id)\n        this.editItem = response.data.data || response.data\n        this.showEditForm = true\n        this.showPriceList = false\n        this.ShowCreateNewPriceListForm = false\n      } catch (error) {\n        console.error('Error fetching price list for edit:', error)\n        this.toast?.init({ message: 'Failed to load price list details', color: 'danger' })\n      }\n    },\n\n    onEditSaved() {\n      this.showEditForm = false\n      this.showPriceList = true\n      this.editItem = null\n      this.getPriceLists()\n      this.toast?.init({ message: 'Price list updated successfully', color: 'success' })\n    },\n\n    confirmDelete(item: any) {\n      this.itemToDelete = item\n      this.showDeleteModal = true\n    },\n\n    async confirmDeletePriceList() {\n      if (!this.itemToDelete) return\n\n      this.deleting = true\n      try {\n        const response = await this.deletePriceList(this.itemToDelete.id, true)\n        if (response.status === 200 || response.status === 204) {\n          this.toast?.init({ message: 'Price list deleted successfully', color: 'success' })\n          this.showDeleteModal = false\n          this.itemToDelete = null\n          this.getPriceLists()\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        this.toast?.init({ message: errors.join(', ') || 'Failed to delete price list', color: 'danger' })\n      } finally {\n        this.deleting = false\n      }\n    },\n\n    async getPriceLists() {\n      this.loading = true\n\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const seasonId = unwrap(this.seasonValue) || ''\n        const minAmount = this.minAmount || ''\n        const maxAmount = this.maxAmount || ''\n\n        const response = await this.getPriceList(huntingTypeId, areaId, seasonId, minAmount, maxAmount)\n\n        if (response.status === 200) {\n          const raw = response?.data\n          const dataArray = Array.isArray(raw) ? raw : raw?.data ?? []\n\n          this.printableDataList = raw\n          this.poriceListPdf = raw?.pdf || ''\n\n          if (Array.isArray(dataArray)) {\n            this.items = dataArray.map((item: any) => ({\n              id: item.id,\n              package_name: item.package_name,\n              area: item.area,\n              area_package: item.area_package,\n              hunting_type: item.hunting_type,\n              amount: item.amount,\n              duration: item.duration,\n              status: item.status,\n              start_date: item.start_date,\n              end_date: item.end_date,\n              season_id: item.season_id,\n              season_name: item.season_name,\n              species_count: item.species_count,\n              species: item.species || [],\n              companion_hunter_costs: item.companion_hunter_costs || [],\n            }))\n          } else {\n            this.items = []\n          }\n        }\n      } catch (error) {\n        console.error('Error in getPriceLists:', error)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        const all = { value: '', text: 'All Areas' }\n        this.areasOptions = response?.data?.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n        this.areasOptions.unshift(all)\n        this.areaValue = this.areasOptions[0]\n      } catch (error) {\n        console.error('Error fetching areas:', error)\n      }\n    },\n\n    async getHuntingTypesOptions() {\n      try {\n        const response = await this.getHuntingsTypes()\n        if (response.status === 200) {\n          const all = { value: '', text: 'All Types' }\n          this.huntingTypeOptions = response?.data?.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n          this.huntingTypeOptions.unshift(all)\n          this.huntingTypeValue = this.huntingTypeOptions[0]\n        }\n      } catch (error) {\n        console.error('Error fetching hunting types:', error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.price-list-page {\n  min-height: 600px;\n}\n\n.filters-section {\n  border: 1px solid #e5e7eb;\n}\n\n.stat-card {\n  transition: transform 0.2s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n  }\n}\n\n.price-card {\n  .card-header {\n    background: linear-gradient(135deg, #92400e 0%, #b45309 100%);\n  }\n\n  .detail-item {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.species-preview {\n  .va-badge {\n    font-size: 0.7rem !important;\n  }\n}\n</style>\n","<template>\n  <VaCard class=\"price-list-page\">\n    <VaCardContent>\n      <!-- Header Section -->\n      <div class=\"flex flex-col md:flex-row gap-2 mb-4 justify-between items-center\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start items-center\">\n          <VaButton\n            v-if=\"!showPriceList || showEditForm\"\n            class=\"px-3 py-2\"\n            icon=\"arrow_back\"\n            size=\"small\"\n            @click=\"goBack\"\n          >\n            Back to List\n          </VaButton>\n          <h2 v-if=\"showPriceList && !showEditForm\" class=\"text-xl font-bold text-gray-700\">\n            <VaIcon name=\"list_alt\" class=\"mr-2\" />\n            Price Lists\n          </h2>\n          <h2 v-if=\"showEditForm\" class=\"text-xl font-bold text-gray-700\">\n            <VaIcon name=\"edit\" class=\"mr-2\" />\n            Edit Price List\n          </h2>\n        </div>\n        <VaButton\n          v-if=\"!ShowCreateNewPriceListForm && showPriceList && !showEditForm\"\n          class=\"px-4 py-2\"\n          color=\"primary\"\n          icon=\"add\"\n          round\n          @click=\"showCreateNewPriceListFormMethod\"\n        >\n          Add a new Price List\n        </VaButton>\n      </div>\n\n      <VaDivider />\n\n      <!-- Main Content -->\n      <template v-if=\"!ShowCreateNewPriceListForm\">\n        <!-- Price List View -->\n        <template v-if=\"showPriceList\">\n          <!-- Filters Section -->\n          <div class=\"filters-section bg-gray-50 rounded-lg p-4 mb-6 mt-4\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n              <!-- Season Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"date_range\" size=\"small\" class=\"mr-1\" />\n                  Season\n                </label>\n                <VaSelect\n                  v-model=\"seasonValue\"\n                  :options=\"seasonOptions\"\n                  placeholder=\"Select Season\"\n                  :loading=\"loadingSeasons\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Hunting Type Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"pets\" size=\"small\" class=\"mr-1\" />\n                  Hunting Type\n                </label>\n                <VaSelect\n                  v-model=\"huntingTypeValue\"\n                  :options=\"huntingTypeOptions\"\n                  placeholder=\"Filter By Type\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Area Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"location_on\" size=\"small\" class=\"mr-1\" />\n                  Hunting Area\n                </label>\n                <VaSelect\n                  v-model=\"areaValue\"\n                  :options=\"areasOptions\"\n                  placeholder=\"Filter By Area\"\n                  @update:modelValue=\"getPriceLists\"\n                />\n              </div>\n\n              <!-- Min Amount Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"attach_money\" size=\"small\" class=\"mr-1\" />\n                  Min Amount\n                </label>\n                <VaInput v-model=\"minAmount\" type=\"number\" placeholder=\"Min price\" @change=\"getPriceLists\" />\n              </div>\n\n              <!-- Max Amount Filter -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-600 mb-1\">\n                  <VaIcon name=\"attach_money\" size=\"small\" class=\"mr-1\" />\n                  Max Amount\n                </label>\n                <VaInput v-model=\"maxAmount\" type=\"number\" placeholder=\"Max price\" @change=\"getPriceLists\" />\n              </div>\n\n              <!-- Download Button -->\n              <div class=\"flex items-end\">\n                <VaButton\n                  class=\"w-full\"\n                  color=\"secondary\"\n                  icon=\"download\"\n                  :loading=\"downloadingPdf\"\n                  @click=\"onDownloadPdf\"\n                >\n                  Download PDF\n                </VaButton>\n              </div>\n            </div>\n          </div>\n\n          <!-- Stats Summary -->\n          <div v-if=\"items.length > 0\" class=\"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6\">\n            <div class=\"stat-card bg-blue-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-blue-600\">{{ items.length }}</div>\n              <div class=\"text-sm text-gray-600\">Total Packages</div>\n            </div>\n            <div class=\"stat-card bg-green-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-green-600\">{{ activePackages }}</div>\n              <div class=\"text-sm text-gray-600\">Active</div>\n            </div>\n            <div class=\"stat-card bg-amber-50 rounded-lg p-4 text-center\">\n              <div class=\"text-2xl font-bold text-amber-600\">{{ uniqueAreas }}</div>\n              <div class=\"text-sm text-gray-600\">Areas</div>\n            </div>\n          </div>\n\n          <!-- Price List Table -->\n          <VaInnerLoading :loading=\"loading\">\n            <div v-if=\"items.length === 0 && !loading\" class=\"text-center py-12\">\n              <VaIcon name=\"inventory_2\" size=\"4rem\" color=\"#9B9FB5\" />\n              <p class=\"text-gray-500 mt-4\">No price lists found for the selected filters.</p>\n            </div>\n\n            <VaDataTable v-else :items=\"items\" :columns=\"columns\" hoverable striped :loading=\"loading\">\n              <template #cell(package_name)=\"{ rowData }\">\n                <div class=\"font-semibold\">{{ rowData.package_name }}</div>\n              </template>\n              <template #cell(area)=\"{ rowData }\">\n                <div class=\"flex items-center gap-1\">\n                  <VaIcon name=\"location_on\" size=\"small\" color=\"secondary\" />\n                  {{ rowData.area }}\n                </div>\n              </template>\n              <template #cell(amount)=\"{ rowData }\">\n                <span class=\"font-semibold text-green-600\">{{ rowData.amount }}</span>\n              </template>\n              <template #cell(duration)=\"{ rowData }\"> {{ rowData.duration }} Days </template>\n              <template #cell(status)=\"{ rowData }\">\n                <VaBadge :text=\"rowData.status\" :color=\"rowData.status === 'Active' ? 'success' : 'warning'\" />\n              </template>\n              <template #cell(season_name)=\"{ rowData }\">\n                {{ rowData.season_name || 'N/A' }}\n              </template>\n              <template #cell(species_count)=\"{ rowData }\">\n                <VaBadge :text=\"String(rowData.species_count || 0)\" color=\"info\" />\n              </template>\n              <template #cell(actions)=\"{ rowData }\">\n                <div class=\"flex gap-2\">\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"visibility\"\n                    color=\"primary\"\n                    size=\"small\"\n                    title=\"View Details\"\n                    @click=\"toggleShowPriceListMethod(rowData)\"\n                  />\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"edit\"\n                    color=\"warning\"\n                    size=\"small\"\n                    title=\"Edit\"\n                    @click=\"editPriceList(rowData)\"\n                  />\n                  <VaButton\n                    preset=\"plain\"\n                    icon=\"delete\"\n                    color=\"danger\"\n                    size=\"small\"\n                    title=\"Delete\"\n                    @click=\"confirmDelete(rowData)\"\n                  />\n                </div>\n              </template>\n            </VaDataTable>\n          </VaInnerLoading>\n        </template>\n\n        <!-- Detail View -->\n        <template v-else-if=\"!showEditForm\">\n          <PricesListDetails :price-list-item=\"item\" :pdf-data=\"individualPriceListPdf\"></PricesListDetails>\n        </template>\n\n        <!-- Edit Form -->\n        <template v-else-if=\"showEditForm\">\n          <CreatePricesListForm :edit-mode=\"true\" :edit-item=\"editItem\" @saved=\"onEditSaved\"></CreatePricesListForm>\n        </template>\n      </template>\n\n      <!-- Create Form -->\n      <template v-if=\"ShowCreateNewPriceListForm\">\n        <CreatePricesListForm></CreatePricesListForm>\n      </template>\n    </VaCardContent>\n  </VaCard>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" hide-default-actions>\n    <template #header>\n      <h3 class=\"va-h6\">Confirm Delete</h3>\n    </template>\n    <p>\n      Are you sure you want to delete <strong>{{ itemToDelete?.package_name }}</strong\n      >?\n    </p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"showDeleteModal = false\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDeletePriceList\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useToast } from 'vuestic-ui'\nimport PricesListDetails from './components/PricesList/PriceListDetails.vue'\nimport { usePriceListStore } from '../../stores/price-list-store'\nimport CreatePricesListForm from './components/PricesList/CreatePricesListForm.vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { useSettingsStore } from '../../stores/settings-store'\nimport downloadPdf from '../../utils/pdfDownloader'\nimport handleErrors from '../../utils/errorHandler'\nimport { jsPDF } from 'jspdf'\n\nexport default defineComponent({\n  name: 'ManagePriceList',\n  components: {\n    PricesListDetails,\n    CreatePricesListForm,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    return {\n      formRef,\n    }\n  },\n\n  data() {\n    const columns = [\n      { key: 'package_name', label: 'Package Name', sortable: true },\n      { key: 'area', label: 'Area', sortable: true },\n      { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n      { key: 'amount', label: 'Price', sortable: true },\n      { key: 'duration', label: 'Duration', sortable: true },\n      { key: 'season_name', label: 'Season', sortable: true },\n      { key: 'species_count', label: 'Species', sortable: true },\n      { key: 'status', label: 'Status', sortable: true },\n      { key: 'actions', label: 'Actions', sortable: false, width: 120 },\n    ]\n\n    return {\n      columns,\n      items: [] as any[],\n      printableDataList: [] as any[],\n      item: null as any,\n      toast: useToast(),\n      areasOptions: [] as any,\n      huntingTypeOptions: [] as any,\n      seasonOptions: [] as any,\n      showPriceList: true,\n      ShowCreateNewPriceListForm: false,\n      loading: false,\n      loadingSeasons: false,\n      huntingTypeValue: null as any,\n      areaValue: null as any,\n      seasonValue: null as any,\n      minAmount: null as any,\n      maxAmount: null as any,\n      poriceListPdf: '' as any,\n      individualPriceListPdf: '' as any,\n      downloadPdf,\n      downloadingPdf: false,\n      showDeleteModal: false,\n      itemToDelete: null as any,\n      deleting: false,\n      showEditForm: false,\n      editItem: null as any,\n    }\n  },\n\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n\n    activePackages(): number {\n      return this.items.filter((item: any) => item.status === 'Active').length\n    },\n\n    uniqueAreas(): number {\n      const areas = new Set(this.items.map((item: any) => item.area))\n      return areas.size\n    },\n  },\n\n  mounted() {\n    this.getSeasonOptions()\n    this.getPriceLists()\n    this.getAreas()\n    this.getHuntingTypesOptions()\n    this.loadLogo()\n  },\n\n  methods: {\n    ...mapActions(usePriceListStore, [\n      'getPriceList',\n      'getPriceListByHuntingType',\n      'getPriceListById',\n      'deletePriceList',\n      'getCompletePriceListPdf',\n    ]),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useSettingsStore, ['getHuntingsTypes', 'loadLogo', 'getSeasons']),\n\n    getActiveSpecies(species: any[]) {\n      return species.filter((s: any) => s.quantity > 0)\n    },\n\n    formatDate(dateStr: string) {\n      if (!dateStr) return 'N/A'\n      const date = new Date(dateStr)\n      return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })\n    },\n\n    async getSeasonOptions() {\n      this.loadingSeasons = true\n      try {\n        const response = await this.getSeasons(false)\n        if (response.status === 200) {\n          const all = { value: '', text: 'All Seasons' }\n          this.seasonOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n          this.seasonOptions.unshift(all)\n          this.seasonValue = this.seasonOptions[0]\n        }\n      } catch (error) {\n        console.error('Error fetching seasons:', error)\n      } finally {\n        this.loadingSeasons = false\n      }\n    },\n\n    async toggleShowPriceListMethod(rowData: any) {\n      const priceListId = rowData?.id\n      if (!priceListId) return\n\n      try {\n        const response = await this.getPriceListById(priceListId)\n        this.item = response.data.data || response.data\n        this.individualPriceListPdf = response.data.pdf || ''\n        this.showPriceList = false\n      } catch (error) {\n        console.error('Error fetching price list detail:', error)\n      }\n    },\n\n    async onDownloadSinglePriceList(rowData: any) {\n      // eslint-disable-next-line no-console\n      console.log('=== Download button clicked ===')\n      // eslint-disable-next-line no-console\n      console.log('Row data for download:', rowData)\n\n      const priceListId = rowData?.id\n      if (!priceListId) {\n        // eslint-disable-next-line no-console\n        console.error('No price list ID found in row data')\n        return\n      }\n\n      try {\n        // eslint-disable-next-line no-console\n        console.log('Fetching price list detail for ID:', priceListId)\n        const response = await this.getPriceListById(priceListId)\n\n        // Backend returns { success: true, data: {...}, message: \"...\" }\n        const priceListData = response.data.data || response.data\n\n        // eslint-disable-next-line no-console\n        console.log('Fetched price list data for PDF generation:', priceListData)\n\n        // Generate PDF from the individual price list data\n        await this.generateIndividualPdf(priceListData, priceListId)\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error downloading price list:', error)\n        this.toast?.init({ message: 'Failed to download price list', color: 'danger' })\n      }\n    },\n\n    // ... existing code ...\n\n    async generateIndividualPdf(priceListData: any, priceListId: string) {\n      try {\n        // Create a new PDF document\n        const doc = new jsPDF()\n\n        // Set document properties\n        doc.setProperties({\n          title: `Price List ${priceListId}`,\n          subject: 'Price List Details',\n          author: 'Bushman System',\n          creator: 'Bushman',\n        })\n\n        // Add content to PDF\n        let yPosition = 20\n        const lineHeight = 7\n        const margin = 20\n        const pageWidth = doc.internal.pageSize.width\n\n        // Title\n        doc.setFontSize(16)\n        doc.setFont('helvetica', 'bold')\n        doc.text('INDIVIDUAL PRICE LIST DETAILS', pageWidth / 2, yPosition, { align: 'center' })\n        yPosition += 20\n\n        // Price List Information\n        doc.setFontSize(12)\n        doc.setFont('helvetica', 'bold')\n        doc.text('PRICE LIST INFORMATION:', margin, yPosition)\n        yPosition += lineHeight\n\n        doc.setFont('helvetica', 'normal')\n        doc.text(`ID: ${priceListData.id || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Package Name: ${priceListData.sales_package?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Area: ${priceListData.sales_package?.area?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Hunting Type: ${priceListData.price_list_type?.hunting_type?.name || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(\n          `Amount: ${priceListData.price_list_type?.currency?.symbol || ''}${\n            priceListData.price_list_type?.amount || 'N/A'\n          }`,\n          margin,\n          yPosition,\n        )\n        yPosition += lineHeight\n        doc.text(`Duration: ${priceListData.price_list_type?.duration || 'N/A'} days`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`Status: ${priceListData.price_list_type?.is_active ? 'Active' : 'Inactive'}`, margin, yPosition)\n        yPosition += 15\n\n        // Check if we need a new page\n        if (yPosition > 250) {\n          doc.addPage()\n          yPosition = 20\n        }\n\n        // Validity Period\n        doc.setFont('helvetica', 'bold')\n        doc.text('VALIDITY PERIOD:', margin, yPosition)\n        yPosition += lineHeight\n\n        doc.setFont('helvetica', 'normal')\n        doc.text(`Start Date: ${priceListData.price_list_type?.price_list?.start_date || 'N/A'}`, margin, yPosition)\n        yPosition += lineHeight\n        doc.text(`End Date: ${priceListData.price_list_type?.price_list?.end_date || 'N/A'}`, margin, yPosition)\n        yPosition += 15\n\n        // Regulatory Package\n        if (priceListData.sales_package?.regulatory_package) {\n          doc.setFont('helvetica', 'bold')\n          doc.text('REGULATORY PACKAGE:', margin, yPosition)\n          yPosition += lineHeight\n\n          doc.setFont('helvetica', 'normal')\n          doc.text(`Name: ${priceListData.sales_package.regulatory_package.name || 'N/A'}`, margin, yPosition)\n          yPosition += lineHeight\n          doc.text(\n            `Duration: ${priceListData.sales_package.regulatory_package.duration || 'N/A'} days`,\n            margin,\n            yPosition,\n          )\n          yPosition += 15\n        }\n\n        // Included Species\n        if (priceListData.sales_package?.species?.length > 0) {\n          doc.setFont('helvetica', 'bold')\n          doc.text('INCLUDED SPECIES:', margin, yPosition)\n          yPosition += lineHeight\n\n          doc.setFont('helvetica', 'normal')\n          priceListData.sales_package.species.forEach((sp: any) => {\n            const speciesInfo = sp.species || {}\n            const text = ` ${speciesInfo.name} (${speciesInfo.scientific_name || 'No scientific name'}) - Quantity: ${\n              sp.quantity || 1\n            }`\n\n            // Split long text into multiple lines if needed\n            const lines = doc.splitTextToSize(text, pageWidth - margin * 2)\n            lines.forEach((line: string) => {\n              if (yPosition > 280) {\n                doc.addPage()\n                yPosition = 20\n              }\n              doc.text(line, margin, yPosition)\n              yPosition += lineHeight\n            })\n          })\n          yPosition += 10\n        }\n\n        // Footer\n        doc.setFontSize(10)\n        doc.setTextColor(128, 128, 128)\n        doc.text(`Document generated on: ${new Date().toLocaleString()}`, margin, 285)\n        doc.text('This is an auto-generated individual price list document.', margin, 292)\n\n        // Save the PDF\n        doc.save(`price-list-${priceListId}-${Date.now()}.pdf`)\n\n        this.toast?.init({ message: 'Price list downloaded successfully', color: 'success' })\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error generating individual PDF:', error)\n        this.toast?.init({\n          message: 'Failed to generate PDF. Please try the main Download button.',\n          color: 'warning',\n        })\n      }\n    },\n    createIndividualPdfContent(priceListData: any): string {\n      const currentDate = new Date().toLocaleString()\n      const priceListType = priceListData.price_list_type || {}\n      const salesPackage = priceListData.sales_package || {}\n      const area = salesPackage.area || {}\n      const regulatoryPackage = salesPackage.regulatory_package || {}\n\n      return `\nINDIVIDUAL PRICE LIST DETAILS\n==============================\n\nPRICE LIST INFORMATION:\n-----------------------\nID: ${priceListData.id || 'N/A'}\nPackage Name: ${salesPackage.name || 'N/A'}\nArea: ${area.name || 'N/A'}\nArea Description: ${area.description || 'N/A'}\nHunting Type: ${priceListType.hunting_type?.name || 'N/A'}\nAmount: ${priceListType.currency?.symbol || ''}${priceListType.amount || 'N/A'}\nDuration: ${priceListType.duration || 'N/A'} days\nStatus: ${priceListType.is_active ? 'Active' : 'Inactive'}\n\nVALIDITY PERIOD:\n----------------\nStart Date: ${priceListType.price_list?.start_date || 'N/A'}\nEnd Date: ${priceListType.price_list?.end_date || 'N/A'}\n\nREGULATORY PACKAGE:\n-------------------\nName: ${regulatoryPackage.name || 'N/A'}\nDuration: ${regulatoryPackage.duration || 'N/A'} days\n\nINCLUDED SPECIES:\n-----------------\n${this.formatIncludedSpecies(salesPackage.species || [])}\n\nSAFARI EXTRAS:\n--------------\n${this.formatSafariExtras(priceListData.safari_extras || [])}\n\nTROPHY FEES:\n------------\n${this.formatTrophyFees(priceListData.trophy_fees || [])}\n\nCOMPANION & OBSERVER COSTS:\n---------------------------\n${this.formatCompanionObserver(priceListData.componions_hunter, priceListData.observer)}\n\nCURRENCY INFORMATION:\n---------------------\nCurrency: ${priceListType.currency?.name || 'N/A'}\nSymbol: ${priceListType.currency?.symbol || 'N/A'}\n\nDocument generated on: ${currentDate}\nThis is an auto-generated individual price list document.\n  `.trim()\n    },\n\n    formatIncludedSpecies(species: any[]): string {\n      if (!species.length) return 'No species included'\n\n      return species\n        .map((sp) => {\n          const speciesInfo = sp.species || {}\n          return ` ${speciesInfo.name} (${speciesInfo.scientific_name || 'No scientific name'}) - Quantity: ${\n            sp.quantity || 1\n          }`\n        })\n        .join('\\n')\n    },\n\n    formatSafariExtras(extras: any[]): string {\n      if (!extras.length) return 'No safari extras available'\n\n      return extras\n        .map((extra) => {\n          const currency = extra.currency || {}\n          return ` ${extra.name}: ${currency.symbol || ''}${extra.amount} ${extra.charges_per || ''}`\n        })\n        .join('\\n')\n    },\n\n    formatTrophyFees(fees: any[]): string {\n      if (!fees.length) return 'No trophy fees available'\n\n      return fees\n        .map((fee) => {\n          const species = fee.species || {}\n          return ` ${species.name} (${species.scientific_name || 'No scientific name'}): $${fee.price_usd || 'N/A'}`\n        })\n        .join('\\n')\n    },\n\n    formatCompanionObserver(companion: any, observer: any): string {\n      let result = ''\n\n      if (companion && companion.length > 0) {\n        companion.forEach((comp: any) => {\n          result += `Companion: ${comp.days || 0} days - ${comp.currency?.symbol || ''}${comp.amount || 0}\\n`\n        })\n      } else {\n        result += 'Companion: Not available\\n'\n      }\n\n      if (observer && observer.length > 0) {\n        observer.forEach((obs: any) => {\n          result += `Observer: ${obs.days || 0} days - ${obs.currency?.symbol || ''}${obs.amount || 0}`\n        })\n      } else {\n        result += 'Observer: Not available'\n      }\n\n      return result\n    },\n\n    async onDownloadPdf() {\n      this.downloadingPdf = true\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const seasonId = unwrap(this.seasonValue) || ''\n        const minAmount = this.minAmount || ''\n        const maxAmount = this.maxAmount || ''\n\n        const response = await this.getCompletePriceListPdf(huntingTypeId, areaId, seasonId, minAmount, maxAmount)\n\n        if (response.status === 200) {\n          const pdf = response.data?.pdf || response.data\n          const isUrl = (s: any) => typeof s === 'string' && /^https?:\\/\\//i.test(s)\n          const isLikelyBase64 = (s: any) => typeof s === 'string' && s.length > 200 && /^[A-Za-z0-9+/=\\r\\n]+$/.test(s)\n\n          if (!pdf || (!isUrl(pdf) && !isLikelyBase64(pdf))) {\n            this.toast?.init({ message: 'PDF not available', color: 'warning' })\n            return\n          }\n\n          await downloadPdf(pdf, `price-list-${Date.now()}.pdf`)\n        } else {\n          this.toast?.init({ message: 'Failed to generate PDF', color: 'danger' })\n        }\n      } catch (err) {\n        console.error('Error downloading PDF:', err)\n        this.toast?.init({ message: 'Failed to download PDF', color: 'danger' })\n      } finally {\n        this.downloadingPdf = false\n      }\n    },\n\n    goBack() {\n      this.showPriceList = true\n      this.ShowCreateNewPriceListForm = false\n      this.showEditForm = false\n      this.editItem = null\n      this.getPriceLists()\n    },\n\n    showCreateNewPriceListFormMethod() {\n      this.ShowCreateNewPriceListForm = true\n      this.showPriceList = false\n      this.showEditForm = false\n    },\n\n    async editPriceList(item: any) {\n      try {\n        // Fetch full details for editing\n        const response = await this.getPriceListById(item.id)\n        this.editItem = response.data.data || response.data\n        this.showEditForm = true\n        this.showPriceList = false\n        this.ShowCreateNewPriceListForm = false\n      } catch (error) {\n        console.error('Error fetching price list for edit:', error)\n        this.toast?.init({ message: 'Failed to load price list details', color: 'danger' })\n      }\n    },\n\n    onEditSaved() {\n      this.showEditForm = false\n      this.showPriceList = true\n      this.editItem = null\n      this.getPriceLists()\n      this.toast?.init({ message: 'Price list updated successfully', color: 'success' })\n    },\n\n    confirmDelete(item: any) {\n      this.itemToDelete = item\n      this.showDeleteModal = true\n    },\n\n    async confirmDeletePriceList() {\n      if (!this.itemToDelete) return\n\n      this.deleting = true\n      try {\n        const response = await this.deletePriceList(this.itemToDelete.id, true)\n        if (response.status === 200 || response.status === 204) {\n          this.toast?.init({ message: 'Price list deleted successfully', color: 'success' })\n          this.showDeleteModal = false\n          this.itemToDelete = null\n          this.getPriceLists()\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        this.toast?.init({ message: errors.join(', ') || 'Failed to delete price list', color: 'danger' })\n      } finally {\n        this.deleting = false\n      }\n    },\n\n    async getPriceLists() {\n      this.loading = true\n\n      try {\n        const unwrap = (v: any) => {\n          if (v === null || v === undefined) return ''\n          if (typeof v === 'object' && 'value' in v) return v.value\n          return v\n        }\n\n        const huntingTypeId = unwrap(this.huntingTypeValue) || ''\n        const areaId = unwrap(this.areaValue) || ''\n        const seasonId = unwrap(this.seasonValue) || ''\n        const minAmount = this.minAmount || ''\n        const maxAmount = this.maxAmount || ''\n\n        const response = await this.getPriceList(huntingTypeId, areaId, seasonId, minAmount, maxAmount)\n\n        if (response.status === 200) {\n          const raw = response?.data\n          const dataArray = Array.isArray(raw) ? raw : raw?.data ?? []\n\n          this.printableDataList = raw\n          this.poriceListPdf = raw?.pdf || ''\n\n          if (Array.isArray(dataArray)) {\n            this.items = dataArray.map((item: any) => ({\n              id: item.id,\n              package_name: item.package_name,\n              area: item.area,\n              area_package: item.area_package,\n              hunting_type: item.hunting_type,\n              amount: item.amount,\n              duration: item.duration,\n              status: item.status,\n              start_date: item.start_date,\n              end_date: item.end_date,\n              season_id: item.season_id,\n              season_name: item.season_name,\n              species_count: item.species_count,\n              species: item.species || [],\n              companion_hunter_costs: item.companion_hunter_costs || [],\n            }))\n          } else {\n            this.items = []\n          }\n        }\n      } catch (error) {\n        console.error('Error in getPriceLists:', error)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        const all = { value: '', text: 'All Areas' }\n        this.areasOptions = response?.data?.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n        this.areasOptions.unshift(all)\n        this.areaValue = this.areasOptions[0]\n      } catch (error) {\n        console.error('Error fetching areas:', error)\n      }\n    },\n\n    async getHuntingTypesOptions() {\n      try {\n        const response = await this.getHuntingsTypes()\n        if (response.status === 200) {\n          const all = { value: '', text: 'All Types' }\n          this.huntingTypeOptions = response?.data?.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n          this.huntingTypeOptions.unshift(all)\n          this.huntingTypeValue = this.huntingTypeOptions[0]\n        }\n      } catch (error) {\n        console.error('Error fetching hunting types:', error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.price-list-page {\n  min-height: 600px;\n}\n\n.filters-section {\n  border: 1px solid #e5e7eb;\n}\n\n.stat-card {\n  transition: transform 0.2s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n  }\n}\n\n.price-card {\n  .card-header {\n    background: linear-gradient(135deg, #92400e 0%, #b45309 100%);\n  }\n\n  .detail-item {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.species-preview {\n  .va-badge {\n    font-size: 0.7rem !important;\n  }\n}\n</style>\n"],"names":["_sfc_main$2","defineComponent","usePaymentCardsStore","format","_a","_b","_c","dateStr","species","chargesPer","amount","num","sequence","suffixes","value","suffix","fileName","downloadPdf","err","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_ctx","_openBlock","_createBlock","_component_VaSkeletonGroup","_withCtx","_createVNode","_component_VaSkeleton","_createElementBlock","_hoisted_1","_component_VaCard","_component_VaCardContent","_createElementVNode","_toDisplayString","_component_VaChip","_component_VaIcon","_createTextVNode","_d","_cache","_f","_e","_component_VaButton","_createCommentVNode","_component_VaCardTitle","_Fragment","_renderList","_component_VaBadge","fee","_component_VaAlert","_hoisted_32","extra","companion","_sfc_main$1","SalesPackageForm","VaForm","VaInput","VaSelect","VaButton","formRef","ref","isValidForm","validateForm","resetValidationForm","resetForm","useForm","init","useToast","showEditForm","form","reactive","contactForm","deleteChip","chip","v","countries","nationality","categoryOptions","contactsTypes","clients","step","validators","mapState","usePriceListStore","mapWritableState","mapActions","useQuotaStore","useSettingsStore","validUpgradeFees","feeData","requestdata","_g","_i","_h","_j","_l","_k","_m","_n","response","error","handleErrors","priceListType","rawAmount","durationValue","d","huntingTypeName","h","startDate","endDate","s","year","currencyName","c","companionCosts","firstCompanion","salesPackage","p","upgradeFees","item","index","_component_VaInnerLoading","_component_VaForm","_component_VaSelect","$event","_component_VaInput","_component_VaModal","_component_SalesPackageForm","_sfc_main","PricesListDetails","CreatePricesListForm","all","rowData","priceListId","priceListData","doc","jsPDF","yPosition","lineHeight","margin","pageWidth","_o","_q","_p","sp","speciesInfo","text","line","_r","_s","currentDate","area","regulatoryPackage","extras","currency","fees","observer","result","comp","obs","unwrap","huntingTypeId","areaId","seasonId","minAmount","maxAmount","pdf","isUrl","isLikelyBase64","errors","raw","dataArray","_component_VaDivider","_component_VaDataTable","_component_CreatePricesListForm","_component_PricesListDetails"],"mappings":"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"}