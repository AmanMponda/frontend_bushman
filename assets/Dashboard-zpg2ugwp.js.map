{"version":3,"file":"Dashboard-zpg2ugwp.js","sources":["../../src/composables/useColors.ts","../../src/pages/client/dashboard/DataSectionItem.vue","../../src/stores/stats-store.ts","../../src/pages/client/dashboard/DataSection.vue","../../src/pages/client/dashboard/DataSection.vue"],"sourcesContent":["// Bootstrap-compatible color system\nexport function useColors() {\n  const getColor = (colorName: string): string => {\n    // Map Vuestic color names to Bootstrap colors\n    const colorMap: Record<string, string> = {\n      primary: '#0d6efd',\n      secondary: '#6c757d',\n      success: '#198754',\n      danger: '#dc3545',\n      warning: '#ffc107',\n      info: '#0dcaf0',\n      light: '#f8f9fa',\n      dark: '#212529',\n      'on-primary': '#ffffff',\n      'on-secondary': '#ffffff',\n      'on-success': '#ffffff',\n      'on-danger': '#ffffff',\n      'on-warning': '#000000',\n      'on-info': '#000000',\n      'on-light': '#000000',\n      'on-dark': '#ffffff',\n    }\n\n    return colorMap[colorName] || colorMap['primary']\n  }\n\n  return {\n    getColor,\n  }\n}\n","<template>\n  <Card>\n    <CardBody>\n      <section>\n        <header class=\"d-flex align-items-center justify-content-between mb-2\">\n          <div class=\"h5 mb-0 flex-grow-1\">{{ value }}</div>\n          <div\n            class=\"p-2 rounded\"\n            :style=\"{\n              backgroundColor: iconBackground,\n              color: iconColor,\n            }\"\n          >\n            <slot name=\"icon\"></slot>\n          </div>\n        </header>\n        <div>\n          <p class=\"mb-2\">{{ title }}</p>\n          <p class=\"small text-muted\">\n            <span :class=\"changeClass\">\n              <template v-if=\"up\">↑</template>\n              <template v-else>↓</template>\n              {{ changeText }}\n            </span>\n          </p>\n        </div>\n      </section>\n    </CardBody>\n  </Card>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\nconst props = defineProps<{\n  title: string\n  value: string | number\n  changeText: string\n  up: boolean\n  iconBackground: string\n  iconColor: string\n}>()\n\nconst changeClass = computed(() => ({\n  'text-success': props.up,\n  'text-danger': !props.up,\n}))\n</script>\n","// VITE_APP_SALES_CONFIRMATION_CONTRACT_VSET_URL\n\nimport { defineStore } from 'pinia'\nimport axios from 'axios'\nimport { QuotaStats } from '../interfaces/IQuota'\n// import { format } from 'date-fns'\n// import { formatDateTime } from '../services/utils'\n\nexport const useStatsStore = defineStore('stats', {\n  state: () => {\n    return {\n      loadingStats: false,\n      quotaStats: {} as QuotaStats,\n    }\n  },\n\n  actions: {\n    async getStats() {\n      this.loadingStats = true\n      const url = import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_QUOTA_STATS_URL\n\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: url,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n\n      if (response.status === 200) {\n        // Backend returns { success: true, data: [...species], totals: {...}, pdf: \"...\" }\n        const totals = response.data.totals || {}\n        const quotaName =\n          response.data.data && response.data.data.length > 0 ? response.data.data[0].quota?.name : 'Unknown'\n\n        this.quotaStats = {\n          confirmed: totals.confirmed || 0,\n          pending: 0, // Not provided in current backend response\n          cancelled: totals.cancelled || 0,\n          taken: totals.taken || 0,\n          provisioned: totals.provisioned || 0,\n          totalQuota: totals.total_quota_balance || 0,\n          quota: quotaName,\n        }\n\n        console.log(this.quotaStats)\n        this.loadingStats = false\n        return response\n      }\n      return response\n    },\n  },\n})\n","<template>\n  <BootstrapInnerLoading :loading=\"loadingStats\">\n    <div class=\"row g-3\">\n      <div v-for=\"metric in dashboardMetrics\" :key=\"metric.id\" class=\"col-12 col-sm-6 col-md-4 col-lg\">\n        <DataSectionItem\n          :disabled=\"loadingStats\"\n          :title=\"metric.title\"\n          :value=\"metric.value\"\n          :change-text=\"metric.changeText\"\n          :up=\"metric.changeDirection === 'up'\"\n          :icon-background=\"metric.iconBackground\"\n          :icon-color=\"metric.iconColor\"\n        >\n          <template #icon>\n            <i class=\"material-icons\" style=\"font-size: 24px\">{{ getIconName(metric.icon) }}</i>\n          </template>\n        </DataSectionItem>\n      </div>\n    </div>\n  </BootstrapInnerLoading>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useColors } from '@/composables/useColors'\nimport DataSectionItem from './DataSectionItem.vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useStatsStore } from '../../../stores/stats-store'\nimport { DashboardMetric } from '../../../interfaces/IQuota'\nimport BootstrapInnerLoading from '@/components/bootstrap/InnerLoading.vue'\n\nexport default defineComponent({\n  name: 'DataSection',\n  components: {\n    DataSectionItem,\n    BootstrapInnerLoading,\n  },\n  setup() {\n    return {}\n  },\n\n  data() {\n    const { getColor } = useColors()\n\n    return {\n      getColor,\n    }\n  },\n\n  computed: {\n    ...mapState(useStatsStore, ['loadingStats', 'quotaStats']),\n\n    dashboardMetrics(): DashboardMetric[] {\n      return [\n        {\n          id: 'totalquota',\n          title: 'Total Quota Balance',\n          value: this.quotaStats ? this.quotaStats.totalQuota : '0',\n          icon: 'mso-folder_open',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('secondary'),\n          iconColor: this.getColor('on-info'),\n        },\n        {\n          id: 'provisioned',\n          title: 'Total provisioned ',\n          value: this.quotaStats ? this.quotaStats.provisioned : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('warning'),\n          iconColor: this.getColor('on-primary'),\n        },\n        {\n          id: 'confirmed',\n          title: ' Total Confirmed ',\n          value: this.quotaStats ? this.quotaStats.confirmed : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('success'),\n          iconColor: this.getColor('on-primary'),\n        },\n\n        {\n          id: 'cancelled',\n          title: 'Total Cancelled ',\n          value: this.quotaStats ? this.quotaStats.cancelled : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('danger'),\n          iconColor: this.getColor('on-primary'),\n        },\n\n        {\n          id: 'taken',\n          title: 'Total Taken',\n          value: this.quotaStats ? this.quotaStats.taken : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('primary'),\n          iconColor: this.getColor('on-danger'),\n        },\n      ]\n    },\n  },\n  mounted() {\n    this.getStats()\n  },\n  methods: {\n    ...mapActions(useStatsStore, ['getStats']),\n    getIconName(icon: string): string {\n      // Convert Vuestic icon names to Material Icons\n      const iconMap: Record<string, string> = {\n        'mso-folder_open': 'folder_open',\n        pets: 'pets',\n      }\n      return iconMap[icon] || icon.replace('mso-', '')\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<template>\n  <BootstrapInnerLoading :loading=\"loadingStats\">\n    <div class=\"row g-3\">\n      <div v-for=\"metric in dashboardMetrics\" :key=\"metric.id\" class=\"col-12 col-sm-6 col-md-4 col-lg\">\n        <DataSectionItem\n          :disabled=\"loadingStats\"\n          :title=\"metric.title\"\n          :value=\"metric.value\"\n          :change-text=\"metric.changeText\"\n          :up=\"metric.changeDirection === 'up'\"\n          :icon-background=\"metric.iconBackground\"\n          :icon-color=\"metric.iconColor\"\n        >\n          <template #icon>\n            <i class=\"material-icons\" style=\"font-size: 24px\">{{ getIconName(metric.icon) }}</i>\n          </template>\n        </DataSectionItem>\n      </div>\n    </div>\n  </BootstrapInnerLoading>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useColors } from '@/composables/useColors'\nimport DataSectionItem from './DataSectionItem.vue'\nimport { mapActions, mapState } from 'pinia'\nimport { useStatsStore } from '../../../stores/stats-store'\nimport { DashboardMetric } from '../../../interfaces/IQuota'\nimport BootstrapInnerLoading from '@/components/bootstrap/InnerLoading.vue'\n\nexport default defineComponent({\n  name: 'DataSection',\n  components: {\n    DataSectionItem,\n    BootstrapInnerLoading,\n  },\n  setup() {\n    return {}\n  },\n\n  data() {\n    const { getColor } = useColors()\n\n    return {\n      getColor,\n    }\n  },\n\n  computed: {\n    ...mapState(useStatsStore, ['loadingStats', 'quotaStats']),\n\n    dashboardMetrics(): DashboardMetric[] {\n      return [\n        {\n          id: 'totalquota',\n          title: 'Total Quota Balance',\n          value: this.quotaStats ? this.quotaStats.totalQuota : '0',\n          icon: 'mso-folder_open',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('secondary'),\n          iconColor: this.getColor('on-info'),\n        },\n        {\n          id: 'provisioned',\n          title: 'Total provisioned ',\n          value: this.quotaStats ? this.quotaStats.provisioned : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('warning'),\n          iconColor: this.getColor('on-primary'),\n        },\n        {\n          id: 'confirmed',\n          title: ' Total Confirmed ',\n          value: this.quotaStats ? this.quotaStats.confirmed : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('success'),\n          iconColor: this.getColor('on-primary'),\n        },\n\n        {\n          id: 'cancelled',\n          title: 'Total Cancelled ',\n          value: this.quotaStats ? this.quotaStats.cancelled : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('danger'),\n          iconColor: this.getColor('on-primary'),\n        },\n\n        {\n          id: 'taken',\n          title: 'Total Taken',\n          value: this.quotaStats ? this.quotaStats.taken : '0',\n          icon: 'pets',\n          changeText: this.quotaStats ? this.quotaStats.quota : '',\n          changeDirection: 'up',\n          iconBackground: this.getColor('primary'),\n          iconColor: this.getColor('on-danger'),\n        },\n      ]\n    },\n  },\n  mounted() {\n    this.getStats()\n  },\n  methods: {\n    ...mapActions(useStatsStore, ['getStats']),\n    getIconName(icon: string): string {\n      // Convert Vuestic icon names to Material Icons\n      const iconMap: Record<string, string> = {\n        'mso-folder_open': 'folder_open',\n        pets: 'pets',\n      }\n      return iconMap[icon] || icon.replace('mso-', '')\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"names":["useColors","colorName","colorMap","props","__props","changeClass","computed","useStatsStore","defineStore","config","response","axios","totals","quotaName","_a","_sfc_main$1","defineComponent","DataSectionItem","BootstrapInnerLoading","getColor","mapState","mapActions","icon","_hoisted_1","_createBlock","_component_BootstrapInnerLoading","_ctx","_createElementVNode","_openBlock","_createElementBlock","_Fragment","_renderList","metric","_createVNode","_component_DataSectionItem","_withCtx","_hoisted_2","_toDisplayString"],"mappings":"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"}