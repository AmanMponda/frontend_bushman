import{d as m,c as k,a as q,w as u,r as p,b as S,e,t as d,n as y,f as v,g as B,h as r,i as h,F as f,o as c,j as x,k as b,m as T,l as D,_ as $,p as w,q as I}from"./index-Dg6zTblr.js";function N(){return{getColor:n=>{const o={primary:"#0d6efd",secondary:"#6c757d",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",light:"#f8f9fa",dark:"#212529","on-primary":"#ffffff","on-secondary":"#ffffff","on-success":"#ffffff","on-danger":"#ffffff","on-warning":"#000000","on-info":"#000000","on-light":"#000000","on-dark":"#ffffff"};return o[n]||o.primary}}}const L={class:"d-flex align-items-center justify-content-between mb-2"},M={class:"h5 mb-0 flex-grow-1"},j={class:"mb-2"},z={class:"small text-muted"},Q=m({__name:"DataSectionItem",props:{title:{},value:{},changeText:{},up:{type:Boolean},iconBackground:{},iconColor:{}},setup(t){const n=t,o=k(()=>({"text-success":n.up,"text-danger":!n.up}));return(a,i)=>{const l=p("CardBody"),g=p("Card");return c(),q(g,null,{default:u(()=>[S(l,null,{default:u(()=>[e("section",null,[e("header",L,[e("div",M,d(a.value),1),e("div",{class:"p-2 rounded",style:y({backgroundColor:a.iconBackground,color:a.iconColor})},[v(a.$slots,"icon")],4)]),e("div",null,[e("p",j,d(a.title),1),e("p",z,[e("span",{class:B(o.value)},[a.up?(c(),r(f,{key:0},[h("↑")],64)):(c(),r(f,{key:1},[h("↓")],64)),h(" "+d(a.changeText),1)],2)])])])]),_:3})]),_:3})}}}),_=x("stats",{state:()=>({loadingStats:!1,quotaStats:{}}),actions:{async getStats(){var a;this.loadingStats=!0;const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/reportings/quota-stats/",headers:{"Content-Type":"application/json"}},o=await b.request(n);if(o.status===200){const i=o.data.totals||{},l=o.data.data&&o.data.data.length>0?(a=o.data.data[0].quota)==null?void 0:a.name:"Unknown";return this.quotaStats={confirmed:i.confirmed||0,pending:0,cancelled:i.cancelled||0,taken:i.taken||0,provisioned:i.provisioned||0,totalQuota:i.total_quota_balance||0,quota:l},console.log(this.quotaStats),this.loadingStats=!1,o}return o}}}),V=m({name:"DataSection",components:{DataSectionItem:Q,BootstrapInnerLoading:$},setup(){return{}},data(){const{getColor:t}=N();return{getColor:t}},computed:{...D(_,["loadingStats","quotaStats"]),dashboardMetrics(){return[{id:"totalquota",title:"Total Quota Balance",value:this.quotaStats?this.quotaStats.totalQuota:"0",icon:"mso-folder_open",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("secondary"),iconColor:this.getColor("on-info")},{id:"provisioned",title:"Total provisioned ",value:this.quotaStats?this.quotaStats.provisioned:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("warning"),iconColor:this.getColor("on-primary")},{id:"confirmed",title:" Total Confirmed ",value:this.quotaStats?this.quotaStats.confirmed:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("success"),iconColor:this.getColor("on-primary")},{id:"cancelled",title:"Total Cancelled ",value:this.quotaStats?this.quotaStats.cancelled:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("danger"),iconColor:this.getColor("on-primary")},{id:"taken",title:"Total Taken",value:this.quotaStats?this.quotaStats.taken:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("primary"),iconColor:this.getColor("on-danger")}]}},mounted(){this.getStats()},methods:{...T(_,["getStats"]),getIconName(t){return{"mso-folder_open":"folder_open",pets:"pets"}[t]||t.replace("mso-","")}}}),F={class:"row g-3"},A={class:"material-icons",style:{"font-size":"24px"}};function E(t,n,o,a,i,l){const g=p("DataSectionItem"),C=p("BootstrapInnerLoading");return c(),q(C,{loading:t.loadingStats},{default:u(()=>[e("div",F,[(c(!0),r(f,null,I(t.dashboardMetrics,s=>(c(),r("div",{key:s.id,class:"col-12 col-sm-6 col-md-4 col-lg"},[S(g,{disabled:t.loadingStats,title:s.title,value:s.value,"change-text":s.changeText,up:s.changeDirection==="up","icon-background":s.iconBackground,"icon-color":s.iconColor},{icon:u(()=>[e("i",A,d(t.getIconName(s.icon)),1)]),_:2},1032,["disabled","title","value","change-text","up","icon-background","icon-color"])]))),128))])]),_:1},8,["loading"])}const U=w(V,[["render",E]]),G={class:"d-flex flex-column gap-3"},J=m({__name:"Dashboard",setup(t){return(n,o)=>(c(),r("section",G,[S(U)]))}});export{J as default};
//# sourceMappingURL=Dashboard-8fJtilVV.js.map
