import{j as o,k as i}from"./index-Ck95g1n5.js";const c=o("settings-store",{state:()=>({itemsByHuntingType:[],logo:"",licenceAreaSpecies:[],laodinglicenceAreaSpecies:!1,salesPackagesSpecies:[],salesPackages:[],loadingSalesPackages:!1,currencies:[],units:[],safariExtras:[],showCreateSafariExtraModal:!1,savingSafariExtra:!1,loadingExtras:!1,salesInquiryEntities:[],accommodationTypes:[],seasons:[],loadingAccommodationTypes:!1,loadingSalesInquiryEntities:!1,showAccommodationTypeModal:!1,savingAccommodationType:!1,salesChartersPriceList:[],loadingSalesChartersPriceList:!1,savingSalesChartersPriceList:!1,showSalesChartersPriceListModal:!1}),actions:{async getHuntingsTypes(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/hunting-types/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getCurrencies(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/currencies/",headers:{"Content-Type":"application/json"}},a=await i.request(n);return a.status===200&&(this.currencies=a.data.map(t=>({value:t.id,text:t.name,currency:t.currency,price:t.price}))),a},async getSeasons(s=!1){const a={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/seasons/",headers:{"Content-Type":"application/json"}},t=await i.request(a);return t.status===200&&(s?this.seasons=t.data.map(e=>({value:e.id,text:e.name})):this.seasons=t.data),t},loadLogo(){const s=new Image;s.src="/logo.png",s.onload=()=>{const n=document.createElement("canvas");n.width=s.width,n.height=s.height,n.getContext("2d").drawImage(s,0,0);const t=n.toDataURL("image/png");this.logo=t}},async getDocTypes(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/document-types/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getLicenceRegulatoryHuntingPackageSpecies(s){const a={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/licence-regulatory-hunting-package-species/?quota_id=${s.quotaId}`,headers:{"Content-Type":"application/json"}};return await i.request(a)},async getPhVset(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/ph-vset/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getHuntingLicenseAreaSpecies(s){this.laodinglicenceAreaSpecies=!0,this.licenceAreaSpecies=[];const a={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/licence-area-species/?area_id=${s.areaId}&licence_id=${s.licenceId}`,headers:{"Content-Type":"application/json"}},t=await i.request(a);return t.data.length>0&&(this.laodinglicenceAreaSpecies=!1,this.licenceAreaSpecies=t.data.map(e=>({id:e.species.id,name:e.species.name,scientific_name:e.species.scientific_name,quantity:e.quantity}))),t},async getSalespackagesSpecies(s){this.loadingSalesPackages=!0;const a={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/sales-package-species/?sales_package_id=${s.salespackageId}`,headers:{"Content-Type":"application/json"}},t=await i.request(a);return t.status===200&&(this.salesPackagesSpecies=t.data.map(e=>({id:e.species.id,name:e.species.name,species_id:e.species.id,scientific_name:e.species.scientific_name,quantity:e.quantity})),this.loadingSalesPackages=!1),t},async getUnits(){const n={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/units/",headers:{"Content-Type":"application/json"}},a=await i.request(n);return a.status===200&&(this.units=a.data.map(t=>({value:t.id,text:t.name,unit:t.unit,factor:t.factor}))),a},async getSafariExtras(s){this.loadingExtras=!0;const a={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"}};try{const t=await i.request(a);return t.status===200&&(this.loadingExtras=!1,s?this.safariExtras=t.data.map(e=>({value:e.id,text:e.name})):this.safariExtras=t.data.map(e=>({id:e.id,name:e.name,amount:`${e.currency.symbol} ${e.amount} `,description:e.description}))),t}catch{this.loadingExtras=!1}},async createSafariExtras(s){this.savingSafariExtra=!0;const a={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"},data:s},t=await i.request(a);return t.status===201&&(this.savingSafariExtra=!1,this.showCreateSafariExtraModal=!1,this.getSafariExtras(!1)),t},async getSalesInquiryEntities(s){const a={method:"get",maxBodyLength:1/0,url:`http://localhost:8000/api/v1.0/settings/sales-inquiry-entity/?sales_inquiry_id=${s}`,headers:{"Content-Type":"application/json"}},t=await i.request(a);t.status===200&&(this.salesInquiryEntities=t.data.map(e=>({value:e.id,text:e.full_name})))},async getAccommodationTypes(s){this.loadingAccommodationTypes=!0;const a={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"}},t=await i.request(a);return t.status===200&&(this.loadingAccommodationTypes=!1,s?this.accommodationTypes=t.data.map(e=>({value:e.id,text:e.name})):this.accommodationTypes=t.data.map(e=>({id:e.id,name:e.name,description:e.description}))),t},async createAccommodationType(s){this.savingAccommodationType=!0;const a={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"},data:s},t=await i.request(a);return t.status===201&&(this.savingAccommodationType=!1,this.showAccommodationTypeModal=!1,this.getAccommodationTypes(!0)),t},async getSalesChartersPriceList(s){this.loadingSalesChartersPriceList=!0;const a={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"}},t=await i.request(a);try{t.status===200&&(this.loadingSalesChartersPriceList=!1,s?this.salesChartersPriceList=t.data.map(e=>({value:e.id,text:e.name})):this.salesChartersPriceList=t.data.map(e=>({id:e.id,name:e.name,description:e.description,price:e.price})))}catch(e){this.loadingSalesChartersPriceList=!1,console.log(e)}},async createSalesChartersPriceList(s){this.savingSalesChartersPriceList=!0;const a={method:"post",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"},data:s},t=await i.request(a);return t.status===201&&(this.savingSalesChartersPriceList=!1,this.showSalesChartersPriceListModal=!1,this.getSalesChartersPriceList(!0)),t}}});export{c as u};
//# sourceMappingURL=settings-store-Bkkc7-vM.js.map
