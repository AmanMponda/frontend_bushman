import{d as m,c as v,a as p,w as u,u as x,V as y,b as _,e,t as g,n as T,r as B,f as D,g as d,h,F as S,i as l,o as i,j as b,k as V,m as I,l as $,p as w,_ as L,q as N}from"./index-mc8yIoJz.js";const j={class:"flex items-center justify-between"},z={class:"text-lg font-semibold grow"},Q={class:"mb-2"},F={class:"text-xs text-secondary"},M=m({__name:"DataSectionItem",props:{title:{},value:{},changeText:{},up:{type:Boolean},iconBackground:{},iconColor:{}},setup(a){const c=a,t=v(()=>({"text-success":c.up,"text-red-600":!c.up}));return(o,s)=>{const r=l("VaCardContent");return i(),p(x(y),{square:"",outlined:""},{default:u(()=>[_(r,null,{default:u(()=>[e("section",null,[e("header",j,[e("div",z,g(o.value),1),e("div",{class:"p-1 rounded",style:T({backgroundColor:o.iconBackground,color:o.iconColor})},[B(o.$slots,"icon")],4)]),e("div",null,[e("p",Q,g(o.title),1),e("p",F,[e("span",{class:D(t.value)},[o.up?(i(),d(S,{key:0},[h("↑")],64)):(i(),d(S,{key:1},[h("↓")],64)),h(" "+g(o.changeText),1)],2)])])])]),_:3})]),_:3})}}}),q=b("stats",{state:()=>({loadingStats:!1,quotaStats:{}}),actions:{async getStats(){var o;this.loadingStats=!0;const c={method:"get",maxBodyLength:1/0,url:"http://localhost:8000/api/v1.0/reportings/quota-stats/",headers:{"Content-Type":"application/json"}},t=await V.request(c);if(t.status===200){const s=t.data.totals||{},r=t.data.data&&t.data.data.length>0?(o=t.data.data[0].quota)==null?void 0:o.name:"Unknown";return this.quotaStats={confirmed:s.confirmed||0,pending:0,cancelled:s.cancelled||0,taken:s.taken||0,provisioned:s.provisioned||0,totalQuota:s.total_quota_balance||0,quota:r},console.log(this.quotaStats),this.loadingStats=!1,t}return t}}}),A=m({name:"DataSection",components:{DataSectionItem:M},setup(){return{}},data(){const{getColor:a}=w();return{getColor:a}},computed:{...$(q,["loadingStats","quotaStats"]),dashboardMetrics(){return[{id:"totalquota",title:"Total Quota Balance",value:this.quotaStats?this.quotaStats.totalQuota:"0",icon:"mso-folder_open",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("secondary"),iconColor:this.getColor("on-info")},{id:"provisioned",title:"Total provisioned ",value:this.quotaStats?this.quotaStats.provisioned:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("warning"),iconColor:this.getColor("on-primary")},{id:"confirmed",title:" Total Confirmed ",value:this.quotaStats?this.quotaStats.confirmed:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("success"),iconColor:this.getColor("on-primary")},{id:"cancelled",title:"Total Cancelled ",value:this.quotaStats?this.quotaStats.cancelled:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("danger"),iconColor:this.getColor("on-primary")},{id:"taken",title:"Total Taken",value:this.quotaStats?this.quotaStats.taken:"0",icon:"pets",changeText:this.quotaStats?this.quotaStats.quota:"",changeDirection:"up",iconBackground:this.getColor("primary"),iconColor:this.getColor("on-danger")}]}},mounted(){this.getStats()},methods:{...I(q,["getStats"])}}),E={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4"};function U(a,c,t,o,s,r){const C=l("VaIcon"),f=l("DataSectionItem"),k=l("VaInnerLoading");return i(),p(k,{loading:a.loadingStats},{default:u(()=>[e("div",E,[(i(!0),d(S,null,N(a.dashboardMetrics,n=>(i(),p(f,{key:n.id,disabled:a.loadingStats,title:n.title,value:n.value,"change-text":n.changeText,up:n.changeDirection==="up","icon-background":n.iconBackground,"icon-color":n.iconColor},{icon:u(()=>[_(C,{name:n.icon,size:"large"},null,8,["name"])]),_:2},1032,["disabled","title","value","change-text","up","icon-background","icon-color"]))),128))])]),_:1},8,["loading"])}const G=L(A,[["render",U]]),H={class:"flex flex-col gap-4"},K=m({__name:"Dashboard",setup(a){return(c,t)=>(i(),d("section",H,[_(G)]))}});export{K as default};
//# sourceMappingURL=Dashboard-Dbjyl8UD.js.map
