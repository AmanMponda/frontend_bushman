import{j as z,k,d as $,m as S,z as q,A as P,p as L,a as y,w as d,b as i,e as p,r as l,i as _,o as c,l as T,h as G,t as O,s as I,q as W,F as N}from"./index-Dg6zTblr.js";import{d as K}from"./pdfDownloader-Cg_wDO9M.js";import{f as F}from"./utils-BWc0LXoO.js";import{f as b}from"./format-Cn4G_mmc.js";import{u as B}from"./useForm-DyYUDtxi.js";import{u as E}from"./useToast-Bi2Ekdco.js";import{h as U}from"./errorHandler-DijQ3xmc.js";import{u as j}from"./sales-store-9y6972eg.js";import{u as M}from"./quota-store-3Npdv5Xt.js";import{u as R}from"./contracts-store-BRTk1SGi.js";import{u as H}from"./settings-store-D7r1TkyV.js";const C=z("sales_game",{state:()=>({games:[],loadinggames:!1,permits:[],loadingPermits:!1,activities:[],loadingActivities:!1}),actions:{async getRegisteredGames(){this.loadinggames=!0;const t={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/sales-confirmation/game-activity-vset/",headers:{"Content-Type":"application/json"}};try{const o=await k.request(t);return o.status===200?(this.games=o.data.map(a=>{var n;return{permit_number:((n=a==null?void 0:a.entity_contract_permit)==null?void 0:n.permit_number)??"",client_name:a==null?void 0:a.client.full_name,status:a.status,pdf:a.pdf,selfitem:a,start_date:F(a==null?void 0:a.start_date),end_date:F(a.end_date)}}),this.loadinggames=!1,o):(console.log(this.games),o)}catch{this.loadinggames=!1}},async initiateGameActivity(e){const t="https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/sales-confirmation/create-game-activity-vset/",o=JSON.stringify(e),a={method:"post",maxBodyLength:1/0,url:t,headers:{"Content-Type":"application/json"},data:o};return await k.request(a)},async iniateandOrSaveGameActivity(e){const t="https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/sales-confirmation/game-activity-registration-vset/",o=JSON.stringify({entity_contract_permit_id:e.entity_contract_permit_id,client_id:e.client_id,start_date:e.start_date!=null||e.start_date!=null?b(e.start_date,"yyyy-MM-dd"):null,end_date:e.end_date!=null||e.end_date!=null?b(e.end_date,"yyyy-MM-dd"):null,professional_hunters_ids:e.professional_hunters_ids,coordinates_type:"Point",coordinates:e.coordinates,species_id:e.species_id,quantity:e.quantity??1,area_id:e.area_id,time:e.time,date:e.date,weapon_used:e.weapon_used,description:e.description,spacies_gender:e.gender,status:e.status,sales_confirmation_proposal_id:e.sales_confirmation_proposal_id,game_state:e.game_state}),a={method:"post",maxBodyLength:1/0,url:t,headers:{"Content-Type":"application/json"},data:o};return await k.request(a)},async getActiviteActivites(e){this.loadingActivities=!0;const o={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/sales-confirmation/game-activities-vset/?game_activity_id="+e,headers:{"Content-Type":"application/json"}};try{const a=await k.request(o);if(a.status===200)return this.loadingActivities=!1,this.activities=a.data.map(n=>({species:n.species.name,quantity:n.quantity,area:n.area.name,weapon_used:n.weapon_used,date:F(n.date),time:n.time,gender:n.spacies_gender,coordinates:` ${n.location.geo_coordinates.coordinates[0].lat}, ${n.location.geo_coordinates.coordinates[0].lng} `,status:n.status})),a}catch(a){this.loadingActivities=!1,console.log(a)}},async createASingleActivity(e){const t="https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/sales-confirmation/game-activities-vset/",o=JSON.stringify({game_activity_id:e.game_activity_id,coordinates_type:"Point",coordinates:[{lat:e.lat,lng:e.lng}],area_id:e.area_id,time:e.time,date:b(e.date,"yyyy-MM-dd"),weapon_used:e.weapon_used,species_id:e.species_id,quantity:e.quantity??1,description:e.description,spacies_gender:e.gender,status:e.status,sales_confirmation_proposal_id:e.sales_confirmation_proposal_id,game_state:e.game_state}),a={method:"post",maxBodyLength:1/0,url:t,headers:{"Content-Type":"application/json"},data:o};return await k.request(a)}}}),J=$({props:{activityData:{type:Object,required:!0}},setup(){const{init:e}=E(),t=q(null),{isValid:o,validate:a,resetValidation:n,reset:f}=B(t),r=q(!0),u=A=>{console.log(A),(A.value=="prior"||A.value=="after")&&(r.value=!1)},g=P({description:"",lat:null,lng:null,species:null,quantity:1,area_id:null,time:null,date:null,weapon_used:null,spacies_gender:null,status:null});return{iformRef:t,isValidForm:o,validateForm:a,resetValidationForm:n,resetForm:f,form:g,init:e,onInputChange:u,isNotUpBookingSelected:r}},data(){return{packages:[],installments:[],regulatoryPackages:[],contractPermitOptions:[],loadingSales:!1,salesItem:null,games:[],client_id:null,areaOptions:[],speciesOptions:[],columns:[{key:"species_id"},{key:"quantity"},{key:"time"},{key:"date"},{key:"weapon_used",label:"weapon used"},{key:"spacies_gender"},{key:"status"},{key:"actions",width:80}],statusOptions:[{text:"WOUNDED",value:"WOUNDED"},{text:"KILLED",value:"KILLED"}],isAddGameActivities:!1,genderOptions:[{text:"M",value:"M"},{text:"F",value:"F"}],phOptions:[],sendingData:!1,sendingSaveClose:!1}},computed:{},mounted(){this.getPermitOptions(),this.getSpeciesListOptions(),this.getAreaListOptions(),this.getPhVsetOptions(),console.log(this.activityData)},methods:{...S(C,["iniateandOrSaveGameActivity"]),...S(R,["getContractPermits"]),...S(j,["getallSalesConfirmation"]),...S(M,["getSpeciesList","getAreaList"]),...S(H,["getPhVset"]),onValueChange(e){e&&(this.client_id=e.selfitem.entity_contract.sales_confirmation_proposal.sales_inquiry.entity.id)},addGameActivities(){this.isAddGameActivities=!this.isAddGameActivities,this.isAddGameActivities==!1&&(this.games=[])},async onSubmit(e){var a,n;this.sendingData=!0;const t=[],o={entity_contract_permit_id:this.activityData.entity_contract_permit.id,client_id:this.activityData.client.id,professional_hunters_ids:t,game_state:e,coordinates_type:"Point",coordinates:[{lat:this.form.lat,lng:this.form.lng}],species_id:(a=this.form.species)==null?void 0:a.value,quantity:this.form.quantity,area_id:(n=this.form.area_id)==null?void 0:n.value,time:b(this.form.time,"HH:mm"),date:b(this.form.date,"yyyy-MM-dd"),weapon_used:this.form.weapon_used,description:this.form.description,spacies_gender:this.form.spacies_gender.value,status:this.form.status.value};try{const f=await this.iniateandOrSaveGameActivity(o);f.status===201&&(this.init({message:f.data.message,color:"success"}),this.sendingData=!1,this.sendingSaveClose=!1)}catch(f){this.sendingData=!1,this.sendingSaveClose=!1;const r=U(f.response);console.log(f),this.init({message:`
`+r.map((u,g)=>`${g+1}. ${u}`).join(`
`),color:"danger"})}},saveAndClose(){this.sendingSaveClose=!0,this.onSubmit("CLOSED")},createGameListObject(){var t,o;if(!this.form.species||!this.form.area_id||!this.form.lat||!this.form.lng||!this.form.time||!this.form.date||!this.form.weapon_used||!this.form.spacies_gender||!this.form.status){this.init({message:"All fields are required",color:"warning"});return}const e={coordinates_type:"Point",coordinates:[{lat:this.form.lat,lng:this.form.lng}],species_id:(t=this.form.species)==null?void 0:t.value,quantity:this.form.quantity,area_id:(o=this.form.area_id)==null?void 0:o.value,time:b(this.form.time,"HH:mm"),date:b(this.form.date,"yyyy-MM-dd"),weapon_used:this.form.weapon_used,description:this.form.description,spacies_gender:this.form.spacies_gender.value,status:this.form.status.value};this.games.push(e)},deleteFromStorage(e){this.games.splice(e,1)},async getPermitOptions(){this.loadingSales=!0;const e=await this.getContractPermits();e.status===200?(this.loadingSales=!1,this.contractPermitOptions=e.data.map(t=>({text:`PN0: ${t.permit_number} - C: ${t.entity_contract.sales_confirmation_proposal.sales_inquiry.entity.full_name}`,value:t.id,selfitem:t}))):this.loadingSales=!1},async getSpeciesListOptions(){const e=await this.getSpeciesList();e.status===200?this.speciesOptions=e.data.map(t=>({text:t.name,value:t.id})):this.speciesOptions=[]},async getAreaListOptions(){const e=await this.getAreaList();e.status===200?this.areaOptions=e.data.map(t=>({text:t.name,value:t.id})):this.areaOptions=[]},async getPhVsetOptions(){const e=await this.getPhVset();e.status===200?this.phOptions=e.data.map(t=>({text:t.full_name,value:t.id})):this.phOptions=[]}}}),Q={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},X={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},Y={class:"flex justify-end"};function Z(e,t,o,a,n,f){const r=l("VaInput"),u=l("VaSelect"),g=l("VaDateInput"),A=l("VaTimeInput"),v=l("VaCounter"),w=l("VaTextarea"),h=l("VaAlert"),m=l("VaButton"),V=l("VaForm"),D=l("VaInnerLoading");return c(),y(D,{loading:e.loadingSales},{default:d(()=>[i(V,{ref:"iformRef"},{default:d(()=>[i(h,{color:"info",outline:"",class:"mb-6"},{default:d(()=>[t[13]||(t[13]=p("h3",{class:"font-bold text-lg mb-2"},"Add Game Activities",-1)),p("div",Q,[i(r,{modelValue:e.form.lat,"onUpdate:modelValue":t[0]||(t[0]=s=>e.form.lat=s),rules:[s=>s||"Latitude is required"],type:"number",placeholder:"Enter Latitude",label:"Latitude"},null,8,["modelValue","rules"]),i(r,{modelValue:e.form.lng,"onUpdate:modelValue":t[1]||(t[1]=s=>e.form.lng=s),rules:[s=>s||"Longitude is required"],type:"number",placeholder:"Enter Longitude",label:"Longitude"},null,8,["modelValue","rules"]),i(u,{modelValue:e.form.area_id,"onUpdate:modelValue":t[2]||(t[2]=s=>e.form.area_id=s),rules:[s=>s||"Area is required"],options:e.areaOptions,placeholder:"Select Area",label:"Area"},null,8,["modelValue","rules","options"]),i(g,{modelValue:e.form.date,"onUpdate:modelValue":t[3]||(t[3]=s=>e.form.date=s),rules:[s=>s||"Date is required"],placeholder:"wounded/killed date",label:"Date"},null,8,["modelValue","rules"]),i(A,{modelValue:e.form.time,"onUpdate:modelValue":t[4]||(t[4]=s=>e.form.time=s),rules:[s=>s||"Time is required"],clearable:"",label:"Time",placeholder:"Wounded/Killed Time"},null,8,["modelValue","rules"]),i(r,{modelValue:e.form.weapon_used,"onUpdate:modelValue":t[5]||(t[5]=s=>e.form.weapon_used=s),rules:[s=>s||"Weapon is required"],type:"number",placeholder:"weapon used",label:"Weapon Used"},null,8,["modelValue","rules"]),i(u,{modelValue:e.form.spacies_gender,"onUpdate:modelValue":t[6]||(t[6]=s=>e.form.spacies_gender=s),rules:[s=>s||"Gender is required"],options:e.genderOptions,placeholder:"Select Gender",label:"Gender"},null,8,["modelValue","rules","options"]),i(u,{modelValue:e.form.status,"onUpdate:modelValue":t[7]||(t[7]=s=>e.form.status=s),rules:[s=>s||"Status is required"],options:e.statusOptions,placeholder:"Select Status",label:"Status"},null,8,["modelValue","rules","options"])]),p("div",X,[i(u,{modelValue:e.form.species,"onUpdate:modelValue":t[8]||(t[8]=s=>e.form.species=s),label:"Species",options:e.speciesOptions,placeholder:"Select Species",required:""},null,8,["modelValue","options"]),i(v,{modelValue:e.form.quantity,"onUpdate:modelValue":t[9]||(t[9]=s=>e.form.quantity=s),label:"Quantity","manual-input":"",min:1,max:1},null,8,["modelValue"]),i(w,{modelValue:e.form.description,"onUpdate:modelValue":t[10]||(t[10]=s=>e.form.description=s),"max-length":"125",label:"Short text about something",counter:"","required-mark":"",rules:[s=>s&&s.length>0||"Required",s=>s&&s.length<125]},null,8,["modelValue","rules"])])]),_:1}),p("div",Y,[i(m,{loading:e.sendingData,class:"p-2 m-2",disabled:!e.isValidForm||e.sendingData,icon:"save",onClick:t[11]||(t[11]=s=>e.validateForm()&&e.onSubmit("IN_PROGRESS"))},{default:d(()=>t[14]||(t[14]=[_("Save")])),_:1},8,["loading","disabled"]),i(m,{loading:e.sendingData,class:"p-2 m-2",disabled:!e.isValidForm||e.sendingData,icon:"save",color:"warning",onClick:t[12]||(t[12]=s=>e.validateForm()&&e.saveAndClose())},{default:d(()=>t[15]||(t[15]=[_(" Save and close the game activities")])),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1},8,["loading"])}const x=L(J,[["render",Z],["__scopeId","data-v-a5fc8486"]]),ee=$({components:{ActivitesForm:x},props:{item:{type:Object,required:!0}},setup(){return{formatDateTime:F}},data(){return{showAddActiviteForm:!1}},computed:{...T(C,["activities","loadingActivities"])},mounted(){this.getActiviteActivites(this.item.id)},methods:{...S(C,["getActiviteActivites"]),goBack(){this.showAddActiviteForm=!1,this.getActiviteActivites(this.item.id)}}}),te={class:"p-4"},se={class:"permit-info"},ae={class:"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2"},ie={class:"flex flex-col md:flex-row gap-2"},oe={class:"flex flex-col md:flex-row gap-2"};function ne(e,t,o,a,n,f){const r=l("VaCardTitle"),u=l("VaButton"),g=l("ActivitesForm"),A=l("VaDataTable"),v=l("VaCardContent"),w=l("VaCard");return c(),G("div",te,[p("div",se,[i(r,{class:"p-0, m-0"},{default:d(()=>{var h;return[t[1]||(t[1]=p("b",null,"Permit No:",-1)),_(" "+O(((h=e.item)==null?void 0:h.entity_contract_permit.permit_number)??"N/A"),1)]}),_:1}),i(r,null,{default:d(()=>{var h;return[t[2]||(t[2]=p("b",null,"Client:",-1)),_(" "+O(((h=e.item)==null?void 0:h.client.full_name)??"N/A"),1)]}),_:1}),i(r,null,{default:d(()=>t[3]||(t[3]=[p("b",null,"Company:",-1),_(" BUSHMAN HUNTING SAFARI (T) LTD")])),_:1}),i(r,null,{default:d(()=>{var h;return[t[4]||(t[4]=p("b",null,"PH NAME:",-1)),_(" "+O(Array.isArray((h=e.item)==null?void 0:h.ph)?e.item.ph.map(m=>m.ph.full_name).join(", "):"N/A"),1)]}),_:1})]),i(w,{tag:"b"},{default:d(()=>[p("div",ae,[p("div",ie,[e.showAddActiviteForm?(c(),y(u,{key:0,size:"small",color:"primary",onClick:e.goBack},{default:d(()=>t[5]||(t[5]=[_("Cancel")])),_:1},8,["onClick"])):(c(),y(r,{key:1},{default:d(()=>t[6]||(t[6]=[_("Killed Species")])),_:1}))]),p("div",oe,[!e.showAddActiviteForm&&e.item.status!=="CLOSED"?(c(),y(u,{key:0,size:"small",color:"primary",onClick:t[0]||(t[0]=h=>e.showAddActiviteForm=!0)},{default:d(()=>t[7]||(t[7]=[_("Add Activity")])),_:1})):I("",!0)])]),i(v,null,{default:d(()=>[e.showAddActiviteForm?(c(),y(g,{key:0,"activity-data":e.item},null,8,["activity-data"])):(c(),y(A,{key:1,items:e.activities,loading:e.loadingActivities},null,8,["items","loading"]))]),_:1})]),_:1})])}const le=L(ee,[["render",ne]]),re=$({setup(){const{init:e}=E(),t=q(null),{isValid:o,validate:a,resetValidation:n,reset:f}=B(t),r=q(!0),u=v=>{console.log(v),(v.value=="prior"||v.value=="after")&&(r.value=!1)},g=P({entity_contract_permit:null,start_date:null,end_date:null,description:"",professional_hunters_ids:[],lat:null,lng:null,species:null,quantity:1,area_id:null,time:null,date:null,weapon_used:null,spacies_gender:null,status:null});return{iformRef:t,isValidForm:o,validateForm:a,resetValidationForm:n,resetForm:f,form:g,init:e,onInputChange:u,isNotUpBookingSelected:r,deleteChip:v=>{g.professional_hunters_ids=g.professional_hunters_ids.filter(w=>w!==v)}}},data(){return{packages:[],installments:[],regulatoryPackages:[],contractPermitOptions:[],loadingSales:!1,salesItem:null,games:[],client_id:null,areaOptions:[],speciesOptions:[],columns:[{key:"species_id"},{key:"quantity"},{key:"time"},{key:"date"},{key:"weapon_used",label:"weapon used"},{key:"spacies_gender"},{key:"status"},{key:"actions",width:80}],statusOptions:[{text:"WOUNDED",value:"WOUNDED"},{text:"KILLED",value:"KILLED"}],isAddGameActivities:!1,genderOptions:[{text:"M",value:"M"},{text:"F",value:"F"}],phOptions:[],sendingData:!1}},computed:{},mounted(){this.getPermitOptions(),this.getSpeciesListOptions(),this.getAreaListOptions(),this.getPhVsetOptions()},methods:{...S(C,["initiateGameActivity"]),...S(R,["getContractPermits"]),...S(j,["getallSalesConfirmation"]),...S(M,["getSpeciesList","getAreaList"]),...S(H,["getPhVset"]),onValueChange(e){e&&(this.client_id=e.selfitem.entity_contract.sales_confirmation_proposal.sales_inquiry.entity.id)},addGameActivities(){this.isAddGameActivities=!this.isAddGameActivities,this.isAddGameActivities==!1&&(this.games=[])},async onSubmit(e){var a;this.sendingData=!0;const t=this.form.professional_hunters_ids.map(n=>n.value),o={entity_contract_permit_id:(a=this.form.entity_contract_permit)==null?void 0:a.value,client_id:this.client_id,start_date:b(this.form.start_date,"yyyy-MM-dd"),end_date:b(this.form.end_date,"yyyy-MM-dd"),professional_hunters_ids:t,game_state:e};console.log(o);try{(await this.initiateGameActivity(o)).status===201&&(this.init({message:"Contract created successfully",color:"success"}),this.sendingData=!1)}catch(n){this.sendingData=!1;const f=U(n.response);this.init({message:`
`+f.map((r,u)=>`${u+1}. ${r}`).join(`
`),color:"danger"})}},createGameListObject(){var t,o;if(!this.form.species||!this.form.area_id||!this.form.lat||!this.form.lng||!this.form.time||!this.form.date||!this.form.weapon_used||!this.form.spacies_gender||!this.form.status){this.init({message:"All fields are required",color:"warning"});return}const e={coordinates_type:"Point",coordinates:[{lat:this.form.lat,lng:this.form.lng}],species_id:(t=this.form.species)==null?void 0:t.value,quantity:this.form.quantity,area_id:(o=this.form.area_id)==null?void 0:o.value,time:b(this.form.time,"HH:mm"),date:b(this.form.date,"yyyy-MM-dd"),weapon_used:this.form.weapon_used,description:this.form.description,spacies_gender:this.form.spacies_gender.value,status:this.form.status.value};this.games.push(e)},deleteFromStorage(e){this.games.splice(e,1)},async getPermitOptions(){this.loadingSales=!0;const e=await this.getContractPermits();e.status===200?(this.loadingSales=!1,this.contractPermitOptions=e.data.map(t=>({text:`PN0: ${t.permit_number} - C: ${t.entity_contract.sales_confirmation_proposal.sales_inquiry.entity.full_name}`,value:t.id,selfitem:t}))):this.loadingSales=!1},async getSpeciesListOptions(){const e=await this.getSpeciesList();e.status===200?this.speciesOptions=e.data.map(t=>({text:t.name,value:t.id})):this.speciesOptions=[]},async getAreaListOptions(){const e=await this.getAreaList();e.status===200?this.areaOptions=e.data.map(t=>({text:t.name,value:t.id})):this.areaOptions=[]},async getPhVsetOptions(){const e=await this.getPhVset();e.status===200?this.phOptions=e.data.map(t=>({text:t.full_name,value:t.id})):this.phOptions=[]}}}),de={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},me={class:"flex justify-end"};function ue(e,t,o,a,n,f){const r=l("VaSelect"),u=l("VaDateInput"),g=l("VaChip"),A=l("VaDivider"),v=l("VaButton"),w=l("VaForm"),h=l("VaInnerLoading");return c(),y(h,{loading:e.loadingSales},{default:d(()=>[i(w,{ref:"iformRef"},{default:d(()=>[t[6]||(t[6]=p("h3",{class:"font-bold text-lg mb-2"},"Hunting Game Information",-1)),p("div",de,[i(r,{modelValue:e.form.entity_contract_permit,"onUpdate:modelValue":[t[0]||(t[0]=m=>e.form.entity_contract_permit=m),e.onValueChange],options:e.contractPermitOptions,rules:[m=>m||"Sales is required"],placeholder:"Select confirmation ",label:"Choose sales confirmation"},null,8,["modelValue","options","rules","onUpdate:modelValue"]),i(u,{modelValue:e.form.start_date,"onUpdate:modelValue":t[1]||(t[1]=m=>e.form.start_date=m),placeholder:"Choose start date",rules:[m=>m||"Start date is required"],label:"Start Date"},null,8,["modelValue","rules"]),i(u,{modelValue:e.form.end_date,"onUpdate:modelValue":t[2]||(t[2]=m=>e.form.end_date=m),placeholder:"Choose End date",rules:[m=>m||"Arrival Date is required"],label:"End date"},null,8,["modelValue","rules"]),i(r,{modelValue:e.form.professional_hunters_ids,"onUpdate:modelValue":t[3]||(t[3]=m=>e.form.professional_hunters_ids=m),label:"PH",options:e.phOptions,multiple:"","max-selections":"2",rules:[m=>m||"PH is required"],placeholder:"Select PH"},{content:d(({value:m})=>[(c(!0),G(N,null,W(m,V=>(c(),y(g,{key:V,size:"small",color:"info",class:"mr-1 my-1",closeable:"","onUpdate:modelValue":D=>e.deleteChip(V)},{default:d(()=>[_(O(V.text),1)]),_:2},1032,["onUpdate:modelValue"]))),128))]),_:1},8,["modelValue","options","rules"])]),i(A),p("div",me,[i(v,{loading:e.sendingData,disabled:!e.isValidForm,icon:"save",onClick:t[4]||(t[4]=m=>e.validateForm()&&e.onSubmit("IN_PROGRESS"))},{default:d(()=>t[5]||(t[5]=[_("Save")])),_:1},8,["loading","disabled"])])]),_:1},512)]),_:1},8,["loading"])}const pe=L(re,[["render",ue],["__scopeId","data-v-01f1c112"]]),ce=$({components:{GameDetails:le,GameForm:pe},data(){return{columns:[{key:"permit_number",sortable:!0},{key:"client_name",sortable:!0},{key:"start_date",sortable:!0},{key:"end_date",sortable:!0},{key:"status",label:"status"},{key:"actions",label:"Actions"}],downloadPdf:K,item:null,showDetails:!1,showAddgameForm:!1}},computed:{...T(C,["games","loadinggames"])},mounted(){this.getRegisteredGames()},methods:{...S(C,["getRegisteredGames","getActiviteActivites"]),viewgame(e){this.item=e,this.showDetails=!0,this.showAddgameForm=!1,this.getActiviteActivites(e.id)},getStatusColor(e){switch(e){case"NOT_STARTED":return"default";case"INITIATED":return"warning";case"CLOSED":return"success";case"IN_PROGRESS":return"info";default:return"default"}},getStatsText(e){switch(e){case"NOT_STARTED":return"Not Started";case"INITIATED":return"Initiated";case"CLOSED":return"Finished";case"IN_PROGRESS":return"In Progress";default:return"default"}},gotBack(){this.getRegisteredGames(),this.showDetails=!1,this.showAddgameForm=!1},toggleAddSalesInquiriesForm(){this.showDetails=!1,this.showAddgameForm=!this.showAddgameForm}}}),fe={class:"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2"},ge={class:"flex flex-col md:flex-row gap-2 justify-start"};function he(e,t,o,a,n,f){const r=l("VaButton"),u=l("VaButtonGroup"),g=l("VaChip"),A=l("VaDataTable"),v=l("GameForm"),w=l("GameDetails"),h=l("VaCardContent"),m=l("VaCard");return c(),y(m,null,{default:d(()=>[i(h,null,{default:d(()=>[p("div",fe,[p("div",ge,[e.showDetails||e.showAddgameForm?(c(),y(r,{key:0,class:"px-2 py-2",icon:"arrow_back",size:"small",onClick:t[0]||(t[0]=V=>e.gotBack())},{default:d(()=>t[2]||(t[2]=[_(" Go Back ")])),_:1})):I("",!0)]),!e.showAddgameForm&&!e.showDetails?(c(),y(u,{key:0},{default:d(()=>[i(r,{class:"px-2 py-2",color:"primary",label:"Add New Quota",round:"",present:"secondary","border-color":"primary",icon:"add",size:"small",onClick:t[1]||(t[1]=V=>e.toggleAddSalesInquiriesForm())},{default:d(()=>t[3]||(t[3]=[_("Create game")])),_:1})]),_:1})):I("",!0)]),e.showDetails?(c(),y(w,{key:1,item:e.item},null,8,["item"])):(c(),G(N,{key:0},[e.showAddgameForm?(c(),y(v,{key:1})):(c(),y(A,{key:0,items:e.games,columns:e.columns,loading:e.loadinggames},{"cell(status)":d(({value:V})=>[i(g,{color:e.getStatusColor(V),size:"small"},{default:d(()=>[_(O(e.getStatsText(V)),1)]),_:2},1032,["color"])]),"cell(actions)":d(({rowData:V})=>[i(r,{preset:"plain",icon:"download",onClick:D=>e.downloadPdf(V.pdf)},null,8,["onClick"]),i(r,{preset:"plain",icon:"visibility",onClick:D=>e.viewgame(V.selfitem)},null,8,["onClick"])]),_:1},8,["items","columns","loading"]))],64))]),_:1})]),_:1})}const De=L(ce,[["render",he]]);export{De as default};
//# sourceMappingURL=Game-QOZmVkik.js.map
