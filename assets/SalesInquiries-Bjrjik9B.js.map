{"version":3,"file":"SalesInquiries-Bjrjik9B.js","sources":["../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/SalesInquiries.vue","../../src/pages/client/dashboard/SalesInquiries.vue"],"sourcesContent":["<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(name)=\"{ rowData }\">\n      <span class=\"font-semibold text-gray-900\">{{ (rowData as any).name }}</span>\n    </template>\n\n    <template #cell(area)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaIcon name=\"location_on\" size=\"small\" color=\"primary\" />\n        <span>{{ (rowData as any).area }}</span>\n      </div>\n    </template>\n\n    <template #cell(start_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).start_date) }}</span>\n    </template>\n\n    <template #cell(end_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).end_date) }}</span>\n    </template>\n\n    <template #cell(season)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ (rowData as any).season }}</span>\n    </template>\n\n    <template #cell(species_count)=\"{ rowData }\">\n      <VaBadge :text=\"String((rowData as any).species_count)\" color=\"success\" />\n    </template>\n\n    <template #cell(status)=\"{ rowData }\">\n      <VaBadge\n        :text=\"(rowData as any).status\"\n        :color=\"\n          (rowData as any).status === 'ACTIVE' ? 'success' : (rowData as any).status === 'PENDING' ? 'warning' : 'info'\n        \"\n      />\n    </template>\n\n    <template #cell(actions)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaButton preset=\"plain\" icon=\"visibility\" size=\"small\" @click=\"btnViewClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"edit\" size=\"small\" color=\"warning\" @click=\"btnEditClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"delete\" size=\"small\" color=\"danger\" @click=\"showDeleteConfirm(rowData)\" />\n      </div>\n    </template>\n\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"9\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" title=\"Delete Inquiry\" size=\"small\" @ok=\"confirmDelete\" @cancel=\"cancelDelete\">\n    <p>\n      Are you sure you want to delete the inquiry for \"<strong>{{ deleteItemName }}</strong\n      >\"?\n    </p>\n    <p class=\"text-sm text-gray-500 mt-2\">This action cannot be undone.</p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"cancelDelete\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDelete\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed', 'edit-btn-pressed', 'delete-btn-pressed'],\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n  data() {\n    return {\n      loading: ref(false),\n      deleting: false,\n      showDeleteModal: false,\n      deleteItemId: null as number | null,\n      deleteItemName: '',\n      columns: [\n        { key: 'name', label: 'Client Name', sortable: true },\n        { key: 'area', label: 'Area', sortable: true },\n        { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n        { key: 'start_date', label: 'Start Date', sortable: true },\n        { key: 'end_date', label: 'End Date', sortable: true },\n        { key: 'season', label: 'Season', sortable: true },\n        { key: 'species_count', label: 'Species', width: 80 },\n        { key: 'status', label: 'Status', width: 100 },\n        { key: 'actions', label: 'Actions', width: 150 },\n      ] as any,\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries', 'deleteSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    formatDate(dateString: string): string {\n      if (!dateString || dateString === 'N/A') return 'N/A'\n      const date = new Date(dateString)\n      if (isNaN(date.getTime())) return 'N/A'\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      })\n    },\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            // Get species count from inquiry_species or species array\n            const speciesCount = item?.inquiry_species?.length || item?.species?.length || 0\n\n            // Get reference price list data\n            const refPriceList = item?.reference_price_list\n            const priceListData = item?.price_lists?.[0]?.price_list?.price_list_type\n\n            // Get price and currency\n            const amount = refPriceList?.amount || priceListData?.amount || '0.00'\n            const currencySymbol = priceListData?.currency?.symbol || '$'\n\n            // Get area name\n            const areaName =\n              refPriceList?.area_name || item?.inquiry_areas?.[0]?.area_name || item?.areas?.[0]?.area?.name || 'N/A'\n\n            // Get hunting type\n            const huntingType = refPriceList?.hunting_type_name || priceListData?.hunting_type?.name || 'N/A'\n\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              name: item?.entity?.full_name || 'N/A',\n              area: areaName,\n              hunting_type: huntingType,\n              price: `${currencySymbol}${parseFloat(amount).toFixed(2)}`,\n              start_date: item?.formatted_preferences?.start_date || 'N/A',\n              end_date: item?.formatted_preferences?.end_date || 'N/A',\n              season: item?.season?.name || 'N/A',\n              species_count: speciesCount,\n              status: item?.status || 'PENDING',\n              country: item?.entity?.country?.name || item?.entity?.country_name || 'N/A',\n              nationality: item?.entity?.nationality?.name || item?.entity?.nationality_name || 'N/A',\n              contacts: item?.entity?.contacts || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              reference_price_list: refPriceList,\n              inquiry_species: item?.inquiry_species || [],\n              inquiry_areas: item?.inquiry_areas || [],\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n\n    downloadPdf(rowData: any) {\n      const inquiryId = rowData.id\n      const pdfUrl = `${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf/${inquiryId}`\n      window.open(pdfUrl, '_blank')\n    },\n\n    async downloadInquiryPdf(rowData: any) {\n      const inquiryId = rowData.id\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${rowData.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n    btnEditClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('edit-btn-pressed', rowData)\n    },\n\n    showDeleteConfirm(rowData: any) {\n      this.deleteItemId = rowData.id\n      this.deleteItemName = rowData.name\n      this.showDeleteModal = true\n    },\n\n    cancelDelete() {\n      this.showDeleteModal = false\n      this.deleteItemId = null\n      this.deleteItemName = ''\n    },\n\n    async confirmDelete() {\n      if (!this.deleteItemId) return\n\n      this.deleting = true\n      try {\n        const response: any = await this.deleteSalesInquiry(this.deleteItemId)\n        if (response.status === 200 || response.status === 204) {\n          this.notify({\n            message: 'Inquiry deleted successfully',\n            color: 'success',\n          })\n          // Refresh the list\n          this.getSalesInquiryList()\n        }\n      } catch (error: any) {\n        console.error('Error deleting inquiry:', error)\n        this.notify({\n          message: error.response?.data?.message || 'Failed to delete inquiry',\n          color: 'danger',\n        })\n      } finally {\n        this.deleting = false\n        this.showDeleteModal = false\n        this.deleteItemId = null\n        this.deleteItemName = ''\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(name)=\"{ rowData }\">\n      <span class=\"font-semibold text-gray-900\">{{ (rowData as any).name }}</span>\n    </template>\n\n    <template #cell(area)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaIcon name=\"location_on\" size=\"small\" color=\"primary\" />\n        <span>{{ (rowData as any).area }}</span>\n      </div>\n    </template>\n\n    <template #cell(start_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).start_date) }}</span>\n    </template>\n\n    <template #cell(end_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).end_date) }}</span>\n    </template>\n\n    <template #cell(season)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ (rowData as any).season }}</span>\n    </template>\n\n    <template #cell(species_count)=\"{ rowData }\">\n      <VaBadge :text=\"String((rowData as any).species_count)\" color=\"success\" />\n    </template>\n\n    <template #cell(status)=\"{ rowData }\">\n      <VaBadge\n        :text=\"(rowData as any).status\"\n        :color=\"\n          (rowData as any).status === 'ACTIVE' ? 'success' : (rowData as any).status === 'PENDING' ? 'warning' : 'info'\n        \"\n      />\n    </template>\n\n    <template #cell(actions)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaButton preset=\"plain\" icon=\"visibility\" size=\"small\" @click=\"btnViewClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"edit\" size=\"small\" color=\"warning\" @click=\"btnEditClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"delete\" size=\"small\" color=\"danger\" @click=\"showDeleteConfirm(rowData)\" />\n      </div>\n    </template>\n\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"9\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" title=\"Delete Inquiry\" size=\"small\" @ok=\"confirmDelete\" @cancel=\"cancelDelete\">\n    <p>\n      Are you sure you want to delete the inquiry for \"<strong>{{ deleteItemName }}</strong\n      >\"?\n    </p>\n    <p class=\"text-sm text-gray-500 mt-2\">This action cannot be undone.</p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"cancelDelete\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDelete\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed', 'edit-btn-pressed', 'delete-btn-pressed'],\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n  data() {\n    return {\n      loading: ref(false),\n      deleting: false,\n      showDeleteModal: false,\n      deleteItemId: null as number | null,\n      deleteItemName: '',\n      columns: [\n        { key: 'name', label: 'Client Name', sortable: true },\n        { key: 'area', label: 'Area', sortable: true },\n        { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n        { key: 'start_date', label: 'Start Date', sortable: true },\n        { key: 'end_date', label: 'End Date', sortable: true },\n        { key: 'season', label: 'Season', sortable: true },\n        { key: 'species_count', label: 'Species', width: 80 },\n        { key: 'status', label: 'Status', width: 100 },\n        { key: 'actions', label: 'Actions', width: 150 },\n      ] as any,\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries', 'deleteSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    formatDate(dateString: string): string {\n      if (!dateString || dateString === 'N/A') return 'N/A'\n      const date = new Date(dateString)\n      if (isNaN(date.getTime())) return 'N/A'\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      })\n    },\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            // Get species count from inquiry_species or species array\n            const speciesCount = item?.inquiry_species?.length || item?.species?.length || 0\n\n            // Get reference price list data\n            const refPriceList = item?.reference_price_list\n            const priceListData = item?.price_lists?.[0]?.price_list?.price_list_type\n\n            // Get price and currency\n            const amount = refPriceList?.amount || priceListData?.amount || '0.00'\n            const currencySymbol = priceListData?.currency?.symbol || '$'\n\n            // Get area name\n            const areaName =\n              refPriceList?.area_name || item?.inquiry_areas?.[0]?.area_name || item?.areas?.[0]?.area?.name || 'N/A'\n\n            // Get hunting type\n            const huntingType = refPriceList?.hunting_type_name || priceListData?.hunting_type?.name || 'N/A'\n\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              name: item?.entity?.full_name || 'N/A',\n              area: areaName,\n              hunting_type: huntingType,\n              price: `${currencySymbol}${parseFloat(amount).toFixed(2)}`,\n              start_date: item?.formatted_preferences?.start_date || 'N/A',\n              end_date: item?.formatted_preferences?.end_date || 'N/A',\n              season: item?.season?.name || 'N/A',\n              species_count: speciesCount,\n              status: item?.status || 'PENDING',\n              country: item?.entity?.country?.name || item?.entity?.country_name || 'N/A',\n              nationality: item?.entity?.nationality?.name || item?.entity?.nationality_name || 'N/A',\n              contacts: item?.entity?.contacts || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              reference_price_list: refPriceList,\n              inquiry_species: item?.inquiry_species || [],\n              inquiry_areas: item?.inquiry_areas || [],\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n\n    downloadPdf(rowData: any) {\n      const inquiryId = rowData.id\n      const pdfUrl = `${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf/${inquiryId}`\n      window.open(pdfUrl, '_blank')\n    },\n\n    async downloadInquiryPdf(rowData: any) {\n      const inquiryId = rowData.id\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${rowData.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n    btnEditClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('edit-btn-pressed', rowData)\n    },\n\n    showDeleteConfirm(rowData: any) {\n      this.deleteItemId = rowData.id\n      this.deleteItemName = rowData.name\n      this.showDeleteModal = true\n    },\n\n    cancelDelete() {\n      this.showDeleteModal = false\n      this.deleteItemId = null\n      this.deleteItemName = ''\n    },\n\n    async confirmDelete() {\n      if (!this.deleteItemId) return\n\n      this.deleting = true\n      try {\n        const response: any = await this.deleteSalesInquiry(this.deleteItemId)\n        if (response.status === 200 || response.status === 204) {\n          this.notify({\n            message: 'Inquiry deleted successfully',\n            color: 'success',\n          })\n          // Refresh the list\n          this.getSalesInquiryList()\n        }\n      } catch (error: any) {\n        console.error('Error deleting inquiry:', error)\n        this.notify({\n          message: error.response?.data?.message || 'Failed to delete inquiry',\n          color: 'danger',\n        })\n      } finally {\n        this.deleting = false\n        this.showDeleteModal = false\n        this.deleteItemId = null\n        this.deleteItemName = ''\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"sales-inquiry-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ item?.code }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\" size=\"large\">\n              <VaIcon :name=\"item?.inquiry_type === 'standard' ? 'inventory_2' : 'tune'\" class=\"mr-1\" />\n              {{ item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package' }}\n            </VaChip>\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ item?.season?.name }}\n            </VaChip>\n          </div>\n          <p class=\"text-secondary mb-3\">\n            <VaIcon name=\"event\" size=\"small\" />\n            Created: {{ formatDate(item?.create_date) }}\n          </p>\n          <VaButton color=\"secondary\" round icon=\"download\" @click=\"downloadInquiryPdf\"> Download PDF </VaButton>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"person\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_hunters || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunters</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"groups\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_companions || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Companions</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"visibility\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_observers || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Observers</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Client Information Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"person\" />\n        Client Information\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Full Name</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.full_name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Nationality</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Country</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.country?.name) }}</div>\n          </div>\n        </div>\n\n        <VaDivider class=\"my-4\" />\n\n        <div class=\"text-sm text-secondary mb-2\">Contacts</div>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div\n            v-for=\"(contact, index) in safeArray(item?.entity?.contacts)\"\n            :key=\"index\"\n            class=\"flex items-center gap-2 p-3 bg-gray-50 rounded-lg\"\n          >\n            <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" color=\"primary\" />\n            <span class=\"font-medium\">{{ contact.contact }}</span>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Hunting Preferences Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"event\" />\n        Hunting Preferences\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Preferred Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Start Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">End Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Duration</div>\n            <div class=\"text-lg font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Standard Package Details -->\n    <VaCard\n      v-if=\"item?.inquiry_type === 'standard' && item?.package_details\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"success\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"inventory_2\" />\n        Standard Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaCard stripe stripe-color=\"primary\" class=\"col-span-1 md:col-span-2\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n              <div class=\"text-3xl font-bold text-primary\">\n                {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n              </div>\n              <div class=\"text-sm text-secondary mt-1\">Package Amount</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"info\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"schedule\" size=\"large\" color=\"info\" class=\"mb-2\" />\n              <div class=\"text-2xl font-bold\">{{ item?.package_details?.duration }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Days</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"warning\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"category\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n              <div class=\"text-lg font-bold\">{{ item?.package_details?.hunting_type_name }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Hunting Area</div>\n            <div class=\"text-lg font-semibold\">{{ item?.package_details?.area_name }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Package Period</div>\n            <div class=\"text-lg font-semibold\">\n              {{ formatDate(item?.package_details?.start_date) }} - {{ formatDate(item?.package_details?.end_date) }}\n            </div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Custom Package Details -->\n    <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"tune\" />\n        Custom Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <!-- Custom Areas -->\n        <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n          <div class=\"text-sm text-secondary mb-2\">Hunting Areas</div>\n          <div class=\"flex flex-wrap gap-2\">\n            <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\" size=\"large\">\n              <VaIcon name=\"location_on\" class=\"mr-1\" />\n              {{ area.area_name }}\n            </VaChip>\n          </div>\n        </div>\n\n        <!-- Custom Species -->\n        <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n          <div class=\"text-sm text-secondary mb-2\">Requested Species</div>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n            <VaCard v-for=\"(species, index) in item?.custom_details?.species\" :key=\"index\" color=\"#f0f9ff\">\n              <VaCardContent>\n                <div class=\"flex justify-between items-center\">\n                  <div class=\"font-semibold\">{{ species.species_name }}</div>\n                  <VaBadge color=\"success\">Qty: {{ species.quantity }}</VaBadge>\n                </div>\n              </VaCardContent>\n            </VaCard>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Species Section -->\n    <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n        ({{ item?.species?.length || 0 }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n          <VaCard v-for=\"(s, index) in item?.species\" :key=\"index\" :color=\"s.quantity > 0 ? '#f0f9ff' : '#fef2f2'\">\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ s.species?.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ s.species?.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"s.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\"> Qty: {{ s.quantity }} </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Observers Section -->\n    <VaCard v-if=\"observers && observers.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"visibility\" />\n        Observers ({{ observers.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(observer, index) in observers\" :key=\"index\" color=\"#f0f9ff\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ observer.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Companions Section -->\n    <VaCard v-if=\"companions && companions.length > 0\" class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"groups\" />\n        Companions ({{ companions.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(companion, index) in companions\" :key=\"index\" color=\"#f0fdf4\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ companion.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras Section -->\n    <VaCard v-if=\"clientSafariExtras && clientSafariExtras.length > 0\" class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"add_circle\" />\n        Safari Extras ({{ clientSafariExtras.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Service</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Quantity</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(extra, index) in clientSafariExtras\" :key=\"index\">\n                <td class=\"font-semibold\">{{ extra.safari_extra?.name || extra.name }}</td>\n                <td class=\"text-secondary\">{{ extra.safari_extra?.description || extra.description || 'N/A' }}</td>\n                <td class=\"text-right\">\n                  <VaBadge color=\"primary\">{{ extra.quantity || 1 }}</VaBadge>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Accommodations Section -->\n    <VaCard v-if=\"accommodations && accommodations.length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"hotel\" />\n        Accommodations ({{ accommodations.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Accommodation</th>\n                <th class=\"text-left\">Type</th>\n                <th class=\"text-center\">Check-in</th>\n                <th class=\"text-center\">Check-out</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(acc, index) in accommodations\" :key=\"index\">\n                <td class=\"font-semibold\">{{ acc.name || acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-secondary\">{{ acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_in_date) }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_out_date) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Charters Section -->\n    <VaCard v-if=\"chartersPrices && chartersPrices.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"flight\" />\n        Charter Costs ({{ chartersPrices.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Charter</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(charter, index) in chartersPrices\" :key=\"index\">\n                <td class=\"font-semibold\">{{ charter.name || charter.charter?.name || 'Charter ' + (index + 1) }}</td>\n                <td class=\"text-secondary\">{{ charter.description || 'N/A' }}</td>\n                <td class=\"text-right font-bold\">{{ formatCurrency(charter.amount || charter.price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { mapState, mapActions } from 'pinia'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiryDetails',\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n  },\n\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, [\n      'getObservers',\n      'getCompanions',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    async downloadInquiryPdf() {\n      const inquiryId = this.item?.id\n      if (!inquiryId) return\n\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${this.item?.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n\n    safeArray(arr: any) {\n      return arr || []\n    },\n\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry-details {\n  padding: 1rem;\n}\n\n.text-secondary {\n  color: #6b7280;\n}\n</style>\n","<template>\n  <div class=\"sales-inquiry-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ item?.code }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\" size=\"large\">\n              <VaIcon :name=\"item?.inquiry_type === 'standard' ? 'inventory_2' : 'tune'\" class=\"mr-1\" />\n              {{ item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package' }}\n            </VaChip>\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ item?.season?.name }}\n            </VaChip>\n          </div>\n          <p class=\"text-secondary mb-3\">\n            <VaIcon name=\"event\" size=\"small\" />\n            Created: {{ formatDate(item?.create_date) }}\n          </p>\n          <VaButton color=\"secondary\" round icon=\"download\" @click=\"downloadInquiryPdf\"> Download PDF </VaButton>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"person\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_hunters || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunters</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"groups\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_companions || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Companions</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"visibility\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_observers || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Observers</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Client Information Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"person\" />\n        Client Information\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Full Name</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.full_name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Nationality</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Country</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.country?.name) }}</div>\n          </div>\n        </div>\n\n        <VaDivider class=\"my-4\" />\n\n        <div class=\"text-sm text-secondary mb-2\">Contacts</div>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div\n            v-for=\"(contact, index) in safeArray(item?.entity?.contacts)\"\n            :key=\"index\"\n            class=\"flex items-center gap-2 p-3 bg-gray-50 rounded-lg\"\n          >\n            <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" color=\"primary\" />\n            <span class=\"font-medium\">{{ contact.contact }}</span>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Hunting Preferences Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"event\" />\n        Hunting Preferences\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Preferred Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Start Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">End Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Duration</div>\n            <div class=\"text-lg font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Standard Package Details -->\n    <VaCard\n      v-if=\"item?.inquiry_type === 'standard' && item?.package_details\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"success\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"inventory_2\" />\n        Standard Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaCard stripe stripe-color=\"primary\" class=\"col-span-1 md:col-span-2\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n              <div class=\"text-3xl font-bold text-primary\">\n                {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n              </div>\n              <div class=\"text-sm text-secondary mt-1\">Package Amount</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"info\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"schedule\" size=\"large\" color=\"info\" class=\"mb-2\" />\n              <div class=\"text-2xl font-bold\">{{ item?.package_details?.duration }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Days</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"warning\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"category\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n              <div class=\"text-lg font-bold\">{{ item?.package_details?.hunting_type_name }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Hunting Area</div>\n            <div class=\"text-lg font-semibold\">{{ item?.package_details?.area_name }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Package Period</div>\n            <div class=\"text-lg font-semibold\">\n              {{ formatDate(item?.package_details?.start_date) }} - {{ formatDate(item?.package_details?.end_date) }}\n            </div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Custom Package Details -->\n    <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"tune\" />\n        Custom Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <!-- Custom Areas -->\n        <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n          <div class=\"text-sm text-secondary mb-2\">Hunting Areas</div>\n          <div class=\"flex flex-wrap gap-2\">\n            <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\" size=\"large\">\n              <VaIcon name=\"location_on\" class=\"mr-1\" />\n              {{ area.area_name }}\n            </VaChip>\n          </div>\n        </div>\n\n        <!-- Custom Species -->\n        <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n          <div class=\"text-sm text-secondary mb-2\">Requested Species</div>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n            <VaCard v-for=\"(species, index) in item?.custom_details?.species\" :key=\"index\" color=\"#f0f9ff\">\n              <VaCardContent>\n                <div class=\"flex justify-between items-center\">\n                  <div class=\"font-semibold\">{{ species.species_name }}</div>\n                  <VaBadge color=\"success\">Qty: {{ species.quantity }}</VaBadge>\n                </div>\n              </VaCardContent>\n            </VaCard>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Species Section -->\n    <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n        ({{ item?.species?.length || 0 }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n          <VaCard v-for=\"(s, index) in item?.species\" :key=\"index\" :color=\"s.quantity > 0 ? '#f0f9ff' : '#fef2f2'\">\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ s.species?.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ s.species?.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"s.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\"> Qty: {{ s.quantity }} </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Observers Section -->\n    <VaCard v-if=\"observers && observers.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"visibility\" />\n        Observers ({{ observers.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(observer, index) in observers\" :key=\"index\" color=\"#f0f9ff\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ observer.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Companions Section -->\n    <VaCard v-if=\"companions && companions.length > 0\" class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"groups\" />\n        Companions ({{ companions.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(companion, index) in companions\" :key=\"index\" color=\"#f0fdf4\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ companion.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras Section -->\n    <VaCard v-if=\"clientSafariExtras && clientSafariExtras.length > 0\" class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"add_circle\" />\n        Safari Extras ({{ clientSafariExtras.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Service</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Quantity</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(extra, index) in clientSafariExtras\" :key=\"index\">\n                <td class=\"font-semibold\">{{ extra.safari_extra?.name || extra.name }}</td>\n                <td class=\"text-secondary\">{{ extra.safari_extra?.description || extra.description || 'N/A' }}</td>\n                <td class=\"text-right\">\n                  <VaBadge color=\"primary\">{{ extra.quantity || 1 }}</VaBadge>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Accommodations Section -->\n    <VaCard v-if=\"accommodations && accommodations.length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"hotel\" />\n        Accommodations ({{ accommodations.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Accommodation</th>\n                <th class=\"text-left\">Type</th>\n                <th class=\"text-center\">Check-in</th>\n                <th class=\"text-center\">Check-out</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(acc, index) in accommodations\" :key=\"index\">\n                <td class=\"font-semibold\">{{ acc.name || acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-secondary\">{{ acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_in_date) }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_out_date) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Charters Section -->\n    <VaCard v-if=\"chartersPrices && chartersPrices.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"flight\" />\n        Charter Costs ({{ chartersPrices.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Charter</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(charter, index) in chartersPrices\" :key=\"index\">\n                <td class=\"font-semibold\">{{ charter.name || charter.charter?.name || 'Charter ' + (index + 1) }}</td>\n                <td class=\"text-secondary\">{{ charter.description || 'N/A' }}</td>\n                <td class=\"text-right font-bold\">{{ formatCurrency(charter.amount || charter.price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { mapState, mapActions } from 'pinia'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiryDetails',\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n  },\n\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, [\n      'getObservers',\n      'getCompanions',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    async downloadInquiryPdf() {\n      const inquiryId = this.item?.id\n      if (!inquiryId) return\n\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${this.item?.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n\n    safeArray(arr: any) {\n      return arr || []\n    },\n\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry-details {\n  padding: 1rem;\n}\n\n.text-secondary {\n  color: #6b7280;\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"handleGoBack\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <div v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\" class=\"flex gap-3\">\n          <VaButton class=\"px-6\" color=\"secondary\" round icon=\"download\" size=\"large\" @click=\"downloadAllInquiriesPdf()\"\n            >Download PDF</VaButton\n          >\n          <VaButton class=\"px-6\" color=\"primary\" round icon=\"add\" size=\"large\" @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </div>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n          @editBtnPressed=\"editInquiry\"\n        >\n        </Salesinquirieslist>\n        <!-- Form Wizard -->\n        <div v-else class=\"p-6 bg-white rounded-lg sales-inquiry-wizard\">\n          <!-- Stepper Header -->\n          <VaStepper\n            v-model=\"currentStep\"\n            :steps=\"wizardSteps\"\n            color=\"primary\"\n            class=\"mb-6\"\n            navigation-disabled\n            controls-hidden\n          >\n            <template #step-button-0>\n              <VaIcon name=\"person\" />\n            </template>\n            <template #step-button-1>\n              <VaIcon name=\"event\" />\n            </template>\n            <template #step-button-2>\n              <VaIcon name=\"inventory_2\" />\n            </template>\n            <template #step-button-3>\n              <VaIcon name=\"groups\" />\n            </template>\n            <template #step-button-4>\n              <VaIcon name=\"fact_check\" />\n            </template>\n          </VaStepper>\n\n          <VaForm ref=\"formRef\" class=\"space-y-6\">\n            <!-- Step 1: Customer Information -->\n            <div v-show=\"currentStep === 0\" class=\"animate-fade-in\">\n              <!-- Customer Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person_search\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Customer Selection</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>New or Existing Customer?</template>\n                  Select an existing customer to auto-fill their information, or choose \"New Customer\" to enter details\n                  manually.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaRadio v-model=\"customerType\" option=\"new\" label=\"New Customer\" name=\"customerType\" />\n                  <VaRadio v-model=\"customerType\" option=\"existing\" label=\"Existing Customer\" name=\"customerType\" />\n                </div>\n\n                <div v-if=\"customerType === 'existing'\" class=\"mt-4\">\n                  <VaSelect\n                    v-model=\"selectedExistingCustomer\"\n                    placeholder=\"Search and select an existing customer\"\n                    label=\"Select Customer\"\n                    :options=\"existingCustomersOptions\"\n                    :loading=\"loadingCustomers\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    @update:modelValue=\"populateFormFromCustomer\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.email || 'N/A' }}  {{ value.selfItem?.country || 'N/A' }}\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n                </div>\n              </div>\n\n              <!-- Basic Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.full_name\"\n                    type=\"text\"\n                    placeholder=\"Enter your Full name\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                    label=\"Full name\"\n                  />\n                  <VaSelect\n                    v-model=\"form.country\"\n                    placeholder=\"Select Country\"\n                    label=\"Country\"\n                    :rules=\"[(v: any) => v || 'Country is required']\"\n                    :options=\"countries\"\n                    searchable\n                    highlight-matched-text\n                  />\n                  <VaSelect\n                    v-model=\"form.nationality\"\n                    placeholder=\"Select Client nationality\"\n                    label=\"Client Nationality\"\n                    :rules=\"[(v: any) => v || 'Nationality is required']\"\n                    :options=\"nationality\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n              </div>\n\n              <!-- Contact Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    :rules=\"[validators.required, validators.email]\"\n                    label=\"Email\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567\"\n                    :rules=\"[validators.required, validators.tell]\"\n                    label=\"Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.address\"\n                    type=\"text\"\n                    :max-length=\"30\"\n                    placeholder=\"Enter your address\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                    label=\"Address\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Step 2: Dates & Season -->\n            <div v-show=\"currentStep === 1\" class=\"animate-fade-in\">\n              <!-- Season and Tentative Date Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Season and Dates</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Select Season First</template>\n                  Choose your preferred season. This will filter available packages and validate your date selections.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.season\"\n                    placeholder=\"Select Season\"\n                    label=\"Season\"\n                    :rules=\"[(v: any) => v || 'Season is required']\"\n                    :options=\"seasonsOptions\"\n                    searchable\n                    highlight-matched-text\n                    @update:modelValue=\"onSeasonSelected\"\n                  />\n                  <VaDateInput\n                    v-model=\"form.preferred_date\"\n                    label=\"Preferred Date\"\n                    placeholder=\"Select Preferred Date\"\n                    :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaDateInput\n                    v-model=\"form.start_date\"\n                    label=\"Start Date\"\n                    placeholder=\"Select Start Date\"\n                    :rules=\"[(v: any) => v || 'Start Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                  <VaDateInput\n                    v-model=\"form.end_date\"\n                    label=\"End Date\"\n                    placeholder=\"Select End Date\"\n                    :rules=\"[(v: any) => v || 'End Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                </div>\n\n                <!-- Booked Dates Warning -->\n                <VaAlert v-if=\"dateConflictWarning\" color=\"warning\" class=\"mt-4\" border=\"left\">\n                  <template #title>\n                    <VaIcon name=\"warning\" class=\"mr-1\" />\n                    Date Conflict Detected\n                  </template>\n                  {{ dateConflictWarning }}\n                </VaAlert>\n\n                <!-- Show booked dates for reference -->\n                <div v-if=\"bookedDatesForSelectedSeason.length > 0\" class=\"mt-4\">\n                  <div class=\"text-sm font-semibold text-gray-700 mb-2\">\n                    <VaIcon name=\"event_busy\" size=\"small\" class=\"mr-1\" />\n                    Already Booked Dates in This Season:\n                  </div>\n                  <div class=\"flex flex-wrap gap-2\">\n                    <VaChip\n                      v-for=\"(booking, index) in bookedDatesForSelectedSeason\"\n                      :key=\"index\"\n                      color=\"danger\"\n                      size=\"small\"\n                      outline\n                    >\n                      {{ formatBookingDateRange(booking) }} - {{ booking.client_name }}\n                    </VaChip>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- End of Step 2 -->\n\n            <!-- Step 3: Package & Species -->\n            <div v-show=\"currentStep === 2\" class=\"animate-fade-in\">\n              <!-- Package Reference Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"inventory_2\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Package Reference</h3>\n                </div>\n\n                <VaAlert v-if=\"filteredPackagesOptions.length === 0\" color=\"warning\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Packages Available</template>\n                  No packages found for the selected season. You can still add species manually below.\n                </VaAlert>\n\n                <VaAlert v-else color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Select a Package as Reference</template>\n                  Showing {{ filteredPackagesOptions.length }} package(s) available for the selected season. Select a\n                  package to auto-fill the form with its details.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.priceListId\"\n                    placeholder=\"Select a Package for Reference (Optional)\"\n                    label=\"Reference Package\"\n                    :options=\"filteredPackagesOptions\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    :disabled=\"filteredPackagesOptions.length === 0\"\n                    @update:modelValue=\"populateFormFromPackage\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                          {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n\n                  <!-- Display selected price list details -->\n                  <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardTitle class=\"text-sm font-semibold flex items-center gap-2\">\n                      <VaIcon name=\"info\" size=\"small\" color=\"info\" />\n                      Price List Details - {{ form.priceListId.selfItem?.sales_package?.name || 'N/A' }}\n                    </VaCardTitle>\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 text-sm\">\n                        <div>\n                          <span class=\"text-gray-600\">Area:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.sales_package?.area?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Hunting Type:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.price_list_type?.hunting_type?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Regulatory Package:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.sales_package?.regulatory_package?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Duration:</span>\n                          <span class=\"ml-1 font-medium\"\n                            >{{ form.priceListId.selfItem?.price_list_type?.duration || 0 }} days</span\n                          >\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Base Amount:</span>\n                          <span class=\"ml-1 font-medium\">\n                            {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                            }}{{ form.priceListId.selfItem?.price_list_type?.amount || 'N/A' }}\n                          </span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Status:</span>\n                          <VaBadge\n                            :text=\"form.priceListId.selfItem?.price_list_type?.is_active ? 'Active' : 'Inactive'\"\n                            :color=\"form.priceListId.selfItem?.price_list_type?.is_active ? 'success' : 'warning'\"\n                            size=\"small\"\n                          />\n                        </div>\n                      </div>\n\n                      <!-- Date Range -->\n                      <div\n                        v-if=\"form.priceListId.selfItem?.price_list_type?.price_list?.start_date\"\n                        class=\"mt-2 text-sm\"\n                      >\n                        <span class=\"text-gray-600\">Valid Period:</span>\n                        <span class=\"ml-1 font-medium\">\n                          {{\n                            formatDateRange(\n                              form.priceListId.selfItem.price_list_type.price_list.start_date,\n                              form.priceListId.selfItem.price_list_type.price_list.end_date,\n                            )\n                          }}\n                        </span>\n                      </div>\n\n                      <!-- Companion Hunter Costs -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.companion_hunter_costs &&\n                          form.priceListId.selfItem.companion_hunter_costs.length > 0\n                        \"\n                      >\n                        <div class=\"mt-2\">\n                          <span class=\"text-xs text-gray-600\">Companion Hunter:</span>\n                          <span class=\"ml-1 text-xs font-medium\">\n                            {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                            }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }} ({{\n                              form.priceListId.selfItem.companion_hunter_costs[0].days\n                            }}\n                            days)\n                          </span>\n                        </div>\n                      </template>\n\n                      <!-- Trophy Fees Table -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.trophy_fees && form.priceListId.selfItem.trophy_fees.length > 0\n                        \"\n                      >\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Trophy Fees:</div>\n                          <div class=\"va-table-responsive\">\n                            <table class=\"va-table va-table--hoverable w-full text-sm\">\n                              <thead>\n                                <tr>\n                                  <th class=\"text-left\">Species</th>\n                                  <th class=\"text-center\">Sequence</th>\n                                  <th class=\"text-right\">Price</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                <tr\n                                  v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                                  :key=\"`trophy-${fee.id}-${index}`\"\n                                >\n                                  <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                                  <td class=\"text-center\">\n                                    <VaBadge\n                                      :text=\"getSequenceLabel(fee.sequence_order)\"\n                                      color=\"primary\"\n                                      size=\"small\"\n                                    />\n                                  </td>\n                                  <td class=\"text-right font-semibold\">\n                                    {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                                    }}{{ fee.amount }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </template>\n\n                      <!-- Upgrade Fees -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.upgrade_fees && form.priceListId.selfItem.upgrade_fees.length > 0\n                        \"\n                      >\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Upgrade Fees:</div>\n                          <div class=\"flex flex-wrap gap-1\">\n                            <VaBadge\n                              v-for=\"fee in form.priceListId.selfItem.upgrade_fees\"\n                              :key=\"fee.id\"\n                              :text=\"`${fee.species_name} (${fee.currency_symbol || '$'}${fee.amount})`\"\n                              color=\"warning\"\n                              size=\"small\"\n                            />\n                          </div>\n                        </div>\n                      </template>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <!-- Species Selection Section -->\n                <h3 class=\"font-bold text-lg mb-2 mt-4\">\n                  <VaIcon name=\"pets\" size=\"small\" class=\"mr-1\" />\n                  Preferred Species\n                </h3>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <VaSelect\n                        v-model=\"form.species\"\n                        label=\"Species\"\n                        :options=\"speciesOptions\"\n                        placeholder=\"Select Species\"\n                        searchable\n                        highlight-matched-text\n                      />\n\n                      <VaCounter v-model=\"form.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div class=\"flex items-center gap-2\">\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <VaBadge v-if=\"s.fromPackage\" color=\"info\" size=\"small\" text=\"from Price List\" />\n                              </div>\n                              <div class=\"flex items-center gap-2\">\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"remove\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  :disabled=\"s.quantity <= 1\"\n                                  @click=\"decrementQuantity(index)\"\n                                />\n                                <span class=\"text-sm font-medium min-w-[30px] text-center\">{{ s.quantity }}</span>\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"add\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  @click=\"incrementQuantity(index)\"\n                                />\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"delete\"\n                                  color=\"danger\"\n                                  size=\"small\"\n                                  class=\"ml-2\"\n                                  @click=\"deleteFromStorage(index)\"\n                                />\n                              </div>\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above or select a reference package.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras from Reference Package -->\n                <template v-if=\"selectedSafariExtras.length > 0\">\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">\n                    Safari Extras ({{ selectedSafariExtras.length }} selected)\n                  </h3>\n                  <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                    <template #title>Customize Safari Extras</template>\n                    Remove any safari extras that your client does not require by clicking the delete button.\n                  </VaAlert>\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                        <div\n                          v-for=\"(extra, index) in selectedSafariExtras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg bg-white relative group\"\n                        >\n                          <div class=\"flex justify-between items-start\">\n                            <div class=\"flex-1\">\n                              <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                              <div class=\"text-xs text-gray-600 mt-1\">{{ extra.description }}</div>\n                              <div class=\"mt-2 flex items-center gap-2\">\n                                <VaBadge color=\"primary\" size=\"small\">\n                                  {{ extra.currency?.symbol || '$' }}{{ extra.amount }}\n                                </VaBadge>\n                                <span class=\"text-xs text-gray-500\">{{ formatChargesPer(extra.charges_per) }}</span>\n                              </div>\n                            </div>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"close\"\n                              class=\"ml-2\"\n                              title=\"Remove this safari extra\"\n                              @click=\"removeSafariExtra(index)\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Companion and Observer Rates from Reference Package -->\n                <template\n                  v-if=\"\n                    (form.priceListId?.selfItem?.companion_hunter_costs &&\n                      form.priceListId.selfItem.companion_hunter_costs.length > 0) ||\n                    (form.priceListId?.selfItem?.observer && form.priceListId.selfItem.observer.length > 0)\n                  \"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Additional Rates (from Price List)</h3>\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <template\n                          v-if=\"\n                            form.priceListId.selfItem.companion_hunter_costs &&\n                            form.priceListId.selfItem.companion_hunter_costs.length > 0\n                          \"\n                        >\n                          <div class=\"p-4 bg-blue-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"group\" size=\"small\" color=\"primary\" />\n                              <span class=\"font-semibold text-base\">Companion Hunter</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-primary\">\n                              ${{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per companion</div>\n                          </div>\n                        </template>\n                        <template\n                          v-if=\"form.priceListId.selfItem.observer && form.priceListId.selfItem.observer.length > 0\"\n                        >\n                          <div class=\"p-4 bg-green-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"visibility\" size=\"small\" color=\"success\" />\n                              <span class=\"font-semibold text-base\">Observer</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-success\">\n                              ${{ form.priceListId.selfItem.observer[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per observer</div>\n                          </div>\n                        </template>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </div>\n            </div>\n            <!-- End of Step 3 -->\n\n            <!-- Step 4: Hunt Party Details -->\n            <div v-show=\"currentStep === 3\" class=\"animate-fade-in\">\n              <!-- Participants and Hunting Days Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Party Details</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Party Composition</template>\n                  Specify the number of participants and hunting details for this safari.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <VaInput\n                    v-model=\"form.no_of_days\"\n                    label=\"Number of Hunting Days\"\n                    placeholder=\"Enter Number of Days\"\n                    type=\"number\"\n                    :rules=\"[(v: any) => v || 'Number of days is required']\"\n                    required\n                  />\n                  <VaSelect\n                    v-model=\"form.area\"\n                    placeholder=\"Select Area\"\n                    label=\"Hunting Area\"\n                    :rules=\"[(v: any) => v || 'Hunting area is required']\"\n                    :options=\"areasOptions\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n\n                <!-- Companion and Observer Cost Cards -->\n                <div v-if=\"form.priceListId?.selfItem\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <!-- Companion Hunter Cost -->\n                  <VaCard\n                    v-if=\"form.priceListId.selfItem.companion_hunter_costs?.length > 0\"\n                    outlined\n                    class=\"bg-blue-50\"\n                  >\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"group\" color=\"primary\" />\n                        <span class=\"font-semibold\">Companion Hunter Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-primary\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per companion hunter</div>\n                    </VaCardContent>\n                  </VaCard>\n\n                  <!-- Observer Cost -->\n                  <VaCard v-if=\"form.priceListId.selfItem.observer?.length > 0\" outlined class=\"bg-green-50\">\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"visibility\" color=\"success\" />\n                        <span class=\"font-semibold\">Observer Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-success\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.observer[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per observer</div>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <!-- No package selected message -->\n                <VaAlert v-if=\"!form.priceListId?.selfItem\" color=\"secondary\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Package Selected</template>\n                  Select a reference package in the previous step to see companion and observer rates.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaInput\n                    v-model=\"form.no_of_observers\"\n                    label=\"Number of Observers (Optional)\"\n                    placeholder=\"Enter Number of Observers\"\n                    type=\"number\"\n                  />\n                  <VaInput\n                    v-model=\"form.no_of_companions\"\n                    label=\"Number of Companions (Optional)\"\n                    placeholder=\"Enter Number of Companions\"\n                    type=\"number\"\n                  />\n                </div>\n\n                <!-- Calculated Cost Summary -->\n              </div>\n            </div>\n            <!-- End of Step 4 -->\n\n            <!-- Step 5: Review & Submit -->\n            <div v-show=\"currentStep === 4\" class=\"animate-fade-in\">\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"fact_check\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Review Your Enquiry</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Please Review</template>\n                  Review all the information below before submitting your enquiry.\n                </VaAlert>\n\n                <!-- Customer Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"person\" size=\"small\" color=\"primary\" />\n                    Customer Information\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Full Name:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.full_name || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Country:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.country?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Nationality:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.nationality?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Email:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.email || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Address:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.address || 'N/A' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Species Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"pets\" size=\"small\" color=\"primary\" />\n                    Selected Species ({{ speciesObjects.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div v-if=\"speciesObjects.length > 0\" class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"(s, index) in speciesObjects\"\n                        :key=\"index\"\n                        :text=\"`${s.name} (x${s.quantity})`\"\n                        color=\"primary\"\n                      />\n                    </div>\n                    <span v-else class=\"text-gray-500\">No species selected</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Hunt Details Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"groups\" size=\"small\" color=\"primary\" />\n                    Hunt Details\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Area:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.area?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Number of Days:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_days || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Observers:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_observers || 0 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Companions:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_companions || 0 }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Schedule Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"event\" size=\"small\" color=\"primary\" />\n                    Schedule\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Season:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.season?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Preferred Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.preferred_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Start Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.start_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">End Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.end_date) }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Package Reference if selected -->\n                <VaCard v-if=\"form.priceListId\" outlined class=\"mb-4 bg-blue-50\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"inventory_2\" size=\"small\" color=\"info\" />\n                    Reference Package\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <span class=\"font-medium\">{{ form.priceListId?.text || 'N/A' }}</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Summary -->\n                <VaCard v-if=\"selectedSafariExtras.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"hiking\" size=\"small\" color=\"primary\" />\n                    Safari Extras ({{ selectedSafariExtras.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"extra in selectedSafariExtras\"\n                        :key=\"extra.id\"\n                        :text=\"`${extra.name} - ${extra.currency?.symbol || '$'}${extra.amount}`\"\n                        color=\"success\"\n                      />\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 5 -->\n          </VaForm>\n\n          <VaDivider class=\"my-6\" />\n\n          <!-- Wizard Navigation Buttons -->\n          <div class=\"flex justify-between gap-3 p-4\">\n            <div>\n              <VaButton v-if=\"currentStep > 0\" preset=\"secondary\" icon=\"arrow_back\" @click=\"previousStep\">\n                Previous\n              </VaButton>\n            </div>\n            <div class=\"flex gap-3\">\n              <VaButton preset=\"secondary\" @click=\"handleGoBack\"> Cancel </VaButton>\n              <VaButton\n                v-if=\"currentStep < wizardSteps.length - 1\"\n                color=\"primary\"\n                icon-right=\"arrow_forward\"\n                :disabled=\"!canProceedToNextStep\"\n                :aria-disabled=\"!canProceedToNextStep\"\n                :class=\"{ 'opacity-60 pointer-events-none': !canProceedToNextStep }\"\n                @click=\"nextStep\"\n              >\n                Next\n              </VaButton>\n              <VaButton\n                v-else\n                :loading=\"saving\"\n                icon=\"save\"\n                color=\"success\"\n                :disabled=\"!isValidForm\"\n                @click=\"validateForm() && submit()\"\n              >\n                {{ isEditMode ? 'Update Enquiry' : 'Submit Enquiry' }}\n              </VaButton>\n            </div>\n          </div>\n        </div>\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n\n      // Season date range constraints\n      seasonMinDate: null as Date | null,\n      seasonMaxDate: null as Date | null,\n\n      // Edit mode\n      isEditMode: false,\n      editingInquiryId: null as number | null,\n\n      // Customer selection\n      customerType: 'new' as 'new' | 'existing',\n      selectedExistingCustomer: null as any,\n      existingCustomersOptions: [] as any,\n      loadingCustomers: false,\n\n      // Wizard steps\n      currentStep: 0,\n      wizardSteps: [\n        { label: 'Customer Info' },\n        { label: 'Dates & Season' },\n        { label: 'Package Selection' },\n        { label: 'Hunt Party' },\n        { label: 'Review' },\n      ],\n\n      // Safari extras selected by the client\n      selectedSafariExtras: [] as any[],\n\n      // Booked dates (confirmed hunts)\n      bookedDates: [] as { start_date: string; end_date: string; client_name: string; area_id: number }[],\n      loadingBookedDates: false,\n      dateConflictWarning: '' as string,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n\n    // Get booked dates for the currently selected season\n    bookedDatesForSelectedSeason(): { start_date: string; end_date: string; client_name: string; area_id: number }[] {\n      return this.bookedDates\n    },\n\n    // Validation for each wizard step\n    canProceedToNextStep(): boolean {\n      const hasInput = (value: any) => {\n        if (typeof value === 'string') {\n          return value.trim().length > 0\n        }\n        return !!value\n      }\n\n      switch (this.currentStep) {\n        case 0: // Customer Info\n          return (\n            hasInput(this.form.full_name) &&\n            hasInput(this.form.country) &&\n            hasInput(this.form.nationality) &&\n            hasInput(this.form.email) &&\n            hasInput(this.form.phone) &&\n            hasInput(this.form.address) &&\n            (this.customerType === 'existing' ? hasInput(this.selectedExistingCustomer) : true)\n          )\n        case 1: // Dates & Season\n          return (\n            hasInput(this.form.season) &&\n            hasInput(this.form.preferred_date) &&\n            hasInput(this.form.start_date) &&\n            hasInput(this.form.end_date)\n          )\n        case 2: // Package & Species\n          return this.speciesObjects.length > 0\n        case 3: // Hunt Party Details\n          return hasInput(this.form.area) && !!(this.form.no_of_days && this.form.no_of_days > 0)\n        case 4: // Review\n          return true\n        default:\n          return false\n      }\n    },\n\n    // Filtered packages based on selected season\n    filteredPackagesOptions(): any[] {\n      if (!this.form.season?.value) {\n        return []\n      }\n\n      const selectedSeasonId = this.form.season.value\n      return this.packagesOptions.filter((pkg: any) => {\n        // Check if package belongs to the selected season\n        const pkgSeasonId = pkg.selfItem?.season_id || pkg.selfItem?.price_list_type?.price_list?.season_id\n        return pkgSeasonId === selectedSeasonId\n      })\n    },\n\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n    // Get the month (0-11) of the season start date for calendar view\n    seasonStartMonth(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getMonth()\n      }\n      return new Date().getMonth()\n    },\n    // Get the year of the season start date for calendar view\n    seasonStartYear(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getFullYear()\n      }\n      return new Date().getFullYear()\n    },\n  },\n\n  watch: {\n    customerType(newType: 'new' | 'existing') {\n      if (newType === 'new') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      } else if (newType === 'existing') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      }\n    },\n    selectedExistingCustomer(newValue: any) {\n      if (!newValue && this.customerType === 'existing') {\n        this.clearCustomerInformation()\n      }\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n    this.getExistingCustomers()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry', 'updateSalesInquiry', 'getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async getExistingCustomers() {\n      this.loadingCustomers = true\n      try {\n        // Fetch all sales inquiries to get unique customers\n        const response: any = await this.getSalesInquiries('', '')\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          // Create a map to store unique customers by entity ID\n          const customersMap = new Map()\n\n          dataArray.forEach((item: any) => {\n            const entity = item.entity\n            if (entity && entity.id && !customersMap.has(entity.id)) {\n              // Get contact info\n              let email = ''\n              let phone = ''\n              let address = ''\n\n              if (entity.contacts && Array.isArray(entity.contacts)) {\n                entity.contacts.forEach((contact: any) => {\n                  if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n                    email = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n                    phone = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n                    address = contact.contact || ''\n                  }\n                })\n              }\n\n              customersMap.set(entity.id, {\n                value: entity.id,\n                text: entity.full_name,\n                selfItem: {\n                  id: entity.id,\n                  full_name: entity.full_name,\n                  country: entity.country?.name || entity.country_name || '',\n                  country_id: entity.country?.id || entity.country_id,\n                  nationality: entity.nationality?.name || entity.nationality_name || '',\n                  nationality_id: entity.nationality?.id || entity.nationality_id,\n                  email: email,\n                  phone: phone,\n                  address: address,\n                },\n              })\n            }\n          })\n\n          this.existingCustomersOptions = Array.from(customersMap.values())\n        }\n      } catch (error) {\n        console.error('Error fetching existing customers:', error)\n      } finally {\n        this.loadingCustomers = false\n      }\n    },\n\n    populateFormFromCustomer(selectedCustomer: any) {\n      if (this.customerType !== 'existing') {\n        return\n      }\n\n      if (!selectedCustomer || !selectedCustomer.selfItem) {\n        // Clear form if no customer selected\n        this.clearCustomerInformation()\n        return\n      }\n\n      const customer = selectedCustomer.selfItem\n\n      // Populate basic information\n      this.form.full_name = customer.full_name || ''\n\n      // Find and set country\n      if (customer.country_id) {\n        const countryOption = this.countries.find((c: any) => c.value === customer.country_id)\n        if (countryOption) this.form.country = countryOption\n      } else if (customer.country) {\n        const countryOption = this.countries.find((c: any) => c.text === customer.country)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      if (customer.nationality_id) {\n        const nationalityOption = this.nationality.find((n: any) => n.value === customer.nationality_id)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      } else if (customer.nationality) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === customer.nationality)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Populate contact information\n      this.form.email = customer.email || ''\n      this.form.phone = customer.phone || ''\n      this.form.address = customer.address || ''\n\n      this.init({\n        message: `Customer \"${customer.full_name}\" information loaded successfully`,\n        color: 'success',\n      })\n    },\n\n    clearCustomerInformation() {\n      this.form.full_name = ''\n      this.form.country = null\n      this.form.nationality = null\n      this.form.email = ''\n      this.form.phone = ''\n      this.form.address = ''\n    },\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate species - at least one species should be selected\n      if (this.speciesObjects.length === 0) {\n        this.init({\n          message: 'Please add at least one species.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate area and season\n      if (!this.form.area) {\n        this.init({\n          message: 'Please select a hunting area.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.season) {\n        this.init({\n          message: 'Please select a season.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.no_of_days || this.form.no_of_days <= 0) {\n        this.init({\n          message: 'Please enter the number of days.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        no_of_hunters: this.form.no_of_hunters || 1,\n        no_of_days: this.form.no_of_days,\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Preferences\n        preferences: preferences,\n\n        // Species data (user can always edit)\n        species: this.speciesObjects,\n\n        // Area and Season\n        area_id: this.form.area?.value,\n        season_id: this.form.season?.value,\n\n        // Safari extras selected by the client\n        safari_extras: this.selectedSafariExtras.map((extra: any) => ({\n          safari_extras_id: extra.safari_extras_id || extra.id,\n        })),\n      }\n\n      // Include reference price_list_id if a package was selected as reference\n      if (this.form.priceListId?.value) {\n        requestdata.reference_price_list_id = this.form.priceListId.value\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        let response: any\n\n        if (this.isEditMode && this.editingInquiryId) {\n          // Update existing inquiry\n          response = await this.updateSalesInquiry(this.editingInquiryId, requestdata)\n\n          if (response.status === 200) {\n            this.saving = false\n            this.init({ message: 'Sales inquiry updated successfully', color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.isEditMode = false\n            this.editingInquiryId = null\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n            this.showAddSalesInquiriesForm = false\n          }\n        } else {\n          // Create new inquiry\n          response = await this.createSalesInquiry(requestdata)\n\n          if (response.status === 201) {\n            this.saving = false\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n          }\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error saving sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    resetEditMode() {\n      this.isEditMode = false\n      this.editingInquiryId = null\n      this.speciesObjects = []\n      this.selectedSafariExtras = []\n      this.customerType = 'new'\n      this.selectedExistingCustomer = null\n      this.currentStep = 0\n    },\n\n    handleGoBack() {\n      this.resetEditMode()\n      this.currentStep = 0\n      this.gotBack()\n    },\n\n    // Wizard navigation methods\n    nextStep() {\n      if (this.currentStep < this.wizardSteps.length - 1 && this.canProceedToNextStep) {\n        this.currentStep++\n      } else if (!this.canProceedToNextStep) {\n        this.showStepValidationError()\n      }\n    },\n\n    previousStep() {\n      if (this.currentStep > 0) {\n        this.currentStep--\n      }\n    },\n\n    goToStep(stepIndex: number) {\n      // Only allow going to previous steps or current step\n      if (stepIndex <= this.currentStep) {\n        this.currentStep = stepIndex\n      }\n    },\n\n    showStepValidationError() {\n      const stepMessages: { [key: number]: string } = {\n        0: 'Please fill in all customer information fields (Name, Country, Nationality, Email, Phone, Address).',\n        1: 'Please add at least one species.',\n        2: 'Please select a hunting area and enter the number of days.',\n        3: 'Please select a season and all required dates.',\n      }\n      this.init({\n        message: stepMessages[this.currentStep] || 'Please complete all required fields.',\n        color: 'warning',\n      })\n    },\n\n    formatReviewDate(date: any): string {\n      if (!date) return 'N/A'\n      try {\n        const d = new Date(date)\n        if (isNaN(d.getTime())) return 'N/A'\n        return d.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n        })\n      } catch {\n        return 'N/A'\n      }\n    },\n\n    getSpeciesNameById(speciesId: number): string | null {\n      if (!speciesId) return null\n      const species = this.speciesOptions.find((s: any) => s.value === speciesId)\n      return species ? species.text : null\n    },\n\n    editInquiry(rowData: any) {\n      // Set edit mode\n      this.isEditMode = true\n      this.editingInquiryId = rowData.id\n\n      // Show the form\n      this.showAddSalesInquiriesForm = true\n\n      // Populate form with existing data\n      const item = rowData.selfitem || rowData\n\n      // Basic Information\n      this.form.full_name = item.entity?.full_name || rowData.name || ''\n\n      // Find and set country\n      const countryName = item.entity?.country?.name || item.entity?.country_name\n      if (countryName) {\n        const countryOption = this.countries.find((c: any) => c.text === countryName)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      const nationalityName = item.entity?.nationality?.name || item.entity?.nationality_name\n      if (nationalityName) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === nationalityName)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Contact Information from entity contacts\n      if (item.entity?.contacts && Array.isArray(item.entity.contacts)) {\n        item.entity.contacts.forEach((contact: any) => {\n          if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n            this.form.email = contact.contact || ''\n          } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n            this.form.phone = contact.contact || ''\n          } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n            this.form.address = contact.contact || ''\n          }\n        })\n      }\n\n      // Preferences\n      const prefs = item.formatted_preferences || rowData.preference || {}\n      this.form.no_of_hunters = prefs.no_of_hunters || 1\n      this.form.no_of_observers = prefs.no_of_observers || 0\n      this.form.no_of_days = prefs.no_of_days || 0\n      this.form.no_of_companions = prefs.no_of_companions || 0\n\n      // Dates\n      if (prefs.preferred_date) this.form.preferred_date = new Date(prefs.preferred_date)\n      if (prefs.start_date) this.form.start_date = new Date(prefs.start_date)\n      if (prefs.end_date) this.form.end_date = new Date(prefs.end_date)\n\n      // Area\n      const areaName = item.inquiry_areas?.[0]?.area?.name || rowData.area\n      if (areaName) {\n        const areaOption = this.areasOptions.find((a: any) => a.text === areaName)\n        if (areaOption) this.form.area = areaOption\n      }\n\n      // Season\n      if (item.season) {\n        const seasonOption = this.seasonsOptions.find(\n          (s: any) => s.value === item.season.id || s.text === item.season.name,\n        )\n        if (seasonOption) this.form.season = seasonOption\n      }\n\n      // Reference Price List\n      if (item.reference_price_list) {\n        const priceListOption = this.packagesOptions.find((p: any) => p.value === item.reference_price_list.id)\n        if (priceListOption) this.form.priceListId = priceListOption\n      }\n\n      // Species\n      this.speciesObjects = []\n      const speciesArray = item.inquiry_species || rowData.inquiry_species || []\n      console.log('Species array from API:', JSON.stringify(speciesArray, null, 2))\n      speciesArray.forEach((speciesItem: any) => {\n        // Try multiple paths to get the species name\n        const speciesName =\n          speciesItem.species_name ||\n          speciesItem.species?.name ||\n          speciesItem.name ||\n          this.getSpeciesNameById(speciesItem.species_id) ||\n          'Unknown'\n        this.speciesObjects.push({\n          species_id: speciesItem.species_id || speciesItem.species?.id || speciesItem.id,\n          name: speciesName,\n          quantity: speciesItem.quantity || 1,\n          fromPackage: false,\n        })\n      })\n\n      // Safari Extras - load from sales_confirmation_safary_extras\n      this.selectedSafariExtras = []\n      const safariExtrasArray = item.safari_extras || item.sales_confirmation_safari_extras || []\n      console.log('Safari extras from API:', JSON.stringify(safariExtrasArray, null, 2))\n      safariExtrasArray.forEach((extraItem: any) => {\n        // Handle both nested and flat structures\n        const extra = extraItem.safari_extra || extraItem.safary_extra || extraItem\n        this.selectedSafariExtras.push({\n          id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          safari_extras_id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          name: extra.name || 'Unknown',\n          description: extra.description || '',\n          amount: extra.amount || 0,\n          charges_per: extra.charges_per || '',\n          currency: extra.currency,\n        })\n      })\n\n      this.init({\n        message: 'Loaded inquiry data for editing',\n        color: 'info',\n      })\n    },\n\n    async downloadAllInquiriesPdf() {\n      try {\n        const response = await axios.get(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n\n        if (response.data.success && response.data.pdf) {\n          // Decode base64 PDF and download\n          const pdfData = response.data.pdf\n          const byteCharacters = atob(pdfData)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `sales-inquiries-${new Date().toISOString().split('T')[0]}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.init({\n            message: `PDF downloaded successfully. Total records: ${response.data.total_records}`,\n            color: 'success',\n          })\n        } else {\n          this.init({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.init({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n          fromPackage: false,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    removeSafariExtra(index: number) {\n      const removed = this.selectedSafariExtras.splice(index, 1)\n      if (removed.length > 0) {\n        this.init({\n          message: `Removed \"${removed[0].name}\" from safari extras`,\n          color: 'info',\n        })\n      }\n    },\n\n    incrementQuantity(index: number) {\n      if (this.speciesObjects[index]) {\n        this.speciesObjects[index].quantity++\n      }\n    },\n\n    decrementQuantity(index: number) {\n      if (this.speciesObjects[index] && this.speciesObjects[index].quantity > 1) {\n        this.speciesObjects[index].quantity--\n      }\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n            selfItem: item, // Include full item data for date range access\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Called when user selects a season - sets date constraints and fetches booked dates\n    async onSeasonSelected(selectedSeason: any) {\n      // Reset date conflict warning\n      this.dateConflictWarning = ''\n\n      // Clear previously selected dates when season changes\n      this.form.preferred_date = null\n      this.form.start_date = null\n      this.form.end_date = null\n\n      if (!selectedSeason || !selectedSeason.selfItem) {\n        this.seasonMinDate = null\n        this.seasonMaxDate = null\n        this.bookedDates = []\n        return\n      }\n\n      const seasonData = selectedSeason.selfItem\n\n      // Set the date range constraints for the calendar from season dates\n      if (seasonData.start_date) {\n        this.seasonMinDate = new Date(seasonData.start_date)\n      }\n      if (seasonData.end_date) {\n        this.seasonMaxDate = new Date(seasonData.end_date)\n      }\n\n      // Fetch booked dates for this season\n      await this.fetchBookedDates(selectedSeason.value)\n    },\n\n    // Fetch confirmed/booked hunt dates for the selected season using the dedicated API\n    async fetchBookedDates(seasonId: number, areaId?: number) {\n      this.loadingBookedDates = true\n      this.bookedDates = []\n\n      try {\n        // Build query params\n        const params = new URLSearchParams()\n        if (seasonId) params.append('season_id', seasonId.toString())\n        if (areaId) params.append('area_id', areaId.toString())\n\n        const queryString = params.toString() ? `?${params.toString()}` : ''\n        const response = await axios.get(`/sales/booked-dates${queryString}`)\n\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          this.bookedDates = dataArray.map((item: any) => ({\n            start_date: item.start_date,\n            end_date: item.end_date,\n            client_name: item.client_name || item.entity?.full_name || 'Unknown Client',\n            area_id: item.area_id,\n          }))\n        }\n      } catch (error) {\n        console.error('Error fetching booked dates:', error)\n      } finally {\n        this.loadingBookedDates = false\n      }\n    },\n\n    // Check if selected date conflicts with booked dates\n    checkBookedDateConflict() {\n      this.dateConflictWarning = ''\n\n      const selectedStart = this.form.start_date ? new Date(this.form.start_date) : null\n      const selectedEnd = this.form.end_date ? new Date(this.form.end_date) : null\n      const preferredDate = this.form.preferred_date ? new Date(this.form.preferred_date) : null\n\n      if (!selectedStart && !selectedEnd && !preferredDate) {\n        return\n      }\n\n      // Check each booked date range for conflicts\n      for (const booking of this.bookedDates) {\n        const bookedStart = new Date(booking.start_date)\n        const bookedEnd = new Date(booking.end_date)\n\n        bookedStart.setHours(0, 0, 0, 0)\n        bookedEnd.setHours(23, 59, 59, 999)\n\n        // Check if any of the selected dates fall within a booked range\n        const checkDate = (date: Date | null) => {\n          if (!date) return false\n          const d = new Date(date)\n          d.setHours(12, 0, 0, 0)\n          return d >= bookedStart && d <= bookedEnd\n        }\n\n        // Check if date ranges overlap\n        const rangesOverlap = (start: Date | null, end: Date | null) => {\n          if (!start || !end) return false\n          const s = new Date(start)\n          const e = new Date(end)\n          s.setHours(0, 0, 0, 0)\n          e.setHours(23, 59, 59, 999)\n\n          // Ranges overlap if one starts before the other ends\n          return s <= bookedEnd && e >= bookedStart\n        }\n\n        if (\n          checkDate(preferredDate) ||\n          checkDate(selectedStart) ||\n          checkDate(selectedEnd) ||\n          rangesOverlap(selectedStart, selectedEnd)\n        ) {\n          const startStr = new Date(booking.start_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          const endStr = new Date(booking.end_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          this.dateConflictWarning = `The selected dates overlap with a confirmed hunt for \"${booking.client_name}\" (${startStr} - ${endStr}). Please inform the client that this time slot may not be available.`\n          return\n        }\n      }\n    },\n\n    // Format booking date range for display\n    formatBookingDateRange(booking: { start_date: string; end_date: string }) {\n      const start = new Date(booking.start_date)\n      const end = new Date(booking.end_date)\n      const options: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric' }\n\n      if (start.getFullYear() !== end.getFullYear()) {\n        return `${start.toLocaleDateString('en-US', { ...options, year: 'numeric' })} - ${end.toLocaleDateString(\n          'en-US',\n          { ...options, year: 'numeric' },\n        )}`\n      }\n\n      return `${start.toLocaleDateString('en-US', options)} - ${end.toLocaleDateString('en-US', options)}`\n    },\n\n    // Calculate additional cost for companions and observers\n    calculateAdditionalCost(): number {\n      let total = 0\n      const priceListData = this.form.priceListId?.selfItem\n\n      if (!priceListData) return 0\n\n      // Add companion hunter costs\n      if (this.form.no_of_companions > 0 && priceListData.companion_hunter_costs?.length > 0) {\n        total += this.form.no_of_companions * priceListData.companion_hunter_costs[0].amount\n      }\n\n      // Add observer costs\n      if (this.form.no_of_observers > 0 && priceListData.observer?.length > 0) {\n        total += this.form.no_of_observers * priceListData.observer[0].amount\n      }\n\n      return total\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: `${item.package_name || `Package ${item.id}`} - ${item.hunting_type || 'N/A'} (${\n            item.season_name || 'No Season'\n          })`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateFormFromPackage() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data (all fields are editable)\n          // Set hunting area\n          if (priceListData.sales_package?.area?.name) {\n            const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n            if (areaOption) {\n              this.form.area = areaOption\n            }\n          }\n\n          // Set duration (number of days)\n          if (priceListData.price_list_type?.duration) {\n            this.form.no_of_days = priceListData.price_list_type.duration\n          }\n\n          // Set season date range from price list and populate season dropdown\n          if (priceListData.price_list_type?.price_list) {\n            const priceList = priceListData.price_list_type.price_list\n\n            // Set the date range constraints for the calendar\n            if (priceList.start_date) {\n              this.seasonMinDate = new Date(priceList.start_date)\n            }\n            if (priceList.end_date) {\n              this.seasonMaxDate = new Date(priceList.end_date)\n            }\n\n            // Create a season display based on the price list dates\n            const startDate = new Date(priceList.start_date)\n            const endDate = new Date(priceList.end_date)\n            const seasonName = `${startDate.toLocaleDateString('en-US', {\n              month: 'short',\n              year: 'numeric',\n            })} - ${endDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}`\n\n            // Get the actual season_id from the API response\n            const seasonId = priceListData.season_id\n\n            // Try to find matching season in options\n            let seasonOption = this.seasonsOptions.find((s: any) => {\n              if (s.selfItem?.start_date) {\n                const seasonStart = new Date(s.selfItem.start_date)\n                return seasonStart.getFullYear() === startDate.getFullYear()\n              }\n              return false\n            })\n\n            // If no match found, create a temporary option for display with actual ID\n            if (!seasonOption) {\n              seasonOption = {\n                value: seasonId,\n                text: seasonName,\n                selfItem: {\n                  start_date: priceList.start_date,\n                  end_date: priceList.end_date,\n                },\n              }\n              // Add to options so it can be displayed\n              this.seasonsOptions.push(seasonOption)\n            }\n\n            this.form.season = seasonOption\n\n            // Pre-populate dates with season start date so calendar opens at the correct month\n            if (priceList.start_date) {\n              const seasonStartDate = new Date(priceList.start_date)\n              this.form.preferred_date = seasonStartDate\n              this.form.start_date = seasonStartDate\n              this.form.end_date = seasonStartDate\n            }\n          }\n\n          // Extract species from sales_package.species and add to speciesObjects for editing\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            // Clear existing species and populate from package\n            // Use species_id from the pivot table, or species.id from the nested object\n            console.log('Raw species data:', JSON.stringify(priceListData.sales_package.species, null, 2))\n            this.speciesObjects = priceListData.sales_package.species.map((item: any) => {\n              // Try multiple ways to get the species ID\n              const speciesId = item.species_id || item.species?.id || item.id\n              console.log('Species item:', item, 'Using species_id:', speciesId)\n              return {\n                species_id: speciesId,\n                name: item.species?.name || item.name || 'Unknown',\n                quantity: item.quantity || 0,\n                fromPackage: true,\n              }\n            })\n\n            // Also update store for display purposes\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species_id || item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', this.speciesObjects)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package. You can now customize all fields.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n\n          // Extract safari extras from the price list and add to selectedSafariExtras for editing\n          if (priceListData.safari_extras && Array.isArray(priceListData.safari_extras)) {\n            this.selectedSafariExtras = priceListData.safari_extras.map((extra: any) => ({\n              id: extra.id,\n              safari_extras_id: extra.id,\n              name: extra.name,\n              description: extra.description || '',\n              amount: extra.amount,\n              charges_per: extra.charges_per,\n              currency: extra.currency,\n            }))\n            console.log('Populated safari extras:', this.selectedSafariExtras)\n          } else {\n            this.selectedSafariExtras = []\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    // Function to check if date is allowed (for VaDateInput allowed-days prop)\n    checkDateAllowed(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      let isAllowed = true\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          isAllowed = false\n        }\n      }\n\n      if (this.seasonMaxDate && isAllowed) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          isAllowed = false\n        }\n      }\n\n      return isAllowed\n    },\n\n    // Check if a date is within the season date range\n    isDateInSeasonRange(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          return false\n        }\n      }\n\n      if (this.seasonMaxDate) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n\n<style scoped>\n.sales-inquiry-wizard :deep(.va-input-wrapper__inner),\n.sales-inquiry-wizard :deep(.va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input__anchor) {\n  border: 1px solid var(--va-backgroundBorder, #d1d5db);\n  border-radius: 10px;\n  background-color: #fff;\n  transition:\n    border-color 0.2s ease,\n    box-shadow 0.2s ease;\n}\n\n.sales-inquiry-wizard :deep(.va-input-wrapper:focus-within .va-input-wrapper__inner),\n.sales-inquiry-wizard :deep(.va-select:focus-within .va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input:focus-within .va-date-input__anchor) {\n  border-color: var(--va-primary);\n  box-shadow: 0 0 0 2px rgba(64, 122, 214, 0.12);\n}\n\n.sales-inquiry-wizard :deep(.va-input-wrapper__inner:hover),\n.sales-inquiry-wizard :deep(.va-select__anchor:hover),\n.sales-inquiry-wizard :deep(.va-date-input__anchor:hover) {\n  border-color: var(--va-primary);\n}\n\n.sales-inquiry-wizard :deep(.va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input__anchor) {\n  min-height: 48px;\n}\n\n.sales-inquiry-wizard :deep(.va-counter__input) {\n  border: 1px solid transparent;\n}\n\n.sales-inquiry-wizard :deep(.va-counter:focus-within .va-counter__input) {\n  border-color: var(--va-primary);\n  box-shadow: 0 0 0 2px rgba(64, 122, 214, 0.12);\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"handleGoBack\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <div v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\" class=\"flex gap-3\">\n          <VaButton class=\"px-6\" color=\"secondary\" round icon=\"download\" size=\"large\" @click=\"downloadAllInquiriesPdf()\"\n            >Download PDF</VaButton\n          >\n          <VaButton class=\"px-6\" color=\"primary\" round icon=\"add\" size=\"large\" @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </div>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n          @editBtnPressed=\"editInquiry\"\n        >\n        </Salesinquirieslist>\n        <!-- Form Wizard -->\n        <div v-else class=\"p-6 bg-white rounded-lg sales-inquiry-wizard\">\n          <!-- Stepper Header -->\n          <VaStepper\n            v-model=\"currentStep\"\n            :steps=\"wizardSteps\"\n            color=\"primary\"\n            class=\"mb-6\"\n            navigation-disabled\n            controls-hidden\n          >\n            <template #step-button-0>\n              <VaIcon name=\"person\" />\n            </template>\n            <template #step-button-1>\n              <VaIcon name=\"event\" />\n            </template>\n            <template #step-button-2>\n              <VaIcon name=\"inventory_2\" />\n            </template>\n            <template #step-button-3>\n              <VaIcon name=\"groups\" />\n            </template>\n            <template #step-button-4>\n              <VaIcon name=\"fact_check\" />\n            </template>\n          </VaStepper>\n\n          <VaForm ref=\"formRef\" class=\"space-y-6\">\n            <!-- Step 1: Customer Information -->\n            <div v-show=\"currentStep === 0\" class=\"animate-fade-in\">\n              <!-- Customer Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person_search\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Customer Selection</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>New or Existing Customer?</template>\n                  Select an existing customer to auto-fill their information, or choose \"New Customer\" to enter details\n                  manually.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaRadio v-model=\"customerType\" option=\"new\" label=\"New Customer\" name=\"customerType\" />\n                  <VaRadio v-model=\"customerType\" option=\"existing\" label=\"Existing Customer\" name=\"customerType\" />\n                </div>\n\n                <div v-if=\"customerType === 'existing'\" class=\"mt-4\">\n                  <VaSelect\n                    v-model=\"selectedExistingCustomer\"\n                    placeholder=\"Search and select an existing customer\"\n                    label=\"Select Customer\"\n                    :options=\"existingCustomersOptions\"\n                    :loading=\"loadingCustomers\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    @update:modelValue=\"populateFormFromCustomer\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.email || 'N/A' }}  {{ value.selfItem?.country || 'N/A' }}\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n                </div>\n              </div>\n\n              <!-- Basic Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.full_name\"\n                    type=\"text\"\n                    placeholder=\"Enter your Full name\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                    label=\"Full name\"\n                  />\n                  <VaSelect\n                    v-model=\"form.country\"\n                    placeholder=\"Select Country\"\n                    label=\"Country\"\n                    :rules=\"[(v: any) => v || 'Country is required']\"\n                    :options=\"countries\"\n                    searchable\n                    highlight-matched-text\n                  />\n                  <VaSelect\n                    v-model=\"form.nationality\"\n                    placeholder=\"Select Client nationality\"\n                    label=\"Client Nationality\"\n                    :rules=\"[(v: any) => v || 'Nationality is required']\"\n                    :options=\"nationality\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n              </div>\n\n              <!-- Contact Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    :rules=\"[validators.required, validators.email]\"\n                    label=\"Email\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567\"\n                    :rules=\"[validators.required, validators.tell]\"\n                    label=\"Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.address\"\n                    type=\"text\"\n                    :max-length=\"30\"\n                    placeholder=\"Enter your address\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                    label=\"Address\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Step 2: Dates & Season -->\n            <div v-show=\"currentStep === 1\" class=\"animate-fade-in\">\n              <!-- Season and Tentative Date Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Season and Dates</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Select Season First</template>\n                  Choose your preferred season. This will filter available packages and validate your date selections.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.season\"\n                    placeholder=\"Select Season\"\n                    label=\"Season\"\n                    :rules=\"[(v: any) => v || 'Season is required']\"\n                    :options=\"seasonsOptions\"\n                    searchable\n                    highlight-matched-text\n                    @update:modelValue=\"onSeasonSelected\"\n                  />\n                  <VaDateInput\n                    v-model=\"form.preferred_date\"\n                    label=\"Preferred Date\"\n                    placeholder=\"Select Preferred Date\"\n                    :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaDateInput\n                    v-model=\"form.start_date\"\n                    label=\"Start Date\"\n                    placeholder=\"Select Start Date\"\n                    :rules=\"[(v: any) => v || 'Start Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                  <VaDateInput\n                    v-model=\"form.end_date\"\n                    label=\"End Date\"\n                    placeholder=\"Select End Date\"\n                    :rules=\"[(v: any) => v || 'End Date is required']\"\n                    :allowed-days=\"checkDateAllowed\"\n                    :disabled=\"!form.season\"\n                    required\n                    @update:modelValue=\"checkBookedDateConflict\"\n                  />\n                </div>\n\n                <!-- Booked Dates Warning -->\n                <VaAlert v-if=\"dateConflictWarning\" color=\"warning\" class=\"mt-4\" border=\"left\">\n                  <template #title>\n                    <VaIcon name=\"warning\" class=\"mr-1\" />\n                    Date Conflict Detected\n                  </template>\n                  {{ dateConflictWarning }}\n                </VaAlert>\n\n                <!-- Show booked dates for reference -->\n                <div v-if=\"bookedDatesForSelectedSeason.length > 0\" class=\"mt-4\">\n                  <div class=\"text-sm font-semibold text-gray-700 mb-2\">\n                    <VaIcon name=\"event_busy\" size=\"small\" class=\"mr-1\" />\n                    Already Booked Dates in This Season:\n                  </div>\n                  <div class=\"flex flex-wrap gap-2\">\n                    <VaChip\n                      v-for=\"(booking, index) in bookedDatesForSelectedSeason\"\n                      :key=\"index\"\n                      color=\"danger\"\n                      size=\"small\"\n                      outline\n                    >\n                      {{ formatBookingDateRange(booking) }} - {{ booking.client_name }}\n                    </VaChip>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- End of Step 2 -->\n\n            <!-- Step 3: Package & Species -->\n            <div v-show=\"currentStep === 2\" class=\"animate-fade-in\">\n              <!-- Package Reference Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"inventory_2\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Package Reference</h3>\n                </div>\n\n                <VaAlert v-if=\"filteredPackagesOptions.length === 0\" color=\"warning\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Packages Available</template>\n                  No packages found for the selected season. You can still add species manually below.\n                </VaAlert>\n\n                <VaAlert v-else color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Select a Package as Reference</template>\n                  Showing {{ filteredPackagesOptions.length }} package(s) available for the selected season. Select a\n                  package to auto-fill the form with its details.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 gap-4 mb-4\">\n                  <VaSelect\n                    v-model=\"form.priceListId\"\n                    placeholder=\"Select a Package for Reference (Optional)\"\n                    label=\"Reference Package\"\n                    :options=\"filteredPackagesOptions\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    :disabled=\"filteredPackagesOptions.length === 0\"\n                    @update:modelValue=\"populateFormFromPackage\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                          {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n\n                  <!-- Display selected price list details -->\n                  <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardTitle class=\"text-sm font-semibold flex items-center gap-2\">\n                      <VaIcon name=\"info\" size=\"small\" color=\"info\" />\n                      Price List Details - {{ form.priceListId.selfItem?.sales_package?.name || 'N/A' }}\n                    </VaCardTitle>\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 text-sm\">\n                        <div>\n                          <span class=\"text-gray-600\">Area:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.sales_package?.area?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Hunting Type:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.price_list_type?.hunting_type?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Regulatory Package:</span>\n                          <span class=\"ml-1 font-medium\">{{\n                            form.priceListId.selfItem?.sales_package?.regulatory_package?.name || 'N/A'\n                          }}</span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Duration:</span>\n                          <span class=\"ml-1 font-medium\"\n                            >{{ form.priceListId.selfItem?.price_list_type?.duration || 0 }} days</span\n                          >\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Base Amount:</span>\n                          <span class=\"ml-1 font-medium\">\n                            {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                            }}{{ form.priceListId.selfItem?.price_list_type?.amount || 'N/A' }}\n                          </span>\n                        </div>\n                        <div>\n                          <span class=\"text-gray-600\">Status:</span>\n                          <VaBadge\n                            :text=\"form.priceListId.selfItem?.price_list_type?.is_active ? 'Active' : 'Inactive'\"\n                            :color=\"form.priceListId.selfItem?.price_list_type?.is_active ? 'success' : 'warning'\"\n                            size=\"small\"\n                          />\n                        </div>\n                      </div>\n\n                      <!-- Date Range -->\n                      <div\n                        v-if=\"form.priceListId.selfItem?.price_list_type?.price_list?.start_date\"\n                        class=\"mt-2 text-sm\"\n                      >\n                        <span class=\"text-gray-600\">Valid Period:</span>\n                        <span class=\"ml-1 font-medium\">\n                          {{\n                            formatDateRange(\n                              form.priceListId.selfItem.price_list_type.price_list.start_date,\n                              form.priceListId.selfItem.price_list_type.price_list.end_date,\n                            )\n                          }}\n                        </span>\n                      </div>\n\n                      <!-- Companion Hunter Costs -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.companion_hunter_costs &&\n                          form.priceListId.selfItem.companion_hunter_costs.length > 0\n                        \"\n                      >\n                        <div class=\"mt-2\">\n                          <span class=\"text-xs text-gray-600\">Companion Hunter:</span>\n                          <span class=\"ml-1 text-xs font-medium\">\n                            {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                            }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }} ({{\n                              form.priceListId.selfItem.companion_hunter_costs[0].days\n                            }}\n                            days)\n                          </span>\n                        </div>\n                      </template>\n\n                      <!-- Trophy Fees Table -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.trophy_fees && form.priceListId.selfItem.trophy_fees.length > 0\n                        \"\n                      >\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Trophy Fees:</div>\n                          <div class=\"va-table-responsive\">\n                            <table class=\"va-table va-table--hoverable w-full text-sm\">\n                              <thead>\n                                <tr>\n                                  <th class=\"text-left\">Species</th>\n                                  <th class=\"text-center\">Sequence</th>\n                                  <th class=\"text-right\">Price</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                <tr\n                                  v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                                  :key=\"`trophy-${fee.id}-${index}`\"\n                                >\n                                  <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                                  <td class=\"text-center\">\n                                    <VaBadge\n                                      :text=\"getSequenceLabel(fee.sequence_order)\"\n                                      color=\"primary\"\n                                      size=\"small\"\n                                    />\n                                  </td>\n                                  <td class=\"text-right font-semibold\">\n                                    {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                                    }}{{ fee.amount }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </template>\n\n                      <!-- Upgrade Fees -->\n                      <template\n                        v-if=\"\n                          form.priceListId.selfItem?.upgrade_fees && form.priceListId.selfItem.upgrade_fees.length > 0\n                        \"\n                      >\n                        <div class=\"mt-3 pt-3 border-t\">\n                          <div class=\"text-xs font-semibold text-gray-700 mb-2\">Upgrade Fees:</div>\n                          <div class=\"flex flex-wrap gap-1\">\n                            <VaBadge\n                              v-for=\"fee in form.priceListId.selfItem.upgrade_fees\"\n                              :key=\"fee.id\"\n                              :text=\"`${fee.species_name} (${fee.currency_symbol || '$'}${fee.amount})`\"\n                              color=\"warning\"\n                              size=\"small\"\n                            />\n                          </div>\n                        </div>\n                      </template>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <!-- Species Selection Section -->\n                <h3 class=\"font-bold text-lg mb-2 mt-4\">\n                  <VaIcon name=\"pets\" size=\"small\" class=\"mr-1\" />\n                  Preferred Species\n                </h3>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <VaSelect\n                        v-model=\"form.species\"\n                        label=\"Species\"\n                        :options=\"speciesOptions\"\n                        placeholder=\"Select Species\"\n                        searchable\n                        highlight-matched-text\n                      />\n\n                      <VaCounter v-model=\"form.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div class=\"flex items-center gap-2\">\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <VaBadge v-if=\"s.fromPackage\" color=\"info\" size=\"small\" text=\"from Price List\" />\n                              </div>\n                              <div class=\"flex items-center gap-2\">\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"remove\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  :disabled=\"s.quantity <= 1\"\n                                  @click=\"decrementQuantity(index)\"\n                                />\n                                <span class=\"text-sm font-medium min-w-[30px] text-center\">{{ s.quantity }}</span>\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"add\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  @click=\"incrementQuantity(index)\"\n                                />\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"delete\"\n                                  color=\"danger\"\n                                  size=\"small\"\n                                  class=\"ml-2\"\n                                  @click=\"deleteFromStorage(index)\"\n                                />\n                              </div>\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above or select a reference package.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras from Reference Package -->\n                <template v-if=\"selectedSafariExtras.length > 0\">\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">\n                    Safari Extras ({{ selectedSafariExtras.length }} selected)\n                  </h3>\n                  <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                    <template #title>Customize Safari Extras</template>\n                    Remove any safari extras that your client does not require by clicking the delete button.\n                  </VaAlert>\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                        <div\n                          v-for=\"(extra, index) in selectedSafariExtras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg bg-white relative group\"\n                        >\n                          <div class=\"flex justify-between items-start\">\n                            <div class=\"flex-1\">\n                              <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                              <div class=\"text-xs text-gray-600 mt-1\">{{ extra.description }}</div>\n                              <div class=\"mt-2 flex items-center gap-2\">\n                                <VaBadge color=\"primary\" size=\"small\">\n                                  {{ extra.currency?.symbol || '$' }}{{ extra.amount }}\n                                </VaBadge>\n                                <span class=\"text-xs text-gray-500\">{{ formatChargesPer(extra.charges_per) }}</span>\n                              </div>\n                            </div>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"close\"\n                              class=\"ml-2\"\n                              title=\"Remove this safari extra\"\n                              @click=\"removeSafariExtra(index)\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n\n                <!-- Companion and Observer Rates from Reference Package -->\n                <template\n                  v-if=\"\n                    (form.priceListId?.selfItem?.companion_hunter_costs &&\n                      form.priceListId.selfItem.companion_hunter_costs.length > 0) ||\n                    (form.priceListId?.selfItem?.observer && form.priceListId.selfItem.observer.length > 0)\n                  \"\n                >\n                  <h3 class=\"font-bold text-lg mb-2 mt-4\">Additional Rates (from Price List)</h3>\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <template\n                          v-if=\"\n                            form.priceListId.selfItem.companion_hunter_costs &&\n                            form.priceListId.selfItem.companion_hunter_costs.length > 0\n                          \"\n                        >\n                          <div class=\"p-4 bg-blue-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"group\" size=\"small\" color=\"primary\" />\n                              <span class=\"font-semibold text-base\">Companion Hunter</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-primary\">\n                              ${{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per companion</div>\n                          </div>\n                        </template>\n                        <template\n                          v-if=\"form.priceListId.selfItem.observer && form.priceListId.selfItem.observer.length > 0\"\n                        >\n                          <div class=\"p-4 bg-green-50 rounded-lg\">\n                            <div class=\"flex items-center gap-2 mb-2\">\n                              <VaIcon name=\"visibility\" size=\"small\" color=\"success\" />\n                              <span class=\"font-semibold text-base\">Observer</span>\n                            </div>\n                            <div class=\"text-2xl font-bold text-success\">\n                              ${{ form.priceListId.selfItem.observer[0].amount }}\n                            </div>\n                            <div class=\"text-xs text-gray-600 mt-1\">per observer</div>\n                          </div>\n                        </template>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </div>\n            </div>\n            <!-- End of Step 3 -->\n\n            <!-- Step 4: Hunt Party Details -->\n            <div v-show=\"currentStep === 3\" class=\"animate-fade-in\">\n              <!-- Participants and Hunting Days Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Party Details</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Party Composition</template>\n                  Specify the number of participants and hunting details for this safari.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <VaInput\n                    v-model=\"form.no_of_days\"\n                    label=\"Number of Hunting Days\"\n                    placeholder=\"Enter Number of Days\"\n                    type=\"number\"\n                    :rules=\"[(v: any) => v || 'Number of days is required']\"\n                    required\n                  />\n                  <VaSelect\n                    v-model=\"form.area\"\n                    placeholder=\"Select Area\"\n                    label=\"Hunting Area\"\n                    :rules=\"[(v: any) => v || 'Hunting area is required']\"\n                    :options=\"areasOptions\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n\n                <!-- Companion and Observer Cost Cards -->\n                <div v-if=\"form.priceListId?.selfItem\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <!-- Companion Hunter Cost -->\n                  <VaCard\n                    v-if=\"form.priceListId.selfItem.companion_hunter_costs?.length > 0\"\n                    outlined\n                    class=\"bg-blue-50\"\n                  >\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"group\" color=\"primary\" />\n                        <span class=\"font-semibold\">Companion Hunter Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-primary\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per companion hunter</div>\n                    </VaCardContent>\n                  </VaCard>\n\n                  <!-- Observer Cost -->\n                  <VaCard v-if=\"form.priceListId.selfItem.observer?.length > 0\" outlined class=\"bg-green-50\">\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"visibility\" color=\"success\" />\n                        <span class=\"font-semibold\">Observer Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-success\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.observer[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per observer</div>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <!-- No package selected message -->\n                <VaAlert v-if=\"!form.priceListId?.selfItem\" color=\"secondary\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Package Selected</template>\n                  Select a reference package in the previous step to see companion and observer rates.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaInput\n                    v-model=\"form.no_of_observers\"\n                    label=\"Number of Observers (Optional)\"\n                    placeholder=\"Enter Number of Observers\"\n                    type=\"number\"\n                  />\n                  <VaInput\n                    v-model=\"form.no_of_companions\"\n                    label=\"Number of Companions (Optional)\"\n                    placeholder=\"Enter Number of Companions\"\n                    type=\"number\"\n                  />\n                </div>\n\n                <!-- Calculated Cost Summary -->\n              </div>\n            </div>\n            <!-- End of Step 4 -->\n\n            <!-- Step 5: Review & Submit -->\n            <div v-show=\"currentStep === 4\" class=\"animate-fade-in\">\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"fact_check\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Review Your Enquiry</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Please Review</template>\n                  Review all the information below before submitting your enquiry.\n                </VaAlert>\n\n                <!-- Customer Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"person\" size=\"small\" color=\"primary\" />\n                    Customer Information\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Full Name:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.full_name || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Country:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.country?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Nationality:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.nationality?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Email:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.email || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Address:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.address || 'N/A' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Species Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"pets\" size=\"small\" color=\"primary\" />\n                    Selected Species ({{ speciesObjects.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div v-if=\"speciesObjects.length > 0\" class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"(s, index) in speciesObjects\"\n                        :key=\"index\"\n                        :text=\"`${s.name} (x${s.quantity})`\"\n                        color=\"primary\"\n                      />\n                    </div>\n                    <span v-else class=\"text-gray-500\">No species selected</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Hunt Details Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"groups\" size=\"small\" color=\"primary\" />\n                    Hunt Details\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Area:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.area?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Number of Days:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_days || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Observers:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_observers || 0 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Companions:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_companions || 0 }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Schedule Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"event\" size=\"small\" color=\"primary\" />\n                    Schedule\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Season:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.season?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Preferred Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.preferred_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Start Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.start_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">End Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.end_date) }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Package Reference if selected -->\n                <VaCard v-if=\"form.priceListId\" outlined class=\"mb-4 bg-blue-50\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"inventory_2\" size=\"small\" color=\"info\" />\n                    Reference Package\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <span class=\"font-medium\">{{ form.priceListId?.text || 'N/A' }}</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Summary -->\n                <VaCard v-if=\"selectedSafariExtras.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"hiking\" size=\"small\" color=\"primary\" />\n                    Safari Extras ({{ selectedSafariExtras.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"extra in selectedSafariExtras\"\n                        :key=\"extra.id\"\n                        :text=\"`${extra.name} - ${extra.currency?.symbol || '$'}${extra.amount}`\"\n                        color=\"success\"\n                      />\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 5 -->\n          </VaForm>\n\n          <VaDivider class=\"my-6\" />\n\n          <!-- Wizard Navigation Buttons -->\n          <div class=\"flex justify-between gap-3 p-4\">\n            <div>\n              <VaButton v-if=\"currentStep > 0\" preset=\"secondary\" icon=\"arrow_back\" @click=\"previousStep\">\n                Previous\n              </VaButton>\n            </div>\n            <div class=\"flex gap-3\">\n              <VaButton preset=\"secondary\" @click=\"handleGoBack\"> Cancel </VaButton>\n              <VaButton\n                v-if=\"currentStep < wizardSteps.length - 1\"\n                color=\"primary\"\n                icon-right=\"arrow_forward\"\n                :disabled=\"!canProceedToNextStep\"\n                :aria-disabled=\"!canProceedToNextStep\"\n                :class=\"{ 'opacity-60 pointer-events-none': !canProceedToNextStep }\"\n                @click=\"nextStep\"\n              >\n                Next\n              </VaButton>\n              <VaButton\n                v-else\n                :loading=\"saving\"\n                icon=\"save\"\n                color=\"success\"\n                :disabled=\"!isValidForm\"\n                @click=\"validateForm() && submit()\"\n              >\n                {{ isEditMode ? 'Update Enquiry' : 'Submit Enquiry' }}\n              </VaButton>\n            </div>\n          </div>\n        </div>\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n\n      // Season date range constraints\n      seasonMinDate: null as Date | null,\n      seasonMaxDate: null as Date | null,\n\n      // Edit mode\n      isEditMode: false,\n      editingInquiryId: null as number | null,\n\n      // Customer selection\n      customerType: 'new' as 'new' | 'existing',\n      selectedExistingCustomer: null as any,\n      existingCustomersOptions: [] as any,\n      loadingCustomers: false,\n\n      // Wizard steps\n      currentStep: 0,\n      wizardSteps: [\n        { label: 'Customer Info' },\n        { label: 'Dates & Season' },\n        { label: 'Package Selection' },\n        { label: 'Hunt Party' },\n        { label: 'Review' },\n      ],\n\n      // Safari extras selected by the client\n      selectedSafariExtras: [] as any[],\n\n      // Booked dates (confirmed hunts)\n      bookedDates: [] as { start_date: string; end_date: string; client_name: string; area_id: number }[],\n      loadingBookedDates: false,\n      dateConflictWarning: '' as string,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n\n    // Get booked dates for the currently selected season\n    bookedDatesForSelectedSeason(): { start_date: string; end_date: string; client_name: string; area_id: number }[] {\n      return this.bookedDates\n    },\n\n    // Validation for each wizard step\n    canProceedToNextStep(): boolean {\n      const hasInput = (value: any) => {\n        if (typeof value === 'string') {\n          return value.trim().length > 0\n        }\n        return !!value\n      }\n\n      switch (this.currentStep) {\n        case 0: // Customer Info\n          return (\n            hasInput(this.form.full_name) &&\n            hasInput(this.form.country) &&\n            hasInput(this.form.nationality) &&\n            hasInput(this.form.email) &&\n            hasInput(this.form.phone) &&\n            hasInput(this.form.address) &&\n            (this.customerType === 'existing' ? hasInput(this.selectedExistingCustomer) : true)\n          )\n        case 1: // Dates & Season\n          return (\n            hasInput(this.form.season) &&\n            hasInput(this.form.preferred_date) &&\n            hasInput(this.form.start_date) &&\n            hasInput(this.form.end_date)\n          )\n        case 2: // Package & Species\n          return this.speciesObjects.length > 0\n        case 3: // Hunt Party Details\n          return hasInput(this.form.area) && !!(this.form.no_of_days && this.form.no_of_days > 0)\n        case 4: // Review\n          return true\n        default:\n          return false\n      }\n    },\n\n    // Filtered packages based on selected season\n    filteredPackagesOptions(): any[] {\n      if (!this.form.season?.value) {\n        return []\n      }\n\n      const selectedSeasonId = this.form.season.value\n      return this.packagesOptions.filter((pkg: any) => {\n        // Check if package belongs to the selected season\n        const pkgSeasonId = pkg.selfItem?.season_id || pkg.selfItem?.price_list_type?.price_list?.season_id\n        return pkgSeasonId === selectedSeasonId\n      })\n    },\n\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n    // Get the month (0-11) of the season start date for calendar view\n    seasonStartMonth(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getMonth()\n      }\n      return new Date().getMonth()\n    },\n    // Get the year of the season start date for calendar view\n    seasonStartYear(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getFullYear()\n      }\n      return new Date().getFullYear()\n    },\n  },\n\n  watch: {\n    customerType(newType: 'new' | 'existing') {\n      if (newType === 'new') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      } else if (newType === 'existing') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      }\n    },\n    selectedExistingCustomer(newValue: any) {\n      if (!newValue && this.customerType === 'existing') {\n        this.clearCustomerInformation()\n      }\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n    this.getExistingCustomers()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry', 'updateSalesInquiry', 'getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async getExistingCustomers() {\n      this.loadingCustomers = true\n      try {\n        // Fetch all sales inquiries to get unique customers\n        const response: any = await this.getSalesInquiries('', '')\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          // Create a map to store unique customers by entity ID\n          const customersMap = new Map()\n\n          dataArray.forEach((item: any) => {\n            const entity = item.entity\n            if (entity && entity.id && !customersMap.has(entity.id)) {\n              // Get contact info\n              let email = ''\n              let phone = ''\n              let address = ''\n\n              if (entity.contacts && Array.isArray(entity.contacts)) {\n                entity.contacts.forEach((contact: any) => {\n                  if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n                    email = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n                    phone = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n                    address = contact.contact || ''\n                  }\n                })\n              }\n\n              customersMap.set(entity.id, {\n                value: entity.id,\n                text: entity.full_name,\n                selfItem: {\n                  id: entity.id,\n                  full_name: entity.full_name,\n                  country: entity.country?.name || entity.country_name || '',\n                  country_id: entity.country?.id || entity.country_id,\n                  nationality: entity.nationality?.name || entity.nationality_name || '',\n                  nationality_id: entity.nationality?.id || entity.nationality_id,\n                  email: email,\n                  phone: phone,\n                  address: address,\n                },\n              })\n            }\n          })\n\n          this.existingCustomersOptions = Array.from(customersMap.values())\n        }\n      } catch (error) {\n        console.error('Error fetching existing customers:', error)\n      } finally {\n        this.loadingCustomers = false\n      }\n    },\n\n    populateFormFromCustomer(selectedCustomer: any) {\n      if (this.customerType !== 'existing') {\n        return\n      }\n\n      if (!selectedCustomer || !selectedCustomer.selfItem) {\n        // Clear form if no customer selected\n        this.clearCustomerInformation()\n        return\n      }\n\n      const customer = selectedCustomer.selfItem\n\n      // Populate basic information\n      this.form.full_name = customer.full_name || ''\n\n      // Find and set country\n      if (customer.country_id) {\n        const countryOption = this.countries.find((c: any) => c.value === customer.country_id)\n        if (countryOption) this.form.country = countryOption\n      } else if (customer.country) {\n        const countryOption = this.countries.find((c: any) => c.text === customer.country)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      if (customer.nationality_id) {\n        const nationalityOption = this.nationality.find((n: any) => n.value === customer.nationality_id)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      } else if (customer.nationality) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === customer.nationality)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Populate contact information\n      this.form.email = customer.email || ''\n      this.form.phone = customer.phone || ''\n      this.form.address = customer.address || ''\n\n      this.init({\n        message: `Customer \"${customer.full_name}\" information loaded successfully`,\n        color: 'success',\n      })\n    },\n\n    clearCustomerInformation() {\n      this.form.full_name = ''\n      this.form.country = null\n      this.form.nationality = null\n      this.form.email = ''\n      this.form.phone = ''\n      this.form.address = ''\n    },\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate species - at least one species should be selected\n      if (this.speciesObjects.length === 0) {\n        this.init({\n          message: 'Please add at least one species.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate area and season\n      if (!this.form.area) {\n        this.init({\n          message: 'Please select a hunting area.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.season) {\n        this.init({\n          message: 'Please select a season.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.no_of_days || this.form.no_of_days <= 0) {\n        this.init({\n          message: 'Please enter the number of days.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        no_of_hunters: this.form.no_of_hunters || 1,\n        no_of_days: this.form.no_of_days,\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Preferences\n        preferences: preferences,\n\n        // Species data (user can always edit)\n        species: this.speciesObjects,\n\n        // Area and Season\n        area_id: this.form.area?.value,\n        season_id: this.form.season?.value,\n\n        // Safari extras selected by the client\n        safari_extras: this.selectedSafariExtras.map((extra: any) => ({\n          safari_extras_id: extra.safari_extras_id || extra.id,\n        })),\n      }\n\n      // Include reference price_list_id if a package was selected as reference\n      if (this.form.priceListId?.value) {\n        requestdata.reference_price_list_id = this.form.priceListId.value\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        let response: any\n\n        if (this.isEditMode && this.editingInquiryId) {\n          // Update existing inquiry\n          response = await this.updateSalesInquiry(this.editingInquiryId, requestdata)\n\n          if (response.status === 200) {\n            this.saving = false\n            this.init({ message: 'Sales inquiry updated successfully', color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.isEditMode = false\n            this.editingInquiryId = null\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n            this.showAddSalesInquiriesForm = false\n          }\n        } else {\n          // Create new inquiry\n          response = await this.createSalesInquiry(requestdata)\n\n          if (response.status === 201) {\n            this.saving = false\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n          }\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error saving sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    resetEditMode() {\n      this.isEditMode = false\n      this.editingInquiryId = null\n      this.speciesObjects = []\n      this.selectedSafariExtras = []\n      this.customerType = 'new'\n      this.selectedExistingCustomer = null\n      this.currentStep = 0\n    },\n\n    handleGoBack() {\n      this.resetEditMode()\n      this.currentStep = 0\n      this.gotBack()\n    },\n\n    // Wizard navigation methods\n    nextStep() {\n      if (this.currentStep < this.wizardSteps.length - 1 && this.canProceedToNextStep) {\n        this.currentStep++\n      } else if (!this.canProceedToNextStep) {\n        this.showStepValidationError()\n      }\n    },\n\n    previousStep() {\n      if (this.currentStep > 0) {\n        this.currentStep--\n      }\n    },\n\n    goToStep(stepIndex: number) {\n      // Only allow going to previous steps or current step\n      if (stepIndex <= this.currentStep) {\n        this.currentStep = stepIndex\n      }\n    },\n\n    showStepValidationError() {\n      const stepMessages: { [key: number]: string } = {\n        0: 'Please fill in all customer information fields (Name, Country, Nationality, Email, Phone, Address).',\n        1: 'Please add at least one species.',\n        2: 'Please select a hunting area and enter the number of days.',\n        3: 'Please select a season and all required dates.',\n      }\n      this.init({\n        message: stepMessages[this.currentStep] || 'Please complete all required fields.',\n        color: 'warning',\n      })\n    },\n\n    formatReviewDate(date: any): string {\n      if (!date) return 'N/A'\n      try {\n        const d = new Date(date)\n        if (isNaN(d.getTime())) return 'N/A'\n        return d.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n        })\n      } catch {\n        return 'N/A'\n      }\n    },\n\n    getSpeciesNameById(speciesId: number): string | null {\n      if (!speciesId) return null\n      const species = this.speciesOptions.find((s: any) => s.value === speciesId)\n      return species ? species.text : null\n    },\n\n    editInquiry(rowData: any) {\n      // Set edit mode\n      this.isEditMode = true\n      this.editingInquiryId = rowData.id\n\n      // Show the form\n      this.showAddSalesInquiriesForm = true\n\n      // Populate form with existing data\n      const item = rowData.selfitem || rowData\n\n      // Basic Information\n      this.form.full_name = item.entity?.full_name || rowData.name || ''\n\n      // Find and set country\n      const countryName = item.entity?.country?.name || item.entity?.country_name\n      if (countryName) {\n        const countryOption = this.countries.find((c: any) => c.text === countryName)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      const nationalityName = item.entity?.nationality?.name || item.entity?.nationality_name\n      if (nationalityName) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === nationalityName)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Contact Information from entity contacts\n      if (item.entity?.contacts && Array.isArray(item.entity.contacts)) {\n        item.entity.contacts.forEach((contact: any) => {\n          if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n            this.form.email = contact.contact || ''\n          } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n            this.form.phone = contact.contact || ''\n          } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n            this.form.address = contact.contact || ''\n          }\n        })\n      }\n\n      // Preferences\n      const prefs = item.formatted_preferences || rowData.preference || {}\n      this.form.no_of_hunters = prefs.no_of_hunters || 1\n      this.form.no_of_observers = prefs.no_of_observers || 0\n      this.form.no_of_days = prefs.no_of_days || 0\n      this.form.no_of_companions = prefs.no_of_companions || 0\n\n      // Dates\n      if (prefs.preferred_date) this.form.preferred_date = new Date(prefs.preferred_date)\n      if (prefs.start_date) this.form.start_date = new Date(prefs.start_date)\n      if (prefs.end_date) this.form.end_date = new Date(prefs.end_date)\n\n      // Area\n      const areaName = item.inquiry_areas?.[0]?.area?.name || rowData.area\n      if (areaName) {\n        const areaOption = this.areasOptions.find((a: any) => a.text === areaName)\n        if (areaOption) this.form.area = areaOption\n      }\n\n      // Season\n      if (item.season) {\n        const seasonOption = this.seasonsOptions.find(\n          (s: any) => s.value === item.season.id || s.text === item.season.name,\n        )\n        if (seasonOption) this.form.season = seasonOption\n      }\n\n      // Reference Price List\n      if (item.reference_price_list) {\n        const priceListOption = this.packagesOptions.find((p: any) => p.value === item.reference_price_list.id)\n        if (priceListOption) this.form.priceListId = priceListOption\n      }\n\n      // Species\n      this.speciesObjects = []\n      const speciesArray = item.inquiry_species || rowData.inquiry_species || []\n      console.log('Species array from API:', JSON.stringify(speciesArray, null, 2))\n      speciesArray.forEach((speciesItem: any) => {\n        // Try multiple paths to get the species name\n        const speciesName =\n          speciesItem.species_name ||\n          speciesItem.species?.name ||\n          speciesItem.name ||\n          this.getSpeciesNameById(speciesItem.species_id) ||\n          'Unknown'\n        this.speciesObjects.push({\n          species_id: speciesItem.species_id || speciesItem.species?.id || speciesItem.id,\n          name: speciesName,\n          quantity: speciesItem.quantity || 1,\n          fromPackage: false,\n        })\n      })\n\n      // Safari Extras - load from sales_confirmation_safary_extras\n      this.selectedSafariExtras = []\n      const safariExtrasArray = item.safari_extras || item.sales_confirmation_safari_extras || []\n      console.log('Safari extras from API:', JSON.stringify(safariExtrasArray, null, 2))\n      safariExtrasArray.forEach((extraItem: any) => {\n        // Handle both nested and flat structures\n        const extra = extraItem.safari_extra || extraItem.safary_extra || extraItem\n        this.selectedSafariExtras.push({\n          id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          safari_extras_id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          name: extra.name || 'Unknown',\n          description: extra.description || '',\n          amount: extra.amount || 0,\n          charges_per: extra.charges_per || '',\n          currency: extra.currency,\n        })\n      })\n\n      this.init({\n        message: 'Loaded inquiry data for editing',\n        color: 'info',\n      })\n    },\n\n    async downloadAllInquiriesPdf() {\n      try {\n        const response = await axios.get(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n\n        if (response.data.success && response.data.pdf) {\n          // Decode base64 PDF and download\n          const pdfData = response.data.pdf\n          const byteCharacters = atob(pdfData)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `sales-inquiries-${new Date().toISOString().split('T')[0]}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.init({\n            message: `PDF downloaded successfully. Total records: ${response.data.total_records}`,\n            color: 'success',\n          })\n        } else {\n          this.init({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.init({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n          fromPackage: false,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    removeSafariExtra(index: number) {\n      const removed = this.selectedSafariExtras.splice(index, 1)\n      if (removed.length > 0) {\n        this.init({\n          message: `Removed \"${removed[0].name}\" from safari extras`,\n          color: 'info',\n        })\n      }\n    },\n\n    incrementQuantity(index: number) {\n      if (this.speciesObjects[index]) {\n        this.speciesObjects[index].quantity++\n      }\n    },\n\n    decrementQuantity(index: number) {\n      if (this.speciesObjects[index] && this.speciesObjects[index].quantity > 1) {\n        this.speciesObjects[index].quantity--\n      }\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: any) => {\n          return {\n            value: item.id,\n            text: item.name,\n            selfItem: item, // Include full item data for date range access\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Called when user selects a season - sets date constraints and fetches booked dates\n    async onSeasonSelected(selectedSeason: any) {\n      // Reset date conflict warning\n      this.dateConflictWarning = ''\n\n      // Clear previously selected dates when season changes\n      this.form.preferred_date = null\n      this.form.start_date = null\n      this.form.end_date = null\n\n      if (!selectedSeason || !selectedSeason.selfItem) {\n        this.seasonMinDate = null\n        this.seasonMaxDate = null\n        this.bookedDates = []\n        return\n      }\n\n      const seasonData = selectedSeason.selfItem\n\n      // Set the date range constraints for the calendar from season dates\n      if (seasonData.start_date) {\n        this.seasonMinDate = new Date(seasonData.start_date)\n      }\n      if (seasonData.end_date) {\n        this.seasonMaxDate = new Date(seasonData.end_date)\n      }\n\n      // Fetch booked dates for this season\n      await this.fetchBookedDates(selectedSeason.value)\n    },\n\n    // Fetch confirmed/booked hunt dates for the selected season using the dedicated API\n    async fetchBookedDates(seasonId: number, areaId?: number) {\n      this.loadingBookedDates = true\n      this.bookedDates = []\n\n      try {\n        // Build query params\n        const params = new URLSearchParams()\n        if (seasonId) params.append('season_id', seasonId.toString())\n        if (areaId) params.append('area_id', areaId.toString())\n\n        const queryString = params.toString() ? `?${params.toString()}` : ''\n        const response = await axios.get(`/sales/booked-dates${queryString}`)\n\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          this.bookedDates = dataArray.map((item: any) => ({\n            start_date: item.start_date,\n            end_date: item.end_date,\n            client_name: item.client_name || item.entity?.full_name || 'Unknown Client',\n            area_id: item.area_id,\n          }))\n        }\n      } catch (error) {\n        console.error('Error fetching booked dates:', error)\n      } finally {\n        this.loadingBookedDates = false\n      }\n    },\n\n    // Check if selected date conflicts with booked dates\n    checkBookedDateConflict() {\n      this.dateConflictWarning = ''\n\n      const selectedStart = this.form.start_date ? new Date(this.form.start_date) : null\n      const selectedEnd = this.form.end_date ? new Date(this.form.end_date) : null\n      const preferredDate = this.form.preferred_date ? new Date(this.form.preferred_date) : null\n\n      if (!selectedStart && !selectedEnd && !preferredDate) {\n        return\n      }\n\n      // Check each booked date range for conflicts\n      for (const booking of this.bookedDates) {\n        const bookedStart = new Date(booking.start_date)\n        const bookedEnd = new Date(booking.end_date)\n\n        bookedStart.setHours(0, 0, 0, 0)\n        bookedEnd.setHours(23, 59, 59, 999)\n\n        // Check if any of the selected dates fall within a booked range\n        const checkDate = (date: Date | null) => {\n          if (!date) return false\n          const d = new Date(date)\n          d.setHours(12, 0, 0, 0)\n          return d >= bookedStart && d <= bookedEnd\n        }\n\n        // Check if date ranges overlap\n        const rangesOverlap = (start: Date | null, end: Date | null) => {\n          if (!start || !end) return false\n          const s = new Date(start)\n          const e = new Date(end)\n          s.setHours(0, 0, 0, 0)\n          e.setHours(23, 59, 59, 999)\n\n          // Ranges overlap if one starts before the other ends\n          return s <= bookedEnd && e >= bookedStart\n        }\n\n        if (\n          checkDate(preferredDate) ||\n          checkDate(selectedStart) ||\n          checkDate(selectedEnd) ||\n          rangesOverlap(selectedStart, selectedEnd)\n        ) {\n          const startStr = new Date(booking.start_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          const endStr = new Date(booking.end_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          this.dateConflictWarning = `The selected dates overlap with a confirmed hunt for \"${booking.client_name}\" (${startStr} - ${endStr}). Please inform the client that this time slot may not be available.`\n          return\n        }\n      }\n    },\n\n    // Format booking date range for display\n    formatBookingDateRange(booking: { start_date: string; end_date: string }) {\n      const start = new Date(booking.start_date)\n      const end = new Date(booking.end_date)\n      const options: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric' }\n\n      if (start.getFullYear() !== end.getFullYear()) {\n        return `${start.toLocaleDateString('en-US', { ...options, year: 'numeric' })} - ${end.toLocaleDateString(\n          'en-US',\n          { ...options, year: 'numeric' },\n        )}`\n      }\n\n      return `${start.toLocaleDateString('en-US', options)} - ${end.toLocaleDateString('en-US', options)}`\n    },\n\n    // Calculate additional cost for companions and observers\n    calculateAdditionalCost(): number {\n      let total = 0\n      const priceListData = this.form.priceListId?.selfItem\n\n      if (!priceListData) return 0\n\n      // Add companion hunter costs\n      if (this.form.no_of_companions > 0 && priceListData.companion_hunter_costs?.length > 0) {\n        total += this.form.no_of_companions * priceListData.companion_hunter_costs[0].amount\n      }\n\n      // Add observer costs\n      if (this.form.no_of_observers > 0 && priceListData.observer?.length > 0) {\n        total += this.form.no_of_observers * priceListData.observer[0].amount\n      }\n\n      return total\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: `${item.package_name || `Package ${item.id}`} - ${item.hunting_type || 'N/A'} (${\n            item.season_name || 'No Season'\n          })`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateFormFromPackage() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data (all fields are editable)\n          // Set hunting area\n          if (priceListData.sales_package?.area?.name) {\n            const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n            if (areaOption) {\n              this.form.area = areaOption\n            }\n          }\n\n          // Set duration (number of days)\n          if (priceListData.price_list_type?.duration) {\n            this.form.no_of_days = priceListData.price_list_type.duration\n          }\n\n          // Set season date range from price list and populate season dropdown\n          if (priceListData.price_list_type?.price_list) {\n            const priceList = priceListData.price_list_type.price_list\n\n            // Set the date range constraints for the calendar\n            if (priceList.start_date) {\n              this.seasonMinDate = new Date(priceList.start_date)\n            }\n            if (priceList.end_date) {\n              this.seasonMaxDate = new Date(priceList.end_date)\n            }\n\n            // Create a season display based on the price list dates\n            const startDate = new Date(priceList.start_date)\n            const endDate = new Date(priceList.end_date)\n            const seasonName = `${startDate.toLocaleDateString('en-US', {\n              month: 'short',\n              year: 'numeric',\n            })} - ${endDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}`\n\n            // Get the actual season_id from the API response\n            const seasonId = priceListData.season_id\n\n            // Try to find matching season in options\n            let seasonOption = this.seasonsOptions.find((s: any) => {\n              if (s.selfItem?.start_date) {\n                const seasonStart = new Date(s.selfItem.start_date)\n                return seasonStart.getFullYear() === startDate.getFullYear()\n              }\n              return false\n            })\n\n            // If no match found, create a temporary option for display with actual ID\n            if (!seasonOption) {\n              seasonOption = {\n                value: seasonId,\n                text: seasonName,\n                selfItem: {\n                  start_date: priceList.start_date,\n                  end_date: priceList.end_date,\n                },\n              }\n              // Add to options so it can be displayed\n              this.seasonsOptions.push(seasonOption)\n            }\n\n            this.form.season = seasonOption\n\n            // Pre-populate dates with season start date so calendar opens at the correct month\n            if (priceList.start_date) {\n              const seasonStartDate = new Date(priceList.start_date)\n              this.form.preferred_date = seasonStartDate\n              this.form.start_date = seasonStartDate\n              this.form.end_date = seasonStartDate\n            }\n          }\n\n          // Extract species from sales_package.species and add to speciesObjects for editing\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            // Clear existing species and populate from package\n            // Use species_id from the pivot table, or species.id from the nested object\n            console.log('Raw species data:', JSON.stringify(priceListData.sales_package.species, null, 2))\n            this.speciesObjects = priceListData.sales_package.species.map((item: any) => {\n              // Try multiple ways to get the species ID\n              const speciesId = item.species_id || item.species?.id || item.id\n              console.log('Species item:', item, 'Using species_id:', speciesId)\n              return {\n                species_id: speciesId,\n                name: item.species?.name || item.name || 'Unknown',\n                quantity: item.quantity || 0,\n                fromPackage: true,\n              }\n            })\n\n            // Also update store for display purposes\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species_id || item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', this.speciesObjects)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package. You can now customize all fields.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n\n          // Extract safari extras from the price list and add to selectedSafariExtras for editing\n          if (priceListData.safari_extras && Array.isArray(priceListData.safari_extras)) {\n            this.selectedSafariExtras = priceListData.safari_extras.map((extra: any) => ({\n              id: extra.id,\n              safari_extras_id: extra.id,\n              name: extra.name,\n              description: extra.description || '',\n              amount: extra.amount,\n              charges_per: extra.charges_per,\n              currency: extra.currency,\n            }))\n            console.log('Populated safari extras:', this.selectedSafariExtras)\n          } else {\n            this.selectedSafariExtras = []\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    // Function to check if date is allowed (for VaDateInput allowed-days prop)\n    checkDateAllowed(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      let isAllowed = true\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          isAllowed = false\n        }\n      }\n\n      if (this.seasonMaxDate && isAllowed) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          isAllowed = false\n        }\n      }\n\n      return isAllowed\n    },\n\n    // Check if a date is within the season date range\n    isDateInSeasonRange(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          return false\n        }\n      }\n\n      if (this.seasonMaxDate) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n\n<style scoped>\n.sales-inquiry-wizard :deep(.va-input-wrapper__inner),\n.sales-inquiry-wizard :deep(.va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input__anchor) {\n  border: 1px solid var(--va-backgroundBorder, #d1d5db);\n  border-radius: 10px;\n  background-color: #fff;\n  transition:\n    border-color 0.2s ease,\n    box-shadow 0.2s ease;\n}\n\n.sales-inquiry-wizard :deep(.va-input-wrapper:focus-within .va-input-wrapper__inner),\n.sales-inquiry-wizard :deep(.va-select:focus-within .va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input:focus-within .va-date-input__anchor) {\n  border-color: var(--va-primary);\n  box-shadow: 0 0 0 2px rgba(64, 122, 214, 0.12);\n}\n\n.sales-inquiry-wizard :deep(.va-input-wrapper__inner:hover),\n.sales-inquiry-wizard :deep(.va-select__anchor:hover),\n.sales-inquiry-wizard :deep(.va-date-input__anchor:hover) {\n  border-color: var(--va-primary);\n}\n\n.sales-inquiry-wizard :deep(.va-select__anchor),\n.sales-inquiry-wizard :deep(.va-date-input__anchor) {\n  min-height: 48px;\n}\n\n.sales-inquiry-wizard :deep(.va-counter__input) {\n  border: 1px solid transparent;\n}\n\n.sales-inquiry-wizard :deep(.va-counter:focus-within .va-counter__input) {\n  border-color: var(--va-primary);\n  box-shadow: 0 0 0 2px rgba(64, 122, 214, 0.12);\n}\n</style>\n"],"names":["_sfc_main$2","defineComponent","notify","useToast","ref","mapActions","useSalesInquiriesStore","useSettingsStore","dateString","date","response","_a","dataArray","item","speciesCount","_b","refPriceList","priceListData","_e","_d","_c","amount","currencySymbol","_f","areaName","_h","_g","_k","_j","_i","huntingType","_l","_m","_n","_o","_p","_r","_q","_s","_u","_t","_v","_w","_x","_y","_z","_A","_B","_C","_D","_E","_F","error","rowData","pdfUrl","inquiryId","data","byteCharacters","byteNumbers","i","byteArray","blob","url","link","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_VaSelect","_ctx","_cache","$event","_component_VaDateInput","_component_VaInput","_component_VaDataTable","_withCtx","_toDisplayString","_component_VaIcon","_component_VaBadge","_component_VaButton","_component_VaPagination","_component_VaModal","_createTextVNode","_sfc_main$1","mapState","contactType","arr","str","fallback","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_component_VaCard","_component_VaCardContent","_component_VaChip","_component_VaCardTitle","_component_VaDivider","_renderList","contact","index","_createBlock","_createCommentVNode","_hoisted_29","area","species","s","observer","companion","extra","acc","charter","_sfc_main","Salesinquirieslist","VaForm","VaInput","VaSelect","VaButton","SalesInquiryDetails","formRef","contactFormRef","showAddSalesInquiriesForm","btnIcon","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isValidContactForm","validateContactForm","resetValidationContactForm","resetContactForm","init","showDetailsPage","form","reactive","contactForm","toggleAddSalesInquiriesForm","gotBack","countries","nationality","categoryOptions","contactsTypes","clients","step","getCountries","config","axios","country","getCategories","category","getNationalities","getContactTypes","contactFieldType","computed","contact_field_type","onMounted","validators","downloadPdf","hasInput","value","selectedSeasonId","pkg","newType","newValue","useQuotaStore","usePriceListStore","customersMap","entity","email","phone","address","selectedCustomer","customer","countryOption","c","nationalityOption","n","entityData","contacts","preferences","requestdata","errors","handleErrors","stepIndex","stepMessages","d","speciesId","countryName","nationalityName","prefs","areaOption","a","seasonOption","priceListOption","p","speciesArray","speciesItem","speciesName","safariExtrasArray","extraItem","pdfData","removed","selectedSeason","seasonData","seasonId","areaId","params","queryString","selectedStart","selectedEnd","preferredDate","booking","bookedStart","bookedEnd","checkDate","rangesOverlap","start","end","e","startStr","endStr","options","total","settingsStore","priceList","startDate","endDate","seasonName","seasonStartDate","speciesList","id","updatedItem","isAllowed","minDate","maxDate","startFormatted","endFormatted","chargesPer","sequence","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_70","_hoisted_71","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_component_SalesInquiryDetails","_component_VaStepper","_component_VaForm","_withDirectives","_component_VaAlert","_component_VaRadio","v","fee","_component_VaCounter","_component_VaList","_component_VaListItem","_component_VaListItemSection","_component_VaListItemLabel","_hoisted_69","_hoisted_72","_hoisted_79","_hoisted_95","_hoisted_96","_normalizeClass","_component_Salesinquirieslist"],"mappings":"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"}