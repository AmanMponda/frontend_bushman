{"version":3,"file":"SafariExtrasForm-DHLRdedh.js","sources":["../../src/pages/module-settings/components/SafariExtrasForm.vue","../../src/pages/module-settings/components/SafariExtrasForm.vue"],"sourcesContent":["<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        type=\"text\"\n        placeholder=\"Service name\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Service name\"\n      />\n      <VaInput\n        v-model=\"form.amount\"\n        type=\"number\"\n        placeholder=\"Amount\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Amount\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        type=\"text\"\n        placeholder=\"Currency\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"currenciesOptions\"\n        label=\"Currency\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"seasonsOptions\"\n        label=\"Service\"\n      />\n      <VaSelect\n        v-model=\"form.charges_per\"\n        :options=\"chargesPerOptions\"\n        type=\"number\"\n        placeholder=\"Charges per\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Charges per\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaTextarea\n        v-model=\"form.description\"\n        type=\"text\"\n        placeholder=\"Description\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Description\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    icon=\"save\"\n    :loading=\"savingSafariExtra\"\n    :disabled=\"!isValidForm || savingSafariExtra\"\n    @click=\"submitSelectedItems()\"\n  >\n    Save\n  </VaButton>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\n// import { useAccountsStore } from '../../stores/account-store'\n// import { useSalesInquiriesStore } from '../../stores/sales-store'\n// import handleErrors from '../../utils/errorHandler'\n\nexport default defineComponent({\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      charges_per: null as any,\n      description: '',\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'name',\n        label: 'Service name',\n        sortable: true,\n      },\n      {\n        key: 'amount',\n        label: 'Amount',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n\n    const chargesPerOptions = [\n      { value: 'PER_HOUR', text: 'PER HOUR' },\n      { value: 'PER_DAY', text: 'PER DAY' },\n      { value: 'PER_PERSON', text: 'PER PERSON' },\n      { value: 'PER_ROUND', text: 'PER ROUND' },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n      chargesPerOptions,\n      seasonsOptions: [],\n      currenciesOptions: [],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['savingSafariExtra']),\n  },\n  mounted() {\n    this.getSeasonList()\n    this.getCurrencyList()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSeasons', 'getCurrencies', 'createSafariExtras']),\n\n    async submitSelectedItems() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        charges_per: this.form.charges_per.value,\n        description: this.form.description,\n      }\n      try {\n        const response: any = await this.createSafariExtras(payload)\n        if (response.status === 201) {\n          this.$emit('submitSelectedItemsEvent')\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currenciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        type=\"text\"\n        placeholder=\"Service name\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Service name\"\n      />\n      <VaInput\n        v-model=\"form.amount\"\n        type=\"number\"\n        placeholder=\"Amount\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Amount\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        type=\"text\"\n        placeholder=\"Currency\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"currenciesOptions\"\n        label=\"Currency\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"seasonsOptions\"\n        label=\"Service\"\n      />\n      <VaSelect\n        v-model=\"form.charges_per\"\n        :options=\"chargesPerOptions\"\n        type=\"number\"\n        placeholder=\"Charges per\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Charges per\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaTextarea\n        v-model=\"form.description\"\n        type=\"text\"\n        placeholder=\"Description\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Description\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    icon=\"save\"\n    :loading=\"savingSafariExtra\"\n    :disabled=\"!isValidForm || savingSafariExtra\"\n    @click=\"submitSelectedItems()\"\n  >\n    Save\n  </VaButton>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\n// import { useAccountsStore } from '../../stores/account-store'\n// import { useSalesInquiriesStore } from '../../stores/sales-store'\n// import handleErrors from '../../utils/errorHandler'\n\nexport default defineComponent({\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      charges_per: null as any,\n      description: '',\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'name',\n        label: 'Service name',\n        sortable: true,\n      },\n      {\n        key: 'amount',\n        label: 'Amount',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n\n    const chargesPerOptions = [\n      { value: 'PER_HOUR', text: 'PER HOUR' },\n      { value: 'PER_DAY', text: 'PER DAY' },\n      { value: 'PER_PERSON', text: 'PER PERSON' },\n      { value: 'PER_ROUND', text: 'PER ROUND' },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n      chargesPerOptions,\n      seasonsOptions: [],\n      currenciesOptions: [],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['savingSafariExtra']),\n  },\n  mounted() {\n    this.getSeasonList()\n    this.getCurrencyList()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSeasons', 'getCurrencies', 'createSafariExtras']),\n\n    async submitSelectedItems() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        charges_per: this.form.charges_per.value,\n        description: this.form.description,\n      }\n      try {\n        const response: any = await this.createSafariExtras(payload)\n        if (response.status === 201) {\n          this.$emit('submitSelectedItemsEvent')\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currenciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n"],"names":["_sfc_main","defineComponent","init","useToast","formRef","ref","isValidForm","validateForm","resetValidationForm","resetForm","useForm","form","reactive","mapState","useSettingsStore","mapActions","payload","response","error","errors","handleErrors","index","item","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_Fragment","_createVNode","_component_VaForm","_createElementVNode","_component_VaInput","_ctx","_cache","$event","v","_component_VaSelect","_component_VaTextarea","_component_VaButton","_withCtx","_createTextVNode"],"mappings":"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"}