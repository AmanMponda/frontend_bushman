{"version":3,"file":"SalesConfirmation-BL9QRyrH.js","sources":["../../src/utils/status_color.ts","../../src/pages/client/dashboard/components/CompanionForm.vue","../../src/pages/client/dashboard/components/CompanionForm.vue","../../src/pages/client/dashboard/components/ObserversForm.vue","../../src/pages/client/dashboard/components/ObserversForm.vue","../../src/pages/module-settings/components/SafariExtrasForm.vue","../../src/pages/module-settings/components/SafariExtrasForm.vue","../../src/pages/client/dashboard/components/SalesClientSafariExtrasForm.vue","../../src/pages/client/dashboard/components/SalesClientSafariExtrasForm.vue","../../src/pages/client/dashboard/components/SalesConfirmationClientDetails.vue","../../src/pages/client/dashboard/components/SalesConfirmationClientDetails.vue","../../src/pages/client/dashboard/SalesConfirmation.vue","../../src/pages/client/dashboard/SalesConfirmation.vue"],"sourcesContent":["const getStatusColor = (status: any) => {\n  const statusMapping: any = {\n    pending: 'secondary',\n    provision_sales: 'warning',\n    confirmed: 'success',\n    declined: 'danger',\n    cancelled: 'danger',\n    completed: 'primary',\n  }\n  return statusMapping[status] || 'default'\n}\n\nexport default getStatusColor\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Companion Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <!-- \"charter_in\": request.data.get(\"charter_in\"),\n          \"charter_out\": request.data.get(\"charter_out\"), -->\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n            <!-- arrival_airport\n              -->\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Licence</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.regulatory_package_id\"\n              :options=\"regulatoryPackages\"\n              :rules=\"[(value: any) => value || 'Licence is required']\"\n              placeholder=\"Select Licence\"\n              label=\"Licence\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n  \n            <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n              <VaSelect\n                v-model=\"form.species\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n  \n              <VaCounter\n                v-model=\"form.quantity\"\n                label=\"Quantity\"\n                manual-input\n                :min=\"1\"\n                :max=\"100\"\n                :rules=\"[(v: any) => v || 'Quantity is required']\"\n              />\n  \n              <VaButtonGroup>\n                <VaButton\n                  class=\"px-0 py-0\"\n                  color=\"primary\"\n                  icon=\"add\"\n                  size=\"small\"\n                  round\n                  @click=\"addNewSpeciesItemToStorage()\"\n                />\n              </VaButtonGroup>\n            </div>\n  \n            <div class=\"mt-6\">\n              <VaList>\n                <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                  >Selected Species</VaListLabel\n                >\n                <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                  >No Species Selected</VaListLabel\n                >\n  \n                <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                  <VaListItemSection>\n                    <VaListItemLabel>\n                      Name: {{ s.name }}\n                      <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                    </VaListItemLabel>\n                    <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                  </VaListItemSection>\n                </VaListItem>\n              </VaList>\n            </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      regulatory_package_id: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n      regulatoryPackages: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n    this.getLicencePackages()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'createSalesConfirmationCompanion',\n      'getCompanions',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getSeasons']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        regulatoryPackageId: this.form.regulatory_package_id.value,\n        identityNumber: this.form.id_number,\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n      }\n      try {\n        const response: any = await this.createSalesConfirmationCompanion(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getCompanions(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Companion Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <!-- \"charter_in\": request.data.get(\"charter_in\"),\n          \"charter_out\": request.data.get(\"charter_out\"), -->\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n            <!-- arrival_airport\n              -->\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Licence</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.regulatory_package_id\"\n              :options=\"regulatoryPackages\"\n              :rules=\"[(value: any) => value || 'Licence is required']\"\n              placeholder=\"Select Licence\"\n              label=\"Licence\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n  \n            <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n              <VaSelect\n                v-model=\"form.species\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n              />\n  \n              <VaCounter\n                v-model=\"form.quantity\"\n                label=\"Quantity\"\n                manual-input\n                :min=\"1\"\n                :max=\"100\"\n                :rules=\"[(v: any) => v || 'Quantity is required']\"\n              />\n  \n              <VaButtonGroup>\n                <VaButton\n                  class=\"px-0 py-0\"\n                  color=\"primary\"\n                  icon=\"add\"\n                  size=\"small\"\n                  round\n                  @click=\"addNewSpeciesItemToStorage()\"\n                />\n              </VaButtonGroup>\n            </div>\n  \n            <div class=\"mt-6\">\n              <VaList>\n                <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                  >Selected Species</VaListLabel\n                >\n                <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                  >No Species Selected</VaListLabel\n                >\n  \n                <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                  <VaListItemSection>\n                    <VaListItemLabel>\n                      Name: {{ s.name }}\n                      <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                    </VaListItemLabel>\n                    <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                  </VaListItemSection>\n                </VaListItem>\n              </VaList>\n            </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { useRegulatoryPackageStore } from '../../../../stores/regulatrory-store'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      regulatory_package_id: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n      regulatoryPackages: [] as any,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n    this.getLicencePackages()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'createSalesConfirmationCompanion',\n      'getCompanions',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getSeasons']),\n    ...mapActions(useRegulatoryPackageStore, ['getRegulatoryPackages']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        regulatoryPackageId: this.form.regulatory_package_id.value,\n        identityNumber: this.form.id_number,\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n      }\n      try {\n        const response: any = await this.createSalesConfirmationCompanion(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getCompanions(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(error)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getLicencePackages() {\n      try {\n        const response = await this.getRegulatoryPackages()\n        if (response.status === 200) {\n          const data = response.data\n          this.regulatoryPackages = data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Observers Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n\n          <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.species\"\n              label=\"Species\"\n              :options=\"speciesOptions\"\n              placeholder=\"Select Species\"\n              :rules=\"[(v: any) => !!v || 'Species is required']\"\n              required\n            />\n\n            <VaCounter\n              v-model=\"form.quantity\"\n              label=\"Quantity\"\n              manual-input\n              :min=\"1\"\n              :max=\"100\"\n              :rules=\"[(v: any) => v || 'Quantity is required']\"\n            />\n\n            <VaButtonGroup>\n              <VaButton\n                class=\"px-0 py-0\"\n                color=\"primary\"\n                icon=\"add\"\n                size=\"small\"\n                round\n                @click=\"addNewSpeciesItemToStorage()\"\n              />\n            </VaButtonGroup>\n          </div>\n\n          <div class=\"mt-6\">\n            <VaList>\n              <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                >Selected Species</VaListLabel\n              >\n              <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                >No Species Selected</VaListLabel\n              >\n\n              <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                <VaListItemSection>\n                  <VaListItemLabel>\n                    Name: {{ s.name }}\n                    <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                  </VaListItemLabel>\n                  <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                </VaListItemSection>\n              </VaListItem>\n            </VaList>\n          </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'getObservers',\n    ]),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        // noOfHunters: this.form.no_of_hunters,\n        // noOfDays: this.form.no_of_days,\n        // noOfCompanions: this.form.no_of_companions,\n        // noOfObservers: this.form.no_of_observers,\n        // species: this.speciesObjects,\n        // areaId: this.form.area.value,\n        // season: this.form.season,\n        // preferredDate: this.form.preferred_date,\n\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        identityNumber: this.form.id_number,\n      }\n      try {\n        const response: any = await this.createSalesConfirmationProposalObservers(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getObservers(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(errors)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <VaForm ref=\"formRef\">\n        <div class=\"p-1\">\n          <!-- <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\"> -->\n          <h3 class=\"font-bold text-lg mb-2\">Observers Basic Information</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.full_name\"\n              type=\"text\"\n              placeholder=\"Enter your Full name\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n              label=\"Full name\"\n            />\n            <!-- <VaInput v-model=\"form.nick_name\" placeholder=\"Nick name\" label=\"Nick name\" /> -->\n            <VaSelect\n              v-model=\"form.country\"\n              placeholder=\"Select Country\"\n              label=\"Country\"\n              :rules=\"[(v: any) => v || 'Country is required']\"\n              :options=\"countries\"\n              searchable\n              highlight-matched-text\n            />\n            <VaSelect\n              v-model=\"form.nationality\"\n              placeholder=\"Select Client nationality\"\n              label=\"Client Nationality\"\n              :rules=\"[(v: any) => v || 'Nationality is required']\"\n              :options=\"nationality\"\n              searchable\n              highlight-matched-text\n            />\n            <!-- id_number -->\n            <VaInput\n              v-model=\"form.id_number\"\n              type=\"text\"\n              placeholder=\"passport/ID number\"\n              :rules=\"[(value: any) => (value && value.length > 0) || 'passport number/id number is required']\"\n              label=\"passport/ID number\"\n            />\n          </div>\n          <h3 class=\"font-bold text-lg mb-2\">Contacts</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <VaInput\n              v-model=\"form.email\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              :rules=\"[validators.required, validators.email]\"\n              label=\"Email\"\n            />\n\n            <VaInput\n              v-model=\"form.phone\"\n              type=\"tell\"\n              placeholder=\"eg: +971501234567\"\n              :rules=\"[validators.required, validators.tell]\"\n              label=\"Phone\"\n            />\n\n            <VaInput\n              v-model=\"form.address\"\n              type=\"text\"\n              :max-length=\"30\"\n              placeholder=\"Enter your address\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Address\"\n            />\n          </div>\n\n          <h3 class=\"font-bold text-lg mb-2\">Charters</h3>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 mt-6\">\n            <VaInput\n              v-model=\"form.charter_in\"\n              placeholder=\"Charter in\"\n              type=\"datetime-local\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Charter in\"\n            />\n            <VaInput\n              v-model=\"form.charter_out\"\n              type=\"datetime-local\"\n              placeholder=\"Charter out\"\n              :rules=\"[\n                (v: any) => !!v || 'This field is required',\n                (v: any) => new Date(v) > new Date(form.charter_in) || 'Check out date must be after check-in date',\n              ]\"\n              label=\"Charter out\"\n            />\n\n            <VaInput\n              v-model=\"form.arrival_airport\"\n              type=\"text\"\n              placeholder=\"Arrival airport\"\n              :rules=\"[(v: any) => !!v || 'This field is required']\"\n              label=\"Arrival airport\"\n            />\n          </div>\n\n          <!-- Experience and Date Group -->\n          <!-- \n\n          <h3 class=\"font-bold text-lg mb-2\">Preferred Species</h3>\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <VaSelect\n              v-model=\"form.species\"\n              label=\"Species\"\n              :options=\"speciesOptions\"\n              placeholder=\"Select Species\"\n              :rules=\"[(v: any) => !!v || 'Species is required']\"\n              required\n            />\n\n            <VaCounter\n              v-model=\"form.quantity\"\n              label=\"Quantity\"\n              manual-input\n              :min=\"1\"\n              :max=\"100\"\n              :rules=\"[(v: any) => v || 'Quantity is required']\"\n            />\n\n            <VaButtonGroup>\n              <VaButton\n                class=\"px-0 py-0\"\n                color=\"primary\"\n                icon=\"add\"\n                size=\"small\"\n                round\n                @click=\"addNewSpeciesItemToStorage()\"\n              />\n            </VaButtonGroup>\n          </div>\n\n          <div class=\"mt-6\">\n            <VaList>\n              <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\"\n                >Selected Species</VaListLabel\n              >\n              <VaListLabel v-else color=\"secondary\" class=\"va-text-code mb-2 text-left\"\n                >No Species Selected</VaListLabel\n              >\n\n              <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n                <VaListItemSection>\n                  <VaListItemLabel>\n                    Name: {{ s.name }}\n                    <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n                  </VaListItemLabel>\n                  <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n                </VaListItemSection>\n              </VaListItem>\n            </VaList>\n          </div> -->\n        </div>\n\n        <div class=\"mt-4 d-flex p-2 flex justify-end\">\n          <VaButton\n            v-if=\"!showDetailsPage\"\n            :loading=\"saving\"\n            icon=\"save\"\n            class=\"mr-3 mb-2\"\n            :disabled=\"!isValidForm\"\n            @click=\"validateForm() && submit()\"\n          >\n            Save\n          </VaButton>\n        </div>\n      </VaForm>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\n\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { validators } from '../../../../services/utils'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport { useQuotaStore } from '../../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport { format } from 'date-fns'\n\nexport default defineComponent({\n  components: {\n    // Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    // SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  props: {\n    salesInquiryId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      // nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      email: '',\n      phone: '',\n      address: '',\n      arrival_airport: '',\n      charter_in: null as any,\n      charter_out: null as any,\n      // no_of_hunters: 1,\n      // no_of_observers: 0,\n      // no_of_days: 0,\n      // no_of_companions: 0,\n      // species: null as any,\n      // quantity: 0,\n      // area: null as any,\n      // season: null as any,\n      // preferred_date: null as any,\n      id_number: '',\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        categoryOptions.value.push(\n          ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n        )\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        contactsTypes.value.push(\n          ...response.data.map((contactType: { id: any; name: any }) => ({\n            value: contactType.id,\n            text: contactType.name,\n          })),\n        )\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      // getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      preferred_species: [] as any,\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n      downloadPdf,\n      saving: false,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo']),\n  },\n\n  mounted() {\n    // this.getSpeciesItems()\n    this.getAreas()\n    this.getSeasonList()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, [\n      'createSalesInquiry',\n      'createSalesConfirmationProposalObservers',\n      'getObservers',\n    ]),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    async submit() {\n      this.saving = true\n\n      const contacts = [\n        {\n          contact_type: 'email',\n          contact: this.form.email,\n        },\n        {\n          contact_type: 'phone',\n          contact: this.form.phone,\n        },\n        {\n          contact_type: 'address',\n          contact: this.form.address,\n        },\n      ]\n\n      const requestdata = {\n        fullName: this.form.full_name,\n        contacts: contacts,\n        nationalityId: this.form.nationality.value,\n        countryId: this.form.country.value,\n        salesInquiryId: this.salesInquiryId,\n        // noOfHunters: this.form.no_of_hunters,\n        // noOfDays: this.form.no_of_days,\n        // noOfCompanions: this.form.no_of_companions,\n        // noOfObservers: this.form.no_of_observers,\n        // species: this.speciesObjects,\n        // areaId: this.form.area.value,\n        // season: this.form.season,\n        // preferredDate: this.form.preferred_date,\n\n        arrival_airport: this.form.arrival_airport,\n        charter_in: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        charter_out: format(this.form.charter_in, 'yyyy-MM-dd HH:mm:ss'),\n        identityNumber: this.form.id_number,\n      }\n      try {\n        const response: any = await this.createSalesConfirmationProposalObservers(requestdata)\n\n        if (response.status === 201) {\n          this.saving = false\n          this.init({ message: response.data.message, color: 'success' })\n\n          this.resetForm()\n          this.resetValidationContactForm()\n          this.speciesObjects = []\n          this.getObservers(this.salesInquiryId)\n        }\n      } catch (error: any) {\n        this.saving = false\n        const errors = handleErrors(error.response)\n        console.log(errors)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    // addNewSpeciesItemToStorage() {\n    //   // Check if all required fields in this.sform are not null\n    //   if (!this.form.species || !this.form.quantity) {\n    //     this.init({\n    //       message: 'Please fill all required fields.',\n    //       color: 'warning',\n    //     })\n    //     return // Exit the method if any field is null\n    //   }\n\n    //   // Ensure quantity is a positive number\n    //   if (Number(this.form.quantity) <= 0) {\n    //     // Uncomment the toast message if needed\n    //     // this.toast.init({\n    //     //   message: 'Quantity must be greater than zero.',\n    //     //   color: 'warning',\n    //     // });\n\n    //     this.init({\n    //       message: 'Quantity must be greater than zero.',\n    //       color: 'warning',\n    //     })\n\n    //     return\n    //   }\n\n    //   // Check if the species item already exists\n    //   const exists = this.speciesObjects.some(\n    //     (species: { species_id: any }) => species.species_id === this.form.species.value,\n    //   )\n\n    //   if (!exists) {\n    //     this.speciesObjects.push({\n    //       species_id: this.form.species.value,\n    //       name: this.form.species.text,\n    //       quantity: this.form.quantity,\n    //     })\n    //     // console.log('New species item added:', this.speciesObjects)\n    //   } else {\n    //     console.log('Species item already exists:', this.form.species.value)\n    //   }\n\n    //   // this.resetSForm()\n    // },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\ns\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        type=\"text\"\n        placeholder=\"Service name\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Service name\"\n      />\n      <VaInput\n        v-model=\"form.amount\"\n        type=\"number\"\n        placeholder=\"Amount\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Amount\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        type=\"text\"\n        placeholder=\"Currency\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"currenciesOptions\"\n        label=\"Currency\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"seasonsOptions\"\n        label=\"Service\"\n      />\n      <VaSelect\n        v-model=\"form.charges_per\"\n        :options=\"chargesPerOptions\"\n        type=\"number\"\n        placeholder=\"Charges per\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Charges per\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaTextarea\n        v-model=\"form.description\"\n        type=\"text\"\n        placeholder=\"Description\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Description\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    icon=\"save\"\n    :loading=\"savingSafariExtra\"\n    :disabled=\"!isValidForm || savingSafariExtra\"\n    @click=\"submitSelectedItems()\"\n  >\n    Save\n  </VaButton>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\n// import { useAccountsStore } from '../../stores/account-store'\n// import { useSalesInquiriesStore } from '../../stores/sales-store'\n// import handleErrors from '../../utils/errorHandler'\n\nexport default defineComponent({\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      charges_per: null as any,\n      description: '',\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'name',\n        label: 'Service name',\n        sortable: true,\n      },\n      {\n        key: 'amount',\n        label: 'Amount',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n\n    const chargesPerOptions = [\n      { value: 'PER_HOUR', text: 'PER HOUR' },\n      { value: 'PER_DAY', text: 'PER DAY' },\n      { value: 'PER_PERSON', text: 'PER PERSON' },\n      { value: 'PER_ROUND', text: 'PER ROUND' },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n      chargesPerOptions,\n      seasonsOptions: [],\n      currenciesOptions: [],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['savingSafariExtra']),\n  },\n  mounted() {\n    this.getSeasonList()\n    this.getCurrencyList()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSeasons', 'getCurrencies', 'createSafariExtras']),\n\n    async submitSelectedItems() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        charges_per: this.form.charges_per.value,\n        description: this.form.description,\n      }\n      try {\n        const response: any = await this.createSafariExtras(payload)\n        if (response.status === 201) {\n          this.$emit('submitSelectedItemsEvent')\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currenciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaInput\n        v-model=\"form.name\"\n        type=\"text\"\n        placeholder=\"Service name\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Service name\"\n      />\n      <VaInput\n        v-model=\"form.amount\"\n        type=\"number\"\n        placeholder=\"Amount\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Amount\"\n      />\n      <VaSelect\n        v-model=\"form.currency_id\"\n        type=\"text\"\n        placeholder=\"Currency\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"currenciesOptions\"\n        label=\"Currency\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.season_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"seasonsOptions\"\n        label=\"Service\"\n      />\n      <VaSelect\n        v-model=\"form.charges_per\"\n        :options=\"chargesPerOptions\"\n        type=\"number\"\n        placeholder=\"Charges per\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Charges per\"\n      />\n    </div>\n    <div class=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n      <VaTextarea\n        v-model=\"form.description\"\n        type=\"text\"\n        placeholder=\"Description\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        label=\"Description\"\n      />\n    </div>\n  </VaForm>\n\n  <VaButton\n    icon=\"save\"\n    :loading=\"savingSafariExtra\"\n    :disabled=\"!isValidForm || savingSafariExtra\"\n    @click=\"submitSelectedItems()\"\n  >\n    Save\n  </VaButton>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\n// import { useAccountsStore } from '../../stores/account-store'\n// import { useSalesInquiriesStore } from '../../stores/sales-store'\n// import handleErrors from '../../utils/errorHandler'\n\nexport default defineComponent({\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      name: '',\n      amount: null as any,\n      currency_id: null as any,\n      season_id: null as any,\n      charges_per: null as any,\n      description: '',\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'name',\n        label: 'Service name',\n        sortable: true,\n      },\n      {\n        key: 'amount',\n        label: 'Amount',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n\n    const chargesPerOptions = [\n      { value: 'PER_HOUR', text: 'PER HOUR' },\n      { value: 'PER_DAY', text: 'PER DAY' },\n      { value: 'PER_PERSON', text: 'PER PERSON' },\n      { value: 'PER_ROUND', text: 'PER ROUND' },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n      chargesPerOptions,\n      seasonsOptions: [],\n      currenciesOptions: [],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['savingSafariExtra']),\n  },\n  mounted() {\n    this.getSeasonList()\n    this.getCurrencyList()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSeasons', 'getCurrencies', 'createSafariExtras']),\n\n    async submitSelectedItems() {\n      const payload = {\n        name: this.form.name,\n        amount: this.form.amount,\n        currency_id: this.form.currency_id.value,\n        season_id: this.form.season_id.value,\n        charges_per: this.form.charges_per.value,\n        description: this.form.description,\n      }\n      try {\n        const response: any = await this.createSafariExtras(payload)\n        if (response.status === 201) {\n          this.$emit('submitSelectedItemsEvent')\n          this.init({ message: response.data.message, color: 'success' })\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        this.seasonsOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getCurrencyList() {\n      try {\n        const response = await this.getCurrencies()\n        this.currenciesOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.extra_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"safariExtras\"\n        label=\"Service\"\n      >\n        <template #append>\n          <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n        </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.account_id\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"companyAccounts\"\n        label=\"Account\"\n      />\n      <VaButton\n        type=\"submit\"\n        preset=\"plain\"\n        icon=\"add\"\n        rounded\n        :disabled=\"!isValidForm\"\n        @click=\"addExtraServiceInTempTable\"\n      >\n        Add\n      </VaButton>\n    </div>\n  </VaForm>\n  <!-- Table -->\n  <VaDataTable :disabled=\"!selectedItems.length || _savingSafariExtras\" :items=\"selectedItems\" :columns=\"columns\">\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton\n        :disabled=\"_savingSafariExtras\"\n        preset=\"plain\"\n        icon=\"delete\"\n        @click=\"deleteTempSubItemList(rowData.index)\"\n      ></VaButton>\n    </template>\n  </VaDataTable>\n  <VaButton :loading=\"_savingSafariExtras\" icon=\"save\" :disabled=\"!selectedItems.length\" @click=\"submitSelectedItems()\">\n    Save\n  </VaButton>\n  <VaModal\n    v-model=\"_showCreateSafariExtraModal\"\n    size=\"small\"\n    :title=\"'Add Extra Service'\"\n    :close-on-click-outside=\"false\"\n  >\n    <SafariExtrasForm> </SafariExtrasForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport SafariExtrasForm from '../../../module-settings/components/SafariExtrasForm.vue'\n\nexport default defineComponent({\n  name: 'SalesClientSafariExtrasForm',\n  components: {\n    SafariExtrasForm,\n  },\n  props: {\n    // showModalSizeLarge: Boolean,\n    tableSelectable: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      extra_id: null as any,\n      account_id: null as any,\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'safari_text',\n        label: 'Service',\n        sortable: true,\n      },\n      {\n        key: 'account_name',\n        label: 'Account',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['safariExtras']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSalesInquiriesStore, { _savingSafariExtras: 'savingSafariExtras' }),\n    ...mapWritableState(useSettingsStore, { _showCreateSafariExtraModal: 'showCreateSafariExtraModal' }),\n  },\n  mounted() {\n    this.getSafariExtras(true)\n    this.getCompanyAccounts()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSafariExtras']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    _showModal() {\n      this._showCreateSafariExtraModal = true\n    },\n    addExtraServiceInTempTable() {\n      if (!this.form.extra_id.value) {\n        this.init({ message: 'Please select extra service ', color: 'warning' })\n        return\n      }\n\n      if (!this.form.account_id.value) {\n        this.init({ message: 'Please select account ', color: 'warning' })\n        return\n      }\n      const data = {\n        safari_extras_id: this.form.extra_id.value,\n        safari_text: this.form.extra_id.text,\n        sales_inquiry_id: this.item.id,\n        account_id: this.form.account_id.value,\n        account_name: this.form.account_id.text,\n      }\n      // add if not exsits\n      const index = this.selectedItems.findIndex((item: any) => item.safari_extras_id === data.safari_extras_id)\n      if (index === -1) {\n        this.selectedItems.push(data)\n      } else {\n        this.init({ message: 'This service already added', color: 'warning' })\n      }\n\n      this.resetForm()\n    },\n    deleteTempSubItemList(index: number) {\n      this.selectedItems.splice(index, 1)\n    },\n\n    async submitSelectedItems() {\n      console.log('submitSelectedItems')\n      console.log(this.item.id)\n\n      const payload = this.selectedItems.map((item: any) => {\n        return {\n          safari_extras_id: item.safari_extras_id,\n          account_id: item.account_id,\n          sales_inquiry_id: this.item.id,\n        }\n      })\n\n      try {\n        const response: any = await this.createsafariExtras(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.getClienSafariExtras(this.item.id)\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n        this._savingSafariExtras = false\n      }\n      // },\n      // this.$emit('submitSelectedItemsEvent', payload)\n    },\n  },\n})\n</script>\n","<template>\n  <VaForm ref=\"formRef\">\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n      <VaSelect\n        v-model=\"form.extra_id\"\n        type=\"text\"\n        placeholder=\"Extra service\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"safariExtras\"\n        label=\"Service\"\n      >\n        <template #append>\n          <VaIcon name=\"add\" class=\"ml-2\" @click=\"_showModal()\" />\n        </template>\n      </VaSelect>\n      <VaSelect\n        v-model=\"form.account_id\"\n        :rules=\"[(v: any) => !!v || 'This field is required']\"\n        :options=\"companyAccounts\"\n        label=\"Account\"\n      />\n      <VaButton\n        type=\"submit\"\n        preset=\"plain\"\n        icon=\"add\"\n        rounded\n        :disabled=\"!isValidForm\"\n        @click=\"addExtraServiceInTempTable\"\n      >\n        Add\n      </VaButton>\n    </div>\n  </VaForm>\n  <!-- Table -->\n  <VaDataTable :disabled=\"!selectedItems.length || _savingSafariExtras\" :items=\"selectedItems\" :columns=\"columns\">\n    <template #cell(actions)=\"{ rowData }\">\n      <VaButton\n        :disabled=\"_savingSafariExtras\"\n        preset=\"plain\"\n        icon=\"delete\"\n        @click=\"deleteTempSubItemList(rowData.index)\"\n      ></VaButton>\n    </template>\n  </VaDataTable>\n  <VaButton :loading=\"_savingSafariExtras\" icon=\"save\" :disabled=\"!selectedItems.length\" @click=\"submitSelectedItems()\">\n    Save\n  </VaButton>\n  <VaModal\n    v-model=\"_showCreateSafariExtraModal\"\n    size=\"small\"\n    :title=\"'Add Extra Service'\"\n    :close-on-click-outside=\"false\"\n  >\n    <SafariExtrasForm> </SafariExtrasForm>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { defineComponent, ref, reactive } from 'vue'\nimport { mapState, mapActions, mapWritableState } from 'pinia'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport SafariExtrasForm from '../../../module-settings/components/SafariExtrasForm.vue'\n\nexport default defineComponent({\n  name: 'SalesClientSafariExtrasForm',\n  components: {\n    SafariExtrasForm,\n  },\n  props: {\n    // showModalSizeLarge: Boolean,\n    tableSelectable: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['submitSelectedItemsEvent'],\n\n  setup() {\n    const { init } = useToast()\n\n    const formRef = ref(null as any)\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const form = reactive({\n      extra_id: null as any,\n      account_id: null as any,\n    })\n\n    return {\n      formRef,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      form,\n      init,\n    }\n  },\n\n  data() {\n    const columns = [\n      {\n        key: 'safari_text',\n        label: 'Service',\n        sortable: true,\n      },\n      {\n        key: 'account_name',\n        label: 'Account',\n        sortable: true,\n      },\n      {\n        key: 'actions',\n        label: 'Actions',\n        sortable: false,\n      },\n    ]\n    return {\n      selectedItems: [] as any,\n      columns,\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['safariExtras']),\n    ...mapState(useAccountsStore, ['companyAccounts']),\n    ...mapWritableState(useSalesInquiriesStore, { _savingSafariExtras: 'savingSafariExtras' }),\n    ...mapWritableState(useSettingsStore, { _showCreateSafariExtraModal: 'showCreateSafariExtraModal' }),\n  },\n  mounted() {\n    this.getSafariExtras(true)\n    this.getCompanyAccounts()\n  },\n\n  methods: {\n    ...mapActions(useSettingsStore, ['getSafariExtras']),\n    ...mapActions(useAccountsStore, ['getCompanyAccounts']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    _showModal() {\n      this._showCreateSafariExtraModal = true\n    },\n    addExtraServiceInTempTable() {\n      if (!this.form.extra_id.value) {\n        this.init({ message: 'Please select extra service ', color: 'warning' })\n        return\n      }\n\n      if (!this.form.account_id.value) {\n        this.init({ message: 'Please select account ', color: 'warning' })\n        return\n      }\n      const data = {\n        safari_extras_id: this.form.extra_id.value,\n        safari_text: this.form.extra_id.text,\n        sales_inquiry_id: this.item.id,\n        account_id: this.form.account_id.value,\n        account_name: this.form.account_id.text,\n      }\n      // add if not exsits\n      const index = this.selectedItems.findIndex((item: any) => item.safari_extras_id === data.safari_extras_id)\n      if (index === -1) {\n        this.selectedItems.push(data)\n      } else {\n        this.init({ message: 'This service already added', color: 'warning' })\n      }\n\n      this.resetForm()\n    },\n    deleteTempSubItemList(index: number) {\n      this.selectedItems.splice(index, 1)\n    },\n\n    async submitSelectedItems() {\n      console.log('submitSelectedItems')\n      console.log(this.item.id)\n\n      const payload = this.selectedItems.map((item: any) => {\n        return {\n          safari_extras_id: item.safari_extras_id,\n          account_id: item.account_id,\n          sales_inquiry_id: this.item.id,\n        }\n      })\n\n      try {\n        const response: any = await this.createsafariExtras(payload)\n        if (response.status === 201) {\n          this.init({ message: response.data.message, color: 'success' })\n          this.getClienSafariExtras(this.item.id)\n        }\n      } catch (error: any) {\n        console.error(error)\n        const errors = handleErrors(error.response)\n        this.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n        this._savingSafariExtras = false\n      }\n      // },\n      // this.$emit('submitSelectedItemsEvent', payload)\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"sales-confirmation\">\n    <h1 class=\"header text-center text-lg font-bold\">SALES CONFIRMATION</h1>\n\n    <!-- Actions Button Section -->\n    <div class=\"action-buttons\">\n      <VaButton\n        roud\n        preset=\"secondary\"\n        class=\"px-2 py-2 px-md-4 py-md-4 mr-2\"\n        icon=\"file_download\"\n        size=\"small\"\n        border-color=\"primary\"\n        @click=\"downloadPdf(salesData.pdf)\"\n        >Download</VaButton\n      >\n\n      <template v-if=\"salesData?.status?.status === 'pending' || salesData?.status?.status === 'provision_sales'\">\n        <VaButton\n          roud\n          preset=\"secondary\"\n          border-color=\"primary\"\n          class=\"px-2 py-2\"\n          icon=\"check_circle\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"showModal\"\n          >{{ confirmText }}</VaButton\n        >\n      </template>\n\n      <template v-else-if=\"salesData?.status?.status === 'confirmed'\">\n        <VaButton\n          roud\n          :color=\"buttonColor\"\n          class=\"px-2 py-2 mr-2\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"cancel()\"\n          >{{ confirmText }}</VaButton\n        >\n\n        <!-- <VaButton\n          roud\n          color=\"success\"\n          class=\"px-2 py-2\"\n          :loading=\"completingSales\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"complete()\"\n          >Complete</VaButton\n        > -->\n      </template>\n    </div>\n\n    <!-- Sales Inquiry -->\n    <section class=\"section\">\n      <h2>Sales Inquiry</h2>\n      <div class=\"details-grid\">\n        <div><strong>ID:</strong> {{ salesData?.id ?? 'N/A' }}</div>\n        <div><strong>Code:</strong> {{ salesData?.sales_inquiry?.code ?? 'N/A' }}</div>\n        <div><strong>Created Date:</strong> {{ formatDate(salesData?.created_date) ?? 'N/A' }}</div>\n        <div><strong>Remarks:</strong> {{ salesData?.sales_inquiry?.remarks ?? 'None' }}</div>\n      </div>\n    </section>\n\n    <!-- Status Information -->\n    <section class=\"section\">\n      <h2>Status Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Status ID:</strong> {{ salesData?.status?.id ?? 'N/A' }}</div>\n        <div>\n          <strong>Status:</strong>\n          <VaBadge\n            :text=\"salesData?.status?.status ?? 'N/A'\"\n            :color=\"getStatusColor(salesData?.status?.status)\"\n            class=\"mr-2\"\n          />\n        </div>\n        <div><strong>Created At:</strong> {{ formatDate(salesData?.status?.created_at) ?? 'N/A' }}</div>\n        <div><strong>Updated At:</strong> {{ formatDate(salesData?.status?.updated_at) ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Client Information -->\n    <section class=\"section\">\n      <h2>Client Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Full Name:</strong> {{ salesData?.sales_inquiry?.entity?.full_name ?? 'N/A' }}</div>\n        <div><strong>Email:</strong> {{ getContactByType(1)?.contact ?? 'N/A' }}</div>\n        <div><strong>Phone:</strong> {{ getContactByType(4)?.contact ?? 'N/A' }}</div>\n        <div><strong>Address:</strong> {{ getContactByType(3)?.contact ?? 'N/A' }}</div>\n        <div><strong>Nationality:</strong> {{ salesData?.sales_inquiry?.entity?.nationality?.name ?? 'N/A' }}</div>\n        <div><strong>Country:</strong> {{ salesData?.sales_inquiry?.entity?.country?.name ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Client Preferences -->\n    <section class=\"section\">\n      <h2>Client Preferences</h2>\n      <div class=\"details-grid\">\n        <div><strong>No. of Hunters:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_hunters ?? 'N/A' }}</div>\n        <div>\n          <strong>No. of Observers:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_observers ?? 'N/A' }}\n        </div>\n        <div><strong>No. of Days:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_days ?? 'N/A' }}</div>\n        <div>\n          <strong>No. of Companions:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_companions ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Preferred Date:</strong>\n          {{ formatDate(salesData?.sales_inquiry?.preference?.preferred_date) ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Special Requests:</strong> {{ salesData?.sales_inquiry?.preference?.special_requests ?? 'None' }}\n        </div>\n      </div>\n    </section>\n\n    <!-- Preferred Species Table -->\n    <section class=\"section\">\n      <h2>Preferred Species</h2>\n      <div class=\"va-table-responsive\">\n        <table class=\"va-table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Scientific Name</th>\n              <th>Quantity</th>\n              <!-- <th>Description</th> -->\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"species in salesData?.sales_inquiry?.preferred_species ?? []\" :key=\"species.id\">\n              <td>{{ species.species?.name ?? 'N/A' }}</td>\n              <td>{{ species.species?.scientific_name ?? 'N/A' }}</td>\n              <td>{{ species.quantity ?? 'N/A' }}</td>\n              <!-- <td>{{ species.species?.description ?? 'N/A' }}</td> -->\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n\n    <!-- Area Information -->\n    <section class=\"section\">\n      <h2>Area Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Area Name:</strong> {{ salesData?.sales_inquiry?.area[0]?.area?.name ?? 'N/A' }}</div>\n        <div><strong>Description:</strong> {{ salesData?.sales_inquiry?.area[0]?.area?.description ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Itinerary -->\n    <section class=\"section\">\n      <h2>Itinerary</h2>\n      <div class=\"details-grid\">\n        <div><strong>Airport Name:</strong> {{ salesData?.itinerary?.airport_name ?? 'N/A' }}</div>\n        <div><strong>Arrival:</strong> {{ formatDate(salesData?.itinerary?.arrival) ?? 'N/A' }}</div>\n        <div><strong>Charter In:</strong> {{ formatDate(salesData?.itinerary?.charter_in) ?? 'N/A' }}</div>\n        <div><strong>Charter Out:</strong> {{ formatDate(salesData?.itinerary?.charter_out) ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Installments -->\n    <section class=\"section\">\n      <h2>Installments</h2>\n      <VaDataTable :items=\"salesData?.installments ?? []\" :columns=\"columns\" />\n    </section>\n\n    <!-- Proposed Package -->\n    <section class=\"section\">\n      <h2>Proposed Package</h2>\n      <div class=\"details-grid\">\n        <div><strong>Name:</strong> {{ salesData?.proposed_package?.sales_package?.name ?? 'N/A' }}</div>\n        <div><strong>Description:</strong> {{ salesData?.proposed_package?.sales_package?.description ?? 'N/A' }}</div>\n        <div><strong>Amount:</strong> {{ salesData?.proposed_package?.price_list_type?.amount ?? 'N/A' }}</div>\n        <div>\n          <strong>Duration (days):</strong> {{ salesData?.proposed_package?.price_list_type?.duration ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Hunting Type:</strong>\n          {{ salesData?.proposed_package?.price_list_type?.hunting_type?.name ?? 'N/A' }}\n        </div>\n      </div>\n      <h3>Species Included</h3>\n      <ul class=\"species-list\">\n        <li v-for=\"species in salesData?.proposed_package?.sales_package?.species ?? []\" :key=\"species.id\">\n          {{ species.species?.name ?? 'N/A' }} ({{ species.species?.scientific_name ?? 'N/A' }}):\n          <strong>{{ species.amount ?? 'N/A' }}</strong>\n        </li>\n      </ul>\n    </section>\n\n    <!-- Price Breakdown -->\n    <section class=\"section\">\n      <h2>Price Breakdown</h2>\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div>\n          <strong>Total Amount:</strong>\n          {{ salesData?.price_break_down?.total_amount?.currency?.symbol ?? 'N/A' }}\n          {{ salesData?.price_break_down?.total_amount?.amount ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Companion Cost:</strong>\n          <div>\n            Number of Companions:\n            {{ salesData?.price_break_down?.companion_cost_details?.number_of_companions ?? 'N/A' }}\n          </div>\n          <div>\n            Cost per Companion:\n            {{ salesData?.price_break_down?.companion_cost_details?.cost_per_companion?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.companion_cost_details?.cost_per_companion?.amount ?? 'N/A' }}\n          </div>\n          <div>\n            Total Companion Cost:\n            {{ salesData?.price_break_down?.companion_cost_details?.total_companion_cost?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.companion_cost_details?.total_companion_cost?.amount ?? 'N/A' }}\n          </div>\n        </div>\n        <div>\n          <strong>Observer Cost:</strong>\n          <div>\n            Number of Observers:\n            {{ salesData?.price_break_down?.observer_cost_details?.number_of_observers ?? 'N/A' }}\n          </div>\n          <div>\n            Cost per Observer:\n            {{ salesData?.price_break_down?.observer_cost_details?.cost_per_observer?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.observer_cost_details?.cost_per_observer?.amount ?? 'N/A' }}\n          </div>\n          <div>\n            Total Observer Cost:\n            {{ salesData?.price_break_down?.observer_cost_details?.total_observer_cost?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.observer_cost_details?.total_observer_cost?.amount ?? 'N/A' }}\n          </div>\n        </div>\n      </div>\n      <!-- more information -->\n      <!-- h2 -->\n      <VaDivider class=\"my-4\" />\n\n      <h2 class=\"text-center text-lg font-bold\">MORE INFORMATION</h2>\n\n      <VaDivider class=\"my-4\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <VaTitle class=\"font-bold\">Companions</VaTitle>\n        </div>\n        <VaButton size=\"small\" preset=\"secondary\" round border-color=\"primary\" @click=\"_shCMd = !_shCMd\">\n          Add companions\n        </VaButton>\n      </div>\n      <VaDataTable :items=\"companions\" />\n\n      <VaDivider class=\"my-4\" />\n\n      <h2 class=\"text-center text-lg font-bold\">Safari Extras</h2>\n      <VaDivider class=\"my-4 va-divider--dashed\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <p><strong>Observers</strong></p>\n        </div>\n        <VaButton size=\"small\" round preset=\"secondary\" border-color=\"primary\" @click=\"_shOMd = !_shOMd\">\n          Add observers\n        </VaButton>\n      </div>\n      <VaDataTable :items=\"observers\" />\n      <VaDivider class=\"my-4\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <p><strong>Safari Extras services</strong></p>\n        </div>\n\n        <VaButton\n          preset=\"primary\"\n          class=\"mr-2 mb-2\"\n          border-color=\"primary\"\n          round\n          icon=\"add\"\n          size=\"small\"\n          @click=\"_showSafariExtrasModal()\"\n        >\n          Add Extras\n        </VaButton>\n      </div>\n\n      <VaDataTable :items=\"clientSafariExtras\" />\n    </section>\n\n    <!-- <VaInnerLoading :loading=\"loading\"> -->\n    <VaModal\n      v-model=\"isOpened\"\n      :overlay=\"true\"\n      size=\"large\"\n      no-outside-dismiss\n      :hide-default-actions=\"true\"\n      :close-button=\"true\"\n    >\n      <VaProgressBar v-if=\"loading\" :indeterminate=\"loading\" class=\"mb-4 mt-6\" />\n\n      <template v-if=\"salesData?.status?.status == 'pending'\">\n        <div class=\"flex flex-row\">\n          <VaCheckbox\n            v-model=\"selection\"\n            :disabled=\"true\"\n            array-value=\"provision_sales\"\n            label=\"Signed Contract\"\n            class=\"mb-6\"\n          />\n          <VaCheckbox v-model=\"selection\" array-value=\"confirm\" label=\"Payment Document\" class=\"mb-6\" />\n        </div>\n\n        <div class=\"flex flex-col\">\n          <div class=\"flex flex-row mb-4\">\n            <template v-if=\"selection.includes('provision_sales')\">\n              <div class=\"flex-1\">\n                <VaFileUpload\n                  v-model=\"file\"\n                  dropzone\n                  upload-button-text=\"Upload Signed Contract\"\n                  drop-zone-text=\"\"\n                  color=\"secondary\"\n                  file-types=\"application/pdf\"\n                  :max-size=\"1000000\"\n                  :max-files=\"1\"\n                />\n              </div>\n            </template>\n\n            <template v-if=\"selection.includes('confirm')\">\n              <div class=\"flex-1\">\n                <VaFileUpload\n                  v-model=\"payfile\"\n                  upload-button-text=\"Upload Payment Document\"\n                  dropzone\n                  color=\"secondary\"\n                  drop-zone-text=\"\"\n                  file-types=\"application/pdf\"\n                  :max-size=\"1000000\"\n                  :max-files=\"1\"\n                />\n              </div>\n            </template>\n          </div>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaDateInput v-model=\"paymentForm.date\" label=\"Transaction Date\" placeholder=\"Enter Transaction Date\" />\n            </div>\n\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaSelect\n                v-model=\"paymentForm.accountType\"\n                :options=\"accountsOption\"\n                label=\"Account\"\n                placeholder=\"Select Account\"\n              />\n            </div>\n\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaInput\n                v-model=\"paymentForm.reference_number\"\n                label=\"Reference Number\"\n                type=\"text\"\n                placeholder=\"Enter Reference Number\"\n              />\n            </div>\n\n            <div class=\"mb-3\">\n              <VaInput v-model=\"paymentForm.amount\" label=\"Amount\" type=\"text\" placeholder=\"Enter Amount\" />\n            </div>\n            <div class=\"mb-2\">\n              <VaSelect\n                v-model=\"paymentForm.currency_id\"\n                :options=\"currencyOptions\"\n                label=\"Currency\"\n                placeholder=\"Select Currency\"\n              />\n            </div>\n          </div>\n\n          <VaTextarea\n            v-model=\"paymentForm.narration\"\n            label=\"Narration\"\n            type=\"text\"\n            placeholder=\"Enter Narration\"\n            class=\"w-full h-full\"\n          />\n        </div>\n      </template>\n\n      <template v-else-if=\"salesData?.status?.status == 'provision_sales'\">\n        <VaFileUpload\n          v-model=\"payfile\"\n          upload-button-text=\"Upload Payment Document\"\n          dropzone\n          color=\"secondary\"\n          drop-zone-text=\"\"\n          file-types=\"application/pdf\"\n          :max-size=\"1000000\"\n          :max-files=\"1\"\n        />\n\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div class=\"mb-2\">\n            <VaSelect\n              v-model=\"paymentForm.accountType\"\n              :options=\"accountsOption\"\n              label=\"Account\"\n              placeholder=\"Select Account\"\n            />\n          </div>\n\n          <div class=\"mb-3\">\n            <VaInput v-model=\"paymentForm.amount\" label=\"Amount\" type=\"text\" placeholder=\"Enter Amount\" />\n          </div>\n          <div class=\"mb-2\">\n            <VaSelect\n              v-model=\"paymentForm.currency_id\"\n              :options=\"currencyOptions\"\n              label=\"Currency\"\n              placeholder=\"Select Currency\"\n            />\n          </div>\n\n          <div class=\"mb-2\">\n            <VaDateInput v-model=\"paymentForm.date\" label=\"Transaction Date\" placeholder=\"Enter Transaction Date\" />\n          </div>\n\n          <div class=\"mb-2\">\n            <VaInput\n              v-model=\"paymentForm.reference_number\"\n              label=\"Reference Number\"\n              type=\"text\"\n              placeholder=\"Enter Reference Number\"\n            />\n          </div>\n          <VaTextarea\n            v-model=\"paymentForm.narration\"\n            label=\"Narration\"\n            type=\"text\"\n            placeholder=\"Enter Narration\"\n            class=\"w-full h-full\"\n          />\n        </div>\n      </template>\n\n      <div>\n        <VaButton :disabled=\"loading\" class=\"mt-2\" @click=\"submit\">Save</VaButton>\n      </div>\n    </VaModal>\n\n    <VaModal v-model=\"_shCMd\" :close-button=\"true\" :hide-default-actions=\"true\">\n      <!-- <ObserversForm :sales-inquiry-id=\"item.id\"> </ObserversForm>\n      </section> -->\n\n      <CompanionForm :sales-inquiry-id=\"salesData?.sales_inquiry.id\"> </CompanionForm>\n    </VaModal>\n\n    <VaModal v-model=\"_shOMd\" :close-button=\"true\" :hide-default-actions=\"true\">\n      <ObserversForm :sales-inquiry-id=\"salesData?.sales_inquiry.id\"> </ObserversForm>\n    </VaModal>\n\n    <VaModal v-model=\"_shM\" width=\"60%\" height=\"80%\" :hide-default-actions=\"true\">\n      <SafariExtrasList :table-selectable=\"true\" :item=\"salesData.sales_inquiry\" />\n    </VaModal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport getStatusColor from '../../../../utils/status_color'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport CompanionForm from './CompanionForm.vue'\nimport ObserversForm from './ObserversForm.vue'\nimport SafariExtrasList from './SalesClientSafariExtrasForm.vue'\n\nexport default defineComponent({\n  components: {\n    CompanionForm,\n    ObserversForm,\n    SafariExtrasList,\n  },\n\n  props: {\n    salesData: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['download-confirmation'],\n  data() {\n    // Description, Amount Due, Days, Due Limit, and Status Columns\n    const columns = [\n      { key: 'narration', label: 'Description' },\n      { key: 'amount_due', label: 'Amount Due (USD)' },\n      { key: 'due_days', label: 'Days' }, // Added days\n      { key: 'amount_due_type', label: 'Due Type' },\n      { key: 'due_days_type', label: 'Due Type' },\n    ]\n\n    return {\n      columns,\n      isOpened: false,\n      file: [],\n      payfile: [],\n      docType: null as any,\n      docTypes: [],\n      confirmText: 'Confirm',\n      disabledConfirmButton: false,\n      selection: ['provision_sales'],\n      paymentForm: {\n        currency_id: null as any,\n        date: null as any,\n        accountType: null as any,\n        reference_number: null as any,\n        amount: this.salesData?.price_break_down?.total_amount?.amount,\n        narration: '',\n      },\n      buttonColor: 'primary',\n      createDRTransaction: false,\n      createCRTransaction: false,\n      completingSales: false,\n      // showComModal: false,\n      // showObModal: false,\n\n      downloadPdf,\n\n      statusOptions: [\n        { value: 'provision_sales', text: 'Confirmed, but no disposit yet' },\n        { value: 'confirmed', text: 'Confirmed, With a disposit' },\n        { value: 'declined', text: 'Declined' },\n        { value: 'cancelled', text: 'Cancelled' },\n        { value: 'completed', text: 'Completed' },\n      ],\n      getStatusColor,\n      files: [] as any[],\n      status: '',\n      loading: false,\n      transaction_type: '',\n      accountsOption: [\n        {\n          value: 'CASH_IN_HAND',\n          text: 'Cash in Hand',\n        },\n        {\n          value: 'BANK',\n          text: 'Bank trasfer',\n        },\n        // {\n        //   value: 'DEBTOR_ACCOUNT',\n        //   text: 'Debtor Account',\n        // },\n      ] as any,\n      currencyOptions: [\n        {\n          value: 1,\n          text: 'USD',\n        },\n        {\n          value: 2,\n          text: 'Tsh',\n        },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['observers', 'companions', 'clientSafariExtras']),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shM: 'showSafariExtrasModal',\n    }),\n\n    ...mapWritableState(useSalesInquiriesStore, { _shOMd: 'showObserversModal' }),\n    ...mapWritableState(useSalesInquiriesStore, { _shCMd: 'showCompanionsModal' }),\n  },\n  mounted() {\n    // this.getDocTypeOptions()\n    this.showConfirmButtonTextByStatus()\n    this.getObservers(this.salesData.sales_inquiry.id)\n    this.getCompanions(this.salesData.sales_inquiry.id)\n    this.getClienSafariExtras(this.salesData.sales_inquiry.id)\n  },\n  methods: {\n    ...mapActions(useSettingsStore, ['getDocTypes']),\n    ...mapActions(useSalesInquiriesStore, ['updatesalesConfirmationStatus']),\n    ...mapActions(useAccountsStore, ['createCRDRTransaction', 'createDRCRTransaction']),\n    ...mapActions(useSalesInquiriesStore, ['getObservers', 'getCompanions']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    getContactByType(type: any) {\n      return this.salesData.sales_inquiry.entity.contacts.find((contact: any) => contact.contact_type === type)\n    },\n    formatDate(dateString: any) {\n      const options: any = { year: 'numeric', month: 'long', day: 'numeric' }\n      return new Date(dateString).toLocaleDateString(undefined, options)\n    },\n    _showSafariExtrasModal() {\n      this._shM = true\n    },\n\n    downloadConfirmation() {\n      this.$emit('download-confirmation', this.salesData)\n    },\n\n    async complete() {\n      this.status = 'completed'\n      this.completingSales = true\n      await this.completeOrCancel('Sales Confirmation Completed.')\n    },\n\n    async completeOrCancel(displayMessage: any) {\n      const payload = {\n        entityId: this.salesData.sales_inquiry.entity.id,\n        contractDoc: this.file[0],\n        paymentDoc: this.payfile[0],\n        salesConfirmationProposalId: this.salesData.id,\n        statusId: this.status,\n        quotaId: this.salesData?.proposed_package?.sales_package?.sales_quota?.id,\n        areaId: this.salesData.sales_inquiry.area[0].area.id,\n      }\n      try {\n        const response = await this.updatesalesConfirmationStatus(payload)\n        if (response.status === 200) {\n          this.isOpened = false\n          this.loading = false\n          this.$vaToast.init({\n            message: displayMessage,\n            color: 'success',\n          })\n          this.completingSales = false\n        } else {\n          this.$vaToast.init({\n            message: 'Failed to process the request',\n            color: 'danger',\n          })\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        if (errors.length > 0) {\n          this.loading = false\n          this.completingSales = true\n\n          this.$vaToast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    async cancel() {\n      const confirm = await this.$vaModal.confirm('Are you sure you want to cancel this sales?')\n      if (confirm) {\n        this.status = 'cancelled'\n        await this.completeOrCancel('Sales Confirmation Cancelled.')\n      }\n    },\n\n    handleTransactionTypeStatus(selection: string[], file: any, payfile: any): void {\n      this.loading = true\n\n      const fileExists = (fileToCheck: any) => this.files.some((existingFile: any) => existingFile.file === fileToCheck)\n      if (this.salesData.status.status === 'pending') {\n        // Check for both provision sales and payment document selection\n        if (selection.includes('provision_sales') && selection.includes('confirm') && selection.length === 2) {\n          this.status = 'confirmed'\n          this.transaction_type = 'RECEIPT'\n\n          this.createCRTransaction = true\n\n          if (file[0] === undefined && payfile[0] === undefined) {\n            // this.paymentDocRequired = true\n            this.$vaToast.init({\n              message: 'Please upload both Signed Contract and Payment Document',\n              color: 'danger',\n            })\n            this.loading = false\n            throw new Error('Please upload both Signed Contract and Payment Document')\n          }\n\n          // Check for only provision sales selection\n        } else if (selection.includes('provision_sales') && selection.length === 1) {\n          this.status = 'provision_sales'\n          this.transaction_type = 'SALES_INVOICE'\n          this.createDRTransaction = true\n\n          //  console all files\n          console.log('File:', file[0])\n          console.log('Payfile:', payfile[0])\n\n          if (file[0] === undefined) {\n            this.$vaToast.init({\n              message: 'Please upload Signed Contract',\n              color: 'danger',\n            })\n            this.loading = false\n\n            throw new Error('Please upload Signed Contract')\n          }\n\n          // Check for only payment confirmation selection\n        } else if (selection.includes('confirm') && selection.length === 1) {\n          this.status = 'confirmed'\n          this.transaction_type = 'RECEIPT'\n          this.createCRTransaction = true\n\n          if (payfile[0] === undefined) {\n            this.$vaToast.init({\n              message: 'Please upload Payment Document',\n              color: 'danger',\n            })\n            this.loading = false\n\n            throw new Error('Please upload Payment Document')\n          }\n        }\n\n        // Handle if the status is already provision_sales\n      } else if (this.salesData.status.status === 'provision_sales' && !fileExists(payfile[0])) {\n        this.status = 'confirmed'\n        this.transaction_type = 'RECEIPT'\n        this.createCRTransaction = true\n\n        if (payfile[0] === undefined) {\n          this.$vaToast.init({\n            message: 'Please upload Payment Document',\n            color: 'danger',\n          })\n          this.loading = false\n\n          throw new Error('Please upload Payment Document')\n        }\n      }\n    },\n\n    async submit() {\n      try {\n        this.handleTransactionTypeStatus(this.selection, this.file, this.payfile)\n      } catch (error: any) {\n        console.error('Error:', error)\n        this.loading = false\n        return\n      }\n\n      const transactionPayload = {\n        // optional for  Dr transaction\n        date: format(this.paymentForm.date, 'yyyy-MM-dd') ?? null,\n        account_type: this.paymentForm?.accountType?.value ?? 'SALES_ACCOUNT',\n        reference_number: this.paymentForm.reference_number ?? null,\n\n        currency_id: this.paymentForm.currency_id.value,\n        transaction_type: this.transaction_type,\n        amount: this.paymentForm.amount,\n        narration: this.paymentForm.narration,\n        accountable_id: this.salesData.sales_inquiry.entity.id,\n        accountable_type_id: this.salesData.sales_inquiry.entity.category.id,\n        sales_confirmation_id: this.salesData.id,\n      }\n\n      const payload = {\n        entityId: this.salesData.sales_inquiry.entity.id,\n        contractDoc: this.file[0],\n        paymentDoc: this.payfile[0],\n        salesConfirmationProposalId: this.salesData.id,\n        statusId: this.status,\n        // quotaId: this.salesData.proposed_package.sales_package.sales_quota?.id,\n        areaId: this.salesData.sales_inquiry.area[0].area.id,\n      }\n\n      try {\n        if (this.createCRTransaction) {\n          const response = await this.updatesalesConfirmationStatus(payload)\n\n          if (response.status === 200) {\n            // Create the transaction\n            const transactionResponse = await this.createCRDRTransaction(transactionPayload)\n            // Wait for this API call to finish\n\n            // Now check if the transaction was successful\n            if (transactionResponse.status === 201) {\n              this.isOpened = false\n              this.loading = false\n              this.$vaToast.init({\n                message: transactionResponse.data.message,\n                color: 'success',\n              })\n\n              // Optional additional API call here if needed\n              // e.g. await this.callAnotherAPI();\n            } else {\n              this.$vaToast.init({\n                message: 'Failed to create transaction',\n                color: 'danger',\n              })\n            }\n          } else {\n            this.$vaToast.init({\n              message: 'Failed to update Sales',\n              color: 'danger',\n            })\n          }\n        } else if (this.createDRTransaction) {\n          // Similar logic for DR transaction creation\n          const response = await this.updatesalesConfirmationStatus(payload)\n\n          if (response.status === 200) {\n            const drcrResponse = await this.createDRCRTransaction(transactionPayload)\n\n            await this.delay(1000) // Optional delay before creating transaction if needed\n            if (drcrResponse.status === 201) {\n              this.isOpened = false\n              this.loading = false\n              this.$vaToast.init({\n                message: drcrResponse.data.message,\n                color: 'success',\n              })\n              // Optional additional API call here if needed\n              // e.g. await this.callAnotherAPI();\n            } else {\n              this.$vaToast.init({\n                message: 'Failed to create transaction',\n                color: 'danger',\n              })\n            }\n          } else {\n            this.$vaToast.init({\n              message: 'Failed to update Sales',\n              color: 'danger',\n            })\n          }\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        this.loading = false\n        if (errors.length > 0) {\n          this.$vaToast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else {\n          error.message &&\n            this.$vaToast.init({\n              message: error.message,\n              color: 'danger',\n            })\n        }\n      }\n    },\n\n    // Helper function to create a delay\n    delay(ms: any) {\n      return new Promise((resolve) => setTimeout(resolve, ms))\n    },\n\n    // Function to call another API\n\n    showConfirmButtonTextByStatus() {\n      switch (this.salesData.status.status) {\n        case 'confirmed':\n          this.confirmText = 'Cancel Now'\n          this.disabledConfirmButton = false\n          this.buttonColor = 'danger'\n          break\n        case 'completed':\n          this.confirmText = 'Sales Done'\n          this.disabledConfirmButton = true\n          break\n        case 'declined':\n          this.confirmText = 'Confirm and Decline'\n          this.disabledConfirmButton = false\n          break\n        case 'cancelled':\n          this.confirmText = 'Confirm and Cancel'\n          this.disabledConfirmButton = false\n          break\n        case 'provision_sales':\n          this.confirmText = 'Confirm a Provision Sales'\n          this.disabledConfirmButton = false\n          break\n        default:\n          this.confirmText = 'Confirm'\n          break\n\n        // case 'provision_sales':\n        //   this.confirmText = 'Confirm and Provision Sales'\n      }\n    },\n\n    async getDocTypeOptions() {\n      try {\n        const response = await this.getDocTypes()\n\n        // Log the response to see the structure\n        console.log('Response from getDocTypes:', response)\n\n        if (response.status === 200) {\n          // Update the docTypes array\n          const docTypesArray = response.data.map((docType: any) => ({\n            value: docType.id,\n            text: docType.name,\n          }))\n\n          // Log the docTypes array to verify the mapping\n          console.log('Mapped docTypes:', docTypesArray)\n\n          // Update the component's data property\n          this.docTypes = docTypesArray\n        } else {\n          console.error('Failed to fetch document types: ', response)\n        }\n      } catch (error) {\n        console.error('Error fetching document types: ', error)\n      }\n    },\n\n    showModal() {\n      this.isOpened = true\n    },\n\n    // getStatus(\n  },\n})\n</script>\n\n<style scoped>\n.sales-confirmation {\n  font-family: 'Arial', sans-serif;\n  max-width: 1000px;\n  margin: auto;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  /* background-color: #f9f9f9; */\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n}\n\n.action-buttons {\n  display: flex;\n  justify-content: flex-end; /* Align buttons to the right */\n  margin-bottom: 20px;\n}\n\n.section {\n  margin-bottom: 20px;\n  border-bottom: 1px solid #ddd;\n  padding-bottom: 15px;\n}\n\nh2 {\n  font-size: 20px;\n  color: #444;\n}\n\n.details-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.va-table-responsive {\n  overflow-x: auto;\n}\n\n.va-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.va-table th,\n.va-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.va-table th {\n  background-color: #f2f2f2;\n  color: #333;\n  font-weight: bold;\n}\n\n.installments-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.installments-table th,\n.installments-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.installments-table th {\n  background-color: #f2f2f2;\n  color: #333;\n  font-weight: bold;\n}\n\n.installments-table tr:hover {\n  background-color: #f1f1f1;\n}\n</style>\n","<template>\n  <div class=\"sales-confirmation\">\n    <h1 class=\"header text-center text-lg font-bold\">SALES CONFIRMATION</h1>\n\n    <!-- Actions Button Section -->\n    <div class=\"action-buttons\">\n      <VaButton\n        roud\n        preset=\"secondary\"\n        class=\"px-2 py-2 px-md-4 py-md-4 mr-2\"\n        icon=\"file_download\"\n        size=\"small\"\n        border-color=\"primary\"\n        @click=\"downloadPdf(salesData.pdf)\"\n        >Download</VaButton\n      >\n\n      <template v-if=\"salesData?.status?.status === 'pending' || salesData?.status?.status === 'provision_sales'\">\n        <VaButton\n          roud\n          preset=\"secondary\"\n          border-color=\"primary\"\n          class=\"px-2 py-2\"\n          icon=\"check_circle\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"showModal\"\n          >{{ confirmText }}</VaButton\n        >\n      </template>\n\n      <template v-else-if=\"salesData?.status?.status === 'confirmed'\">\n        <VaButton\n          roud\n          :color=\"buttonColor\"\n          class=\"px-2 py-2 mr-2\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"cancel()\"\n          >{{ confirmText }}</VaButton\n        >\n\n        <!-- <VaButton\n          roud\n          color=\"success\"\n          class=\"px-2 py-2\"\n          :loading=\"completingSales\"\n          :disabled=\"disabledConfirmButton\"\n          size=\"small\"\n          @click=\"complete()\"\n          >Complete</VaButton\n        > -->\n      </template>\n    </div>\n\n    <!-- Sales Inquiry -->\n    <section class=\"section\">\n      <h2>Sales Inquiry</h2>\n      <div class=\"details-grid\">\n        <div><strong>ID:</strong> {{ salesData?.id ?? 'N/A' }}</div>\n        <div><strong>Code:</strong> {{ salesData?.sales_inquiry?.code ?? 'N/A' }}</div>\n        <div><strong>Created Date:</strong> {{ formatDate(salesData?.created_date) ?? 'N/A' }}</div>\n        <div><strong>Remarks:</strong> {{ salesData?.sales_inquiry?.remarks ?? 'None' }}</div>\n      </div>\n    </section>\n\n    <!-- Status Information -->\n    <section class=\"section\">\n      <h2>Status Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Status ID:</strong> {{ salesData?.status?.id ?? 'N/A' }}</div>\n        <div>\n          <strong>Status:</strong>\n          <VaBadge\n            :text=\"salesData?.status?.status ?? 'N/A'\"\n            :color=\"getStatusColor(salesData?.status?.status)\"\n            class=\"mr-2\"\n          />\n        </div>\n        <div><strong>Created At:</strong> {{ formatDate(salesData?.status?.created_at) ?? 'N/A' }}</div>\n        <div><strong>Updated At:</strong> {{ formatDate(salesData?.status?.updated_at) ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Client Information -->\n    <section class=\"section\">\n      <h2>Client Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Full Name:</strong> {{ salesData?.sales_inquiry?.entity?.full_name ?? 'N/A' }}</div>\n        <div><strong>Email:</strong> {{ getContactByType(1)?.contact ?? 'N/A' }}</div>\n        <div><strong>Phone:</strong> {{ getContactByType(4)?.contact ?? 'N/A' }}</div>\n        <div><strong>Address:</strong> {{ getContactByType(3)?.contact ?? 'N/A' }}</div>\n        <div><strong>Nationality:</strong> {{ salesData?.sales_inquiry?.entity?.nationality?.name ?? 'N/A' }}</div>\n        <div><strong>Country:</strong> {{ salesData?.sales_inquiry?.entity?.country?.name ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Client Preferences -->\n    <section class=\"section\">\n      <h2>Client Preferences</h2>\n      <div class=\"details-grid\">\n        <div><strong>No. of Hunters:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_hunters ?? 'N/A' }}</div>\n        <div>\n          <strong>No. of Observers:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_observers ?? 'N/A' }}\n        </div>\n        <div><strong>No. of Days:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_days ?? 'N/A' }}</div>\n        <div>\n          <strong>No. of Companions:</strong> {{ salesData?.sales_inquiry?.preference?.no_of_companions ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Preferred Date:</strong>\n          {{ formatDate(salesData?.sales_inquiry?.preference?.preferred_date) ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Special Requests:</strong> {{ salesData?.sales_inquiry?.preference?.special_requests ?? 'None' }}\n        </div>\n      </div>\n    </section>\n\n    <!-- Preferred Species Table -->\n    <section class=\"section\">\n      <h2>Preferred Species</h2>\n      <div class=\"va-table-responsive\">\n        <table class=\"va-table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Scientific Name</th>\n              <th>Quantity</th>\n              <!-- <th>Description</th> -->\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"species in salesData?.sales_inquiry?.preferred_species ?? []\" :key=\"species.id\">\n              <td>{{ species.species?.name ?? 'N/A' }}</td>\n              <td>{{ species.species?.scientific_name ?? 'N/A' }}</td>\n              <td>{{ species.quantity ?? 'N/A' }}</td>\n              <!-- <td>{{ species.species?.description ?? 'N/A' }}</td> -->\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n\n    <!-- Area Information -->\n    <section class=\"section\">\n      <h2>Area Information</h2>\n      <div class=\"details-grid\">\n        <div><strong>Area Name:</strong> {{ salesData?.sales_inquiry?.area[0]?.area?.name ?? 'N/A' }}</div>\n        <div><strong>Description:</strong> {{ salesData?.sales_inquiry?.area[0]?.area?.description ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Itinerary -->\n    <section class=\"section\">\n      <h2>Itinerary</h2>\n      <div class=\"details-grid\">\n        <div><strong>Airport Name:</strong> {{ salesData?.itinerary?.airport_name ?? 'N/A' }}</div>\n        <div><strong>Arrival:</strong> {{ formatDate(salesData?.itinerary?.arrival) ?? 'N/A' }}</div>\n        <div><strong>Charter In:</strong> {{ formatDate(salesData?.itinerary?.charter_in) ?? 'N/A' }}</div>\n        <div><strong>Charter Out:</strong> {{ formatDate(salesData?.itinerary?.charter_out) ?? 'N/A' }}</div>\n      </div>\n    </section>\n\n    <!-- Installments -->\n    <section class=\"section\">\n      <h2>Installments</h2>\n      <VaDataTable :items=\"salesData?.installments ?? []\" :columns=\"columns\" />\n    </section>\n\n    <!-- Proposed Package -->\n    <section class=\"section\">\n      <h2>Proposed Package</h2>\n      <div class=\"details-grid\">\n        <div><strong>Name:</strong> {{ salesData?.proposed_package?.sales_package?.name ?? 'N/A' }}</div>\n        <div><strong>Description:</strong> {{ salesData?.proposed_package?.sales_package?.description ?? 'N/A' }}</div>\n        <div><strong>Amount:</strong> {{ salesData?.proposed_package?.price_list_type?.amount ?? 'N/A' }}</div>\n        <div>\n          <strong>Duration (days):</strong> {{ salesData?.proposed_package?.price_list_type?.duration ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Hunting Type:</strong>\n          {{ salesData?.proposed_package?.price_list_type?.hunting_type?.name ?? 'N/A' }}\n        </div>\n      </div>\n      <h3>Species Included</h3>\n      <ul class=\"species-list\">\n        <li v-for=\"species in salesData?.proposed_package?.sales_package?.species ?? []\" :key=\"species.id\">\n          {{ species.species?.name ?? 'N/A' }} ({{ species.species?.scientific_name ?? 'N/A' }}):\n          <strong>{{ species.amount ?? 'N/A' }}</strong>\n        </li>\n      </ul>\n    </section>\n\n    <!-- Price Breakdown -->\n    <section class=\"section\">\n      <h2>Price Breakdown</h2>\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div>\n          <strong>Total Amount:</strong>\n          {{ salesData?.price_break_down?.total_amount?.currency?.symbol ?? 'N/A' }}\n          {{ salesData?.price_break_down?.total_amount?.amount ?? 'N/A' }}\n        </div>\n        <div>\n          <strong>Companion Cost:</strong>\n          <div>\n            Number of Companions:\n            {{ salesData?.price_break_down?.companion_cost_details?.number_of_companions ?? 'N/A' }}\n          </div>\n          <div>\n            Cost per Companion:\n            {{ salesData?.price_break_down?.companion_cost_details?.cost_per_companion?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.companion_cost_details?.cost_per_companion?.amount ?? 'N/A' }}\n          </div>\n          <div>\n            Total Companion Cost:\n            {{ salesData?.price_break_down?.companion_cost_details?.total_companion_cost?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.companion_cost_details?.total_companion_cost?.amount ?? 'N/A' }}\n          </div>\n        </div>\n        <div>\n          <strong>Observer Cost:</strong>\n          <div>\n            Number of Observers:\n            {{ salesData?.price_break_down?.observer_cost_details?.number_of_observers ?? 'N/A' }}\n          </div>\n          <div>\n            Cost per Observer:\n            {{ salesData?.price_break_down?.observer_cost_details?.cost_per_observer?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.observer_cost_details?.cost_per_observer?.amount ?? 'N/A' }}\n          </div>\n          <div>\n            Total Observer Cost:\n            {{ salesData?.price_break_down?.observer_cost_details?.total_observer_cost?.currency?.symbol ?? 'N/A' }}\n            {{ salesData?.price_break_down?.observer_cost_details?.total_observer_cost?.amount ?? 'N/A' }}\n          </div>\n        </div>\n      </div>\n      <!-- more information -->\n      <!-- h2 -->\n      <VaDivider class=\"my-4\" />\n\n      <h2 class=\"text-center text-lg font-bold\">MORE INFORMATION</h2>\n\n      <VaDivider class=\"my-4\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <VaTitle class=\"font-bold\">Companions</VaTitle>\n        </div>\n        <VaButton size=\"small\" preset=\"secondary\" round border-color=\"primary\" @click=\"_shCMd = !_shCMd\">\n          Add companions\n        </VaButton>\n      </div>\n      <VaDataTable :items=\"companions\" />\n\n      <VaDivider class=\"my-4\" />\n\n      <h2 class=\"text-center text-lg font-bold\">Safari Extras</h2>\n      <VaDivider class=\"my-4 va-divider--dashed\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <p><strong>Observers</strong></p>\n        </div>\n        <VaButton size=\"small\" round preset=\"secondary\" border-color=\"primary\" @click=\"_shOMd = !_shOMd\">\n          Add observers\n        </VaButton>\n      </div>\n      <VaDataTable :items=\"observers\" />\n      <VaDivider class=\"my-4\" />\n      <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n        <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n          <p><strong>Safari Extras services</strong></p>\n        </div>\n\n        <VaButton\n          preset=\"primary\"\n          class=\"mr-2 mb-2\"\n          border-color=\"primary\"\n          round\n          icon=\"add\"\n          size=\"small\"\n          @click=\"_showSafariExtrasModal()\"\n        >\n          Add Extras\n        </VaButton>\n      </div>\n\n      <VaDataTable :items=\"clientSafariExtras\" />\n    </section>\n\n    <!-- <VaInnerLoading :loading=\"loading\"> -->\n    <VaModal\n      v-model=\"isOpened\"\n      :overlay=\"true\"\n      size=\"large\"\n      no-outside-dismiss\n      :hide-default-actions=\"true\"\n      :close-button=\"true\"\n    >\n      <VaProgressBar v-if=\"loading\" :indeterminate=\"loading\" class=\"mb-4 mt-6\" />\n\n      <template v-if=\"salesData?.status?.status == 'pending'\">\n        <div class=\"flex flex-row\">\n          <VaCheckbox\n            v-model=\"selection\"\n            :disabled=\"true\"\n            array-value=\"provision_sales\"\n            label=\"Signed Contract\"\n            class=\"mb-6\"\n          />\n          <VaCheckbox v-model=\"selection\" array-value=\"confirm\" label=\"Payment Document\" class=\"mb-6\" />\n        </div>\n\n        <div class=\"flex flex-col\">\n          <div class=\"flex flex-row mb-4\">\n            <template v-if=\"selection.includes('provision_sales')\">\n              <div class=\"flex-1\">\n                <VaFileUpload\n                  v-model=\"file\"\n                  dropzone\n                  upload-button-text=\"Upload Signed Contract\"\n                  drop-zone-text=\"\"\n                  color=\"secondary\"\n                  file-types=\"application/pdf\"\n                  :max-size=\"1000000\"\n                  :max-files=\"1\"\n                />\n              </div>\n            </template>\n\n            <template v-if=\"selection.includes('confirm')\">\n              <div class=\"flex-1\">\n                <VaFileUpload\n                  v-model=\"payfile\"\n                  upload-button-text=\"Upload Payment Document\"\n                  dropzone\n                  color=\"secondary\"\n                  drop-zone-text=\"\"\n                  file-types=\"application/pdf\"\n                  :max-size=\"1000000\"\n                  :max-files=\"1\"\n                />\n              </div>\n            </template>\n          </div>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaDateInput v-model=\"paymentForm.date\" label=\"Transaction Date\" placeholder=\"Enter Transaction Date\" />\n            </div>\n\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaSelect\n                v-model=\"paymentForm.accountType\"\n                :options=\"accountsOption\"\n                label=\"Account\"\n                placeholder=\"Select Account\"\n              />\n            </div>\n\n            <div v-if=\"selection.includes('confirm')\" class=\"mb-2\">\n              <VaInput\n                v-model=\"paymentForm.reference_number\"\n                label=\"Reference Number\"\n                type=\"text\"\n                placeholder=\"Enter Reference Number\"\n              />\n            </div>\n\n            <div class=\"mb-3\">\n              <VaInput v-model=\"paymentForm.amount\" label=\"Amount\" type=\"text\" placeholder=\"Enter Amount\" />\n            </div>\n            <div class=\"mb-2\">\n              <VaSelect\n                v-model=\"paymentForm.currency_id\"\n                :options=\"currencyOptions\"\n                label=\"Currency\"\n                placeholder=\"Select Currency\"\n              />\n            </div>\n          </div>\n\n          <VaTextarea\n            v-model=\"paymentForm.narration\"\n            label=\"Narration\"\n            type=\"text\"\n            placeholder=\"Enter Narration\"\n            class=\"w-full h-full\"\n          />\n        </div>\n      </template>\n\n      <template v-else-if=\"salesData?.status?.status == 'provision_sales'\">\n        <VaFileUpload\n          v-model=\"payfile\"\n          upload-button-text=\"Upload Payment Document\"\n          dropzone\n          color=\"secondary\"\n          drop-zone-text=\"\"\n          file-types=\"application/pdf\"\n          :max-size=\"1000000\"\n          :max-files=\"1\"\n        />\n\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div class=\"mb-2\">\n            <VaSelect\n              v-model=\"paymentForm.accountType\"\n              :options=\"accountsOption\"\n              label=\"Account\"\n              placeholder=\"Select Account\"\n            />\n          </div>\n\n          <div class=\"mb-3\">\n            <VaInput v-model=\"paymentForm.amount\" label=\"Amount\" type=\"text\" placeholder=\"Enter Amount\" />\n          </div>\n          <div class=\"mb-2\">\n            <VaSelect\n              v-model=\"paymentForm.currency_id\"\n              :options=\"currencyOptions\"\n              label=\"Currency\"\n              placeholder=\"Select Currency\"\n            />\n          </div>\n\n          <div class=\"mb-2\">\n            <VaDateInput v-model=\"paymentForm.date\" label=\"Transaction Date\" placeholder=\"Enter Transaction Date\" />\n          </div>\n\n          <div class=\"mb-2\">\n            <VaInput\n              v-model=\"paymentForm.reference_number\"\n              label=\"Reference Number\"\n              type=\"text\"\n              placeholder=\"Enter Reference Number\"\n            />\n          </div>\n          <VaTextarea\n            v-model=\"paymentForm.narration\"\n            label=\"Narration\"\n            type=\"text\"\n            placeholder=\"Enter Narration\"\n            class=\"w-full h-full\"\n          />\n        </div>\n      </template>\n\n      <div>\n        <VaButton :disabled=\"loading\" class=\"mt-2\" @click=\"submit\">Save</VaButton>\n      </div>\n    </VaModal>\n\n    <VaModal v-model=\"_shCMd\" :close-button=\"true\" :hide-default-actions=\"true\">\n      <!-- <ObserversForm :sales-inquiry-id=\"item.id\"> </ObserversForm>\n      </section> -->\n\n      <CompanionForm :sales-inquiry-id=\"salesData?.sales_inquiry.id\"> </CompanionForm>\n    </VaModal>\n\n    <VaModal v-model=\"_shOMd\" :close-button=\"true\" :hide-default-actions=\"true\">\n      <ObserversForm :sales-inquiry-id=\"salesData?.sales_inquiry.id\"> </ObserversForm>\n    </VaModal>\n\n    <VaModal v-model=\"_shM\" width=\"60%\" height=\"80%\" :hide-default-actions=\"true\">\n      <SafariExtrasList :table-selectable=\"true\" :item=\"salesData.sales_inquiry\" />\n    </VaModal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions, mapState, mapWritableState } from 'pinia'\nimport { defineComponent } from 'vue'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport handleErrors from '../../../../utils/errorHandler'\nimport getStatusColor from '../../../../utils/status_color'\nimport { useAccountsStore } from '../../../../stores/account-store'\nimport { format } from 'date-fns'\nimport downloadPdf from '../../../../utils/pdfDownloader'\nimport CompanionForm from './CompanionForm.vue'\nimport ObserversForm from './ObserversForm.vue'\nimport SafariExtrasList from './SalesClientSafariExtrasForm.vue'\n\nexport default defineComponent({\n  components: {\n    CompanionForm,\n    ObserversForm,\n    SafariExtrasList,\n  },\n\n  props: {\n    salesData: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['download-confirmation'],\n  data() {\n    // Description, Amount Due, Days, Due Limit, and Status Columns\n    const columns = [\n      { key: 'narration', label: 'Description' },\n      { key: 'amount_due', label: 'Amount Due (USD)' },\n      { key: 'due_days', label: 'Days' }, // Added days\n      { key: 'amount_due_type', label: 'Due Type' },\n      { key: 'due_days_type', label: 'Due Type' },\n    ]\n\n    return {\n      columns,\n      isOpened: false,\n      file: [],\n      payfile: [],\n      docType: null as any,\n      docTypes: [],\n      confirmText: 'Confirm',\n      disabledConfirmButton: false,\n      selection: ['provision_sales'],\n      paymentForm: {\n        currency_id: null as any,\n        date: null as any,\n        accountType: null as any,\n        reference_number: null as any,\n        amount: this.salesData?.price_break_down?.total_amount?.amount,\n        narration: '',\n      },\n      buttonColor: 'primary',\n      createDRTransaction: false,\n      createCRTransaction: false,\n      completingSales: false,\n      // showComModal: false,\n      // showObModal: false,\n\n      downloadPdf,\n\n      statusOptions: [\n        { value: 'provision_sales', text: 'Confirmed, but no disposit yet' },\n        { value: 'confirmed', text: 'Confirmed, With a disposit' },\n        { value: 'declined', text: 'Declined' },\n        { value: 'cancelled', text: 'Cancelled' },\n        { value: 'completed', text: 'Completed' },\n      ],\n      getStatusColor,\n      files: [] as any[],\n      status: '',\n      loading: false,\n      transaction_type: '',\n      accountsOption: [\n        {\n          value: 'CASH_IN_HAND',\n          text: 'Cash in Hand',\n        },\n        {\n          value: 'BANK',\n          text: 'Bank trasfer',\n        },\n        // {\n        //   value: 'DEBTOR_ACCOUNT',\n        //   text: 'Debtor Account',\n        // },\n      ] as any,\n      currencyOptions: [\n        {\n          value: 1,\n          text: 'USD',\n        },\n        {\n          value: 2,\n          text: 'Tsh',\n        },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['observers', 'companions', 'clientSafariExtras']),\n    ...mapWritableState(useSalesInquiriesStore, {\n      _shM: 'showSafariExtrasModal',\n    }),\n\n    ...mapWritableState(useSalesInquiriesStore, { _shOMd: 'showObserversModal' }),\n    ...mapWritableState(useSalesInquiriesStore, { _shCMd: 'showCompanionsModal' }),\n  },\n  mounted() {\n    // this.getDocTypeOptions()\n    this.showConfirmButtonTextByStatus()\n    this.getObservers(this.salesData.sales_inquiry.id)\n    this.getCompanions(this.salesData.sales_inquiry.id)\n    this.getClienSafariExtras(this.salesData.sales_inquiry.id)\n  },\n  methods: {\n    ...mapActions(useSettingsStore, ['getDocTypes']),\n    ...mapActions(useSalesInquiriesStore, ['updatesalesConfirmationStatus']),\n    ...mapActions(useAccountsStore, ['createCRDRTransaction', 'createDRCRTransaction']),\n    ...mapActions(useSalesInquiriesStore, ['getObservers', 'getCompanions']),\n    ...mapActions(useSalesInquiriesStore, ['createsafariExtras', 'getClienSafariExtras']),\n\n    getContactByType(type: any) {\n      return this.salesData.sales_inquiry.entity.contacts.find((contact: any) => contact.contact_type === type)\n    },\n    formatDate(dateString: any) {\n      const options: any = { year: 'numeric', month: 'long', day: 'numeric' }\n      return new Date(dateString).toLocaleDateString(undefined, options)\n    },\n    _showSafariExtrasModal() {\n      this._shM = true\n    },\n\n    downloadConfirmation() {\n      this.$emit('download-confirmation', this.salesData)\n    },\n\n    async complete() {\n      this.status = 'completed'\n      this.completingSales = true\n      await this.completeOrCancel('Sales Confirmation Completed.')\n    },\n\n    async completeOrCancel(displayMessage: any) {\n      const payload = {\n        entityId: this.salesData.sales_inquiry.entity.id,\n        contractDoc: this.file[0],\n        paymentDoc: this.payfile[0],\n        salesConfirmationProposalId: this.salesData.id,\n        statusId: this.status,\n        quotaId: this.salesData?.proposed_package?.sales_package?.sales_quota?.id,\n        areaId: this.salesData.sales_inquiry.area[0].area.id,\n      }\n      try {\n        const response = await this.updatesalesConfirmationStatus(payload)\n        if (response.status === 200) {\n          this.isOpened = false\n          this.loading = false\n          this.$vaToast.init({\n            message: displayMessage,\n            color: 'success',\n          })\n          this.completingSales = false\n        } else {\n          this.$vaToast.init({\n            message: 'Failed to process the request',\n            color: 'danger',\n          })\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        if (errors.length > 0) {\n          this.loading = false\n          this.completingSales = true\n\n          this.$vaToast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    async cancel() {\n      const confirm = await this.$vaModal.confirm('Are you sure you want to cancel this sales?')\n      if (confirm) {\n        this.status = 'cancelled'\n        await this.completeOrCancel('Sales Confirmation Cancelled.')\n      }\n    },\n\n    handleTransactionTypeStatus(selection: string[], file: any, payfile: any): void {\n      this.loading = true\n\n      const fileExists = (fileToCheck: any) => this.files.some((existingFile: any) => existingFile.file === fileToCheck)\n      if (this.salesData.status.status === 'pending') {\n        // Check for both provision sales and payment document selection\n        if (selection.includes('provision_sales') && selection.includes('confirm') && selection.length === 2) {\n          this.status = 'confirmed'\n          this.transaction_type = 'RECEIPT'\n\n          this.createCRTransaction = true\n\n          if (file[0] === undefined && payfile[0] === undefined) {\n            // this.paymentDocRequired = true\n            this.$vaToast.init({\n              message: 'Please upload both Signed Contract and Payment Document',\n              color: 'danger',\n            })\n            this.loading = false\n            throw new Error('Please upload both Signed Contract and Payment Document')\n          }\n\n          // Check for only provision sales selection\n        } else if (selection.includes('provision_sales') && selection.length === 1) {\n          this.status = 'provision_sales'\n          this.transaction_type = 'SALES_INVOICE'\n          this.createDRTransaction = true\n\n          //  console all files\n          console.log('File:', file[0])\n          console.log('Payfile:', payfile[0])\n\n          if (file[0] === undefined) {\n            this.$vaToast.init({\n              message: 'Please upload Signed Contract',\n              color: 'danger',\n            })\n            this.loading = false\n\n            throw new Error('Please upload Signed Contract')\n          }\n\n          // Check for only payment confirmation selection\n        } else if (selection.includes('confirm') && selection.length === 1) {\n          this.status = 'confirmed'\n          this.transaction_type = 'RECEIPT'\n          this.createCRTransaction = true\n\n          if (payfile[0] === undefined) {\n            this.$vaToast.init({\n              message: 'Please upload Payment Document',\n              color: 'danger',\n            })\n            this.loading = false\n\n            throw new Error('Please upload Payment Document')\n          }\n        }\n\n        // Handle if the status is already provision_sales\n      } else if (this.salesData.status.status === 'provision_sales' && !fileExists(payfile[0])) {\n        this.status = 'confirmed'\n        this.transaction_type = 'RECEIPT'\n        this.createCRTransaction = true\n\n        if (payfile[0] === undefined) {\n          this.$vaToast.init({\n            message: 'Please upload Payment Document',\n            color: 'danger',\n          })\n          this.loading = false\n\n          throw new Error('Please upload Payment Document')\n        }\n      }\n    },\n\n    async submit() {\n      try {\n        this.handleTransactionTypeStatus(this.selection, this.file, this.payfile)\n      } catch (error: any) {\n        console.error('Error:', error)\n        this.loading = false\n        return\n      }\n\n      const transactionPayload = {\n        // optional for  Dr transaction\n        date: format(this.paymentForm.date, 'yyyy-MM-dd') ?? null,\n        account_type: this.paymentForm?.accountType?.value ?? 'SALES_ACCOUNT',\n        reference_number: this.paymentForm.reference_number ?? null,\n\n        currency_id: this.paymentForm.currency_id.value,\n        transaction_type: this.transaction_type,\n        amount: this.paymentForm.amount,\n        narration: this.paymentForm.narration,\n        accountable_id: this.salesData.sales_inquiry.entity.id,\n        accountable_type_id: this.salesData.sales_inquiry.entity.category.id,\n        sales_confirmation_id: this.salesData.id,\n      }\n\n      const payload = {\n        entityId: this.salesData.sales_inquiry.entity.id,\n        contractDoc: this.file[0],\n        paymentDoc: this.payfile[0],\n        salesConfirmationProposalId: this.salesData.id,\n        statusId: this.status,\n        // quotaId: this.salesData.proposed_package.sales_package.sales_quota?.id,\n        areaId: this.salesData.sales_inquiry.area[0].area.id,\n      }\n\n      try {\n        if (this.createCRTransaction) {\n          const response = await this.updatesalesConfirmationStatus(payload)\n\n          if (response.status === 200) {\n            // Create the transaction\n            const transactionResponse = await this.createCRDRTransaction(transactionPayload)\n            // Wait for this API call to finish\n\n            // Now check if the transaction was successful\n            if (transactionResponse.status === 201) {\n              this.isOpened = false\n              this.loading = false\n              this.$vaToast.init({\n                message: transactionResponse.data.message,\n                color: 'success',\n              })\n\n              // Optional additional API call here if needed\n              // e.g. await this.callAnotherAPI();\n            } else {\n              this.$vaToast.init({\n                message: 'Failed to create transaction',\n                color: 'danger',\n              })\n            }\n          } else {\n            this.$vaToast.init({\n              message: 'Failed to update Sales',\n              color: 'danger',\n            })\n          }\n        } else if (this.createDRTransaction) {\n          // Similar logic for DR transaction creation\n          const response = await this.updatesalesConfirmationStatus(payload)\n\n          if (response.status === 200) {\n            const drcrResponse = await this.createDRCRTransaction(transactionPayload)\n\n            await this.delay(1000) // Optional delay before creating transaction if needed\n            if (drcrResponse.status === 201) {\n              this.isOpened = false\n              this.loading = false\n              this.$vaToast.init({\n                message: drcrResponse.data.message,\n                color: 'success',\n              })\n              // Optional additional API call here if needed\n              // e.g. await this.callAnotherAPI();\n            } else {\n              this.$vaToast.init({\n                message: 'Failed to create transaction',\n                color: 'danger',\n              })\n            }\n          } else {\n            this.$vaToast.init({\n              message: 'Failed to update Sales',\n              color: 'danger',\n            })\n          }\n        }\n      } catch (error: any) {\n        const errors = handleErrors(error.response)\n        this.loading = false\n        if (errors.length > 0) {\n          this.$vaToast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else {\n          error.message &&\n            this.$vaToast.init({\n              message: error.message,\n              color: 'danger',\n            })\n        }\n      }\n    },\n\n    // Helper function to create a delay\n    delay(ms: any) {\n      return new Promise((resolve) => setTimeout(resolve, ms))\n    },\n\n    // Function to call another API\n\n    showConfirmButtonTextByStatus() {\n      switch (this.salesData.status.status) {\n        case 'confirmed':\n          this.confirmText = 'Cancel Now'\n          this.disabledConfirmButton = false\n          this.buttonColor = 'danger'\n          break\n        case 'completed':\n          this.confirmText = 'Sales Done'\n          this.disabledConfirmButton = true\n          break\n        case 'declined':\n          this.confirmText = 'Confirm and Decline'\n          this.disabledConfirmButton = false\n          break\n        case 'cancelled':\n          this.confirmText = 'Confirm and Cancel'\n          this.disabledConfirmButton = false\n          break\n        case 'provision_sales':\n          this.confirmText = 'Confirm a Provision Sales'\n          this.disabledConfirmButton = false\n          break\n        default:\n          this.confirmText = 'Confirm'\n          break\n\n        // case 'provision_sales':\n        //   this.confirmText = 'Confirm and Provision Sales'\n      }\n    },\n\n    async getDocTypeOptions() {\n      try {\n        const response = await this.getDocTypes()\n\n        // Log the response to see the structure\n        console.log('Response from getDocTypes:', response)\n\n        if (response.status === 200) {\n          // Update the docTypes array\n          const docTypesArray = response.data.map((docType: any) => ({\n            value: docType.id,\n            text: docType.name,\n          }))\n\n          // Log the docTypes array to verify the mapping\n          console.log('Mapped docTypes:', docTypesArray)\n\n          // Update the component's data property\n          this.docTypes = docTypesArray\n        } else {\n          console.error('Failed to fetch document types: ', response)\n        }\n      } catch (error) {\n        console.error('Error fetching document types: ', error)\n      }\n    },\n\n    showModal() {\n      this.isOpened = true\n    },\n\n    // getStatus(\n  },\n})\n</script>\n\n<style scoped>\n.sales-confirmation {\n  font-family: 'Arial', sans-serif;\n  max-width: 1000px;\n  margin: auto;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  /* background-color: #f9f9f9; */\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n}\n\n.action-buttons {\n  display: flex;\n  justify-content: flex-end; /* Align buttons to the right */\n  margin-bottom: 20px;\n}\n\n.section {\n  margin-bottom: 20px;\n  border-bottom: 1px solid #ddd;\n  padding-bottom: 15px;\n}\n\nh2 {\n  font-size: 20px;\n  color: #444;\n}\n\n.details-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.va-table-responsive {\n  overflow-x: auto;\n}\n\n.va-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.va-table th,\n.va-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.va-table th {\n  background-color: #f2f2f2;\n  color: #333;\n  font-weight: bold;\n}\n\n.installments-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\n.installments-table th,\n.installments-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.installments-table th {\n  background-color: #f2f2f2;\n  color: #333;\n  font-weight: bold;\n}\n\n.installments-table tr:hover {\n  background-color: #f1f1f1;\n}\n</style>\n","<template>\n  <VaCard>\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"viewDetails\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"gotBack()\">\n          Go Back\n        </VaButton>\n      </div>\n    </div>\n\n    <template v-if=\"viewDetails\">\n      <SalesConfirmationClientDetails :sales-data=\"item\"> </SalesConfirmationClientDetails>\n    </template>\n\n    <template v-else>\n      <!-- <div v-if=\"results?.length > 0\"> -->\n\n      <VaDataTable :items=\"results\" :columns=\"columns\" :loading=\"loadingresults\" @onView=\"onRowClick\">\n        <template #cell(status)=\"{ value }\">\n          <VaChip :color=\"getStatusColorForModal(value)\" size=\"small\">\n            {{ value }}\n          </VaChip>\n        </template>\n\n        <template #cell(actions)=\"{ rowData }\">\n          <div class=\"flex justify-center items-center\">\n            <VaButton plain color=\"primary\" class=\"mr-2\" @click=\"onRowClick(rowData)\">\n              {{ getbuttonTextBasedOnStatus(rowData.status) }}\n            </VaButton>\n            <VaButton plain icon=\"download\" @click=\"downloadPdf(rowData.selfitem.pdf)\"> </VaButton>\n          </div>\n        </template>\n      </VaDataTable>\n    </template>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { mapActions, mapState } from 'pinia'\nimport SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\nimport downloadPdf from '../../../utils/pdfDownloader'\n\nexport default {\n  components: {\n    // ModuleTable,\n    SalesConfirmationClientDetails,\n  },\n  data() {\n    return {\n      items: [] as Array<any>,\n      searchText: null as any,\n      columns: [\n        // { key: 'code', label: 'Code', width: 80 },\n        { key: 'name', label: 'Client', width: 120 },\n        { key: 'area', label: 'Area', width: 120 },\n        { key: 'airport_name', label: 'Airport', width: 50 },\n        { key: 'arrival', label: 'Arrival', width: 120 },\n        { key: 'charter_in', label: 'Charter In', width: 120 },\n        { key: 'charter_out', label: 'Charter Out', width: 80 },\n        { key: 'status', label: 'Status', width: 120 },\n        { key: 'actions', width: 80 },\n      ],\n\n      viewDetails: false,\n      item: null as any,\n      buttondisables: true,\n      downloadPdf,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['results', 'loadingresults']),\n  },\n  mounted() {\n    this.getSalesConfirmations()\n  },\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['getallSalesConfirmation']),\n\n    async getSalesConfirmations() {\n      await this.getallSalesConfirmation()\n    },\n\n    onRowClick(row: any) {\n      // Do something with the row data\n      // console.log(row)\n      this.item = row.selfitem\n      this.viewDetails = true\n    },\n\n    gotBack() {\n      this.viewDetails = false\n      this.getSalesConfirmations()\n      // this.item = null\n    },\n\n    getStatusColorForModal(status: any) {\n      switch (status) {\n        case 'pending':\n          return 'warning'\n        case 'provision_sales':\n          return 'warning' // Adjust as needed\n        case 'confirmed':\n          return 'success'\n        case 'declined':\n          return 'danger' // Corresponds to VaBadge color\n        case 'cancelled':\n          return 'danger' // or appropriate color\n        case 'completed':\n          return 'primary' // or appropriate color\n        default:\n          return 'default' // fallback color\n      }\n    },\n\n    getbuttonTextBasedOnStatus(status: any) {\n      switch (status) {\n        case 'pending':\n          return 'confirm'\n        case 'provision_sales':\n          return 'confirm' // Adjust as needed\n        case 'confirmed':\n          return 'view'\n        case 'declined':\n          this.buttondisables = true\n          return 'View' // Corresponds to VaBadge color\n        case 'cancelled':\n          return 'view' // or appropriate color\n        case 'completed':\n          return 'View' // or appropriate color\n        default:\n          return 'default' // fallback color\n      }\n    },\n  },\n}\n\n// Define your methods here if you have any to implement\n</script>\n\n<style scoped>\n/* Add any styles specific to this component */\n</style>\n","<template>\n  <VaCard>\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between px-4 py-2\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"viewDetails\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"gotBack()\">\n          Go Back\n        </VaButton>\n      </div>\n    </div>\n\n    <template v-if=\"viewDetails\">\n      <SalesConfirmationClientDetails :sales-data=\"item\"> </SalesConfirmationClientDetails>\n    </template>\n\n    <template v-else>\n      <!-- <div v-if=\"results?.length > 0\"> -->\n\n      <VaDataTable :items=\"results\" :columns=\"columns\" :loading=\"loadingresults\" @onView=\"onRowClick\">\n        <template #cell(status)=\"{ value }\">\n          <VaChip :color=\"getStatusColorForModal(value)\" size=\"small\">\n            {{ value }}\n          </VaChip>\n        </template>\n\n        <template #cell(actions)=\"{ rowData }\">\n          <div class=\"flex justify-center items-center\">\n            <VaButton plain color=\"primary\" class=\"mr-2\" @click=\"onRowClick(rowData)\">\n              {{ getbuttonTextBasedOnStatus(rowData.status) }}\n            </VaButton>\n            <VaButton plain icon=\"download\" @click=\"downloadPdf(rowData.selfitem.pdf)\"> </VaButton>\n          </div>\n        </template>\n      </VaDataTable>\n    </template>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { mapActions, mapState } from 'pinia'\nimport SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\nimport downloadPdf from '../../../utils/pdfDownloader'\n\nexport default {\n  components: {\n    // ModuleTable,\n    SalesConfirmationClientDetails,\n  },\n  data() {\n    return {\n      items: [] as Array<any>,\n      searchText: null as any,\n      columns: [\n        // { key: 'code', label: 'Code', width: 80 },\n        { key: 'name', label: 'Client', width: 120 },\n        { key: 'area', label: 'Area', width: 120 },\n        { key: 'airport_name', label: 'Airport', width: 50 },\n        { key: 'arrival', label: 'Arrival', width: 120 },\n        { key: 'charter_in', label: 'Charter In', width: 120 },\n        { key: 'charter_out', label: 'Charter Out', width: 80 },\n        { key: 'status', label: 'Status', width: 120 },\n        { key: 'actions', width: 80 },\n      ],\n\n      viewDetails: false,\n      item: null as any,\n      buttondisables: true,\n      downloadPdf,\n    }\n  },\n  computed: {\n    ...mapState(useSalesInquiriesStore, ['results', 'loadingresults']),\n  },\n  mounted() {\n    this.getSalesConfirmations()\n  },\n  methods: {\n    ...mapActions(useSalesInquiriesStore, ['getallSalesConfirmation']),\n\n    async getSalesConfirmations() {\n      await this.getallSalesConfirmation()\n    },\n\n    onRowClick(row: any) {\n      // Do something with the row data\n      // console.log(row)\n      this.item = row.selfitem\n      this.viewDetails = true\n    },\n\n    gotBack() {\n      this.viewDetails = false\n      this.getSalesConfirmations()\n      // this.item = null\n    },\n\n    getStatusColorForModal(status: any) {\n      switch (status) {\n        case 'pending':\n          return 'warning'\n        case 'provision_sales':\n          return 'warning' // Adjust as needed\n        case 'confirmed':\n          return 'success'\n        case 'declined':\n          return 'danger' // Corresponds to VaBadge color\n        case 'cancelled':\n          return 'danger' // or appropriate color\n        case 'completed':\n          return 'primary' // or appropriate color\n        default:\n          return 'default' // fallback color\n      }\n    },\n\n    getbuttonTextBasedOnStatus(status: any) {\n      switch (status) {\n        case 'pending':\n          return 'confirm'\n        case 'provision_sales':\n          return 'confirm' // Adjust as needed\n        case 'confirmed':\n          return 'view'\n        case 'declined':\n          this.buttondisables = true\n          return 'View' // Corresponds to VaBadge color\n        case 'cancelled':\n          return 'view' // or appropriate color\n        case 'completed':\n          return 'View' // or appropriate color\n        default:\n          return 'default' // fallback color\n      }\n    },\n  },\n}\n\n// Define your methods here if you have any to implement\n</script>\n\n<style scoped>\n/* Add any styles specific to this component */\n</style>\n"],"names":["getStatusColor","status","_sfc_main$5","defineComponent","VaForm","VaInput","VaSelect","VaButton","formRef","ref","contactFormRef","showAddSalesInquiriesForm","btnIcon","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isValidContactForm","validateContactForm","resetValidationContactForm","resetContactForm","init","useToast","showDetailsPage","form","reactive","contactForm","toggleAddSalesInquiriesForm","gotBack","countries","nationality","categoryOptions","contactsTypes","clients","step","getCountries","config","response","axios","country","getCategories","category","getNationalities","getContactTypes","contactType","contactFieldType","computed","contact_field_type","_a","onMounted","validators","downloadPdf","mapState","useSettingsStore","mapActions","useQuotaStore","useSalesInquiriesStore","useRegulatoryPackageStore","contacts","requestdata","format","error","errors","handleErrors","index","i","data","item","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createBlock","_component_VaCard","_createVNode","_component_VaCardContent","_component_VaForm","_createElementVNode","_cache","_component_VaInput","_ctx","$event","value","_component_VaSelect","v","_createCommentVNode","_component_VaButton","_withCtx","_createTextVNode","_sfc_main$4","_sfc_main$3","payload","_openBlock","_createElementBlock","_Fragment","_component_VaTextarea","_sfc_main$2","SafariExtrasForm","useAccountsStore","mapWritableState","_component_VaIcon","_component_VaDataTable","rowData","_component_VaModal","_component_SafariExtrasForm","_sfc_main$1","CompanionForm","ObserversForm","SafariExtrasList","_c","_b","type","contact","dateString","options","displayMessage","_d","selection","file","payfile","fileExists","fileToCheck","existingFile","transactionPayload","transactionResponse","drcrResponse","ms","resolve","docTypesArray","docType","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_33","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_f","_e","_toDisplayString","_g","_i","_h","_j","_l","_k","_n","_m","_component_VaBadge","_p","_o","_r","_q","_t","_s","_v","_u","_y","_x","_w","_z","_A","_B","_F","_E","_D","_C","_J","_I","_H","_G","_M","_L","_K","_P","_O","_N","_S","_R","_Q","_V","_U","_T","_Y","_X","_W","_$","__","_Z","_renderList","_ba","_aa","species","_fa","_ea","_da","_ca","_ja","_ia","_ha","_ga","_la","_ka","_na","_ma","_pa","_oa","_ra","_qa","_sa","_va","_ua","_ta","_ya","_xa","_wa","_Ba","_Aa","_za","_Ea","_Da","_Ca","_Ia","_Ha","_Ga","_Fa","_La","_Ka","_Ja","_Pa","_Oa","_Na","_Ma","_Sa","_Ra","_Qa","_Va","_Ua","_Ta","__a","_Za","_Ya","_Xa","_Wa","_cb","_bb","_ab","_$a","_hb","_gb","_fb","_eb","_db","_lb","_kb","_jb","_ib","_ob","_nb","_mb","_tb","_sb","_rb","_qb","_pb","_xb","_wb","_vb","_ub","_Cb","_Bb","_Ab","_zb","_yb","_Gb","_Fb","_Eb","_Db","_component_VaDivider","_component_VaTitle","_component_VaProgressBar","_component_VaCheckbox","_hoisted_31","_component_VaFileUpload","_hoisted_32","_hoisted_34","_component_VaDateInput","_hoisted_35","_hoisted_36","_component_CompanionForm","_component_ObserversForm","_component_SafariExtrasList","_sfc_main","SalesConfirmationClientDetails","row","$data","$options","_component_SalesConfirmationClientDetails","_component_VaChip"],"mappings":"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"}