{"version":3,"file":"SalesInquiries-CYIovKjx.js","sources":["../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/Salesinquirieslist.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/components/SalesInquiryDetails.vue","../../src/pages/client/dashboard/SalesInquiries.vue","../../src/pages/client/dashboard/SalesInquiries.vue"],"sourcesContent":["<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(name)=\"{ rowData }\">\n      <span class=\"font-semibold text-gray-900\">{{ (rowData as any).name }}</span>\n    </template>\n\n    <template #cell(area)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaIcon name=\"location_on\" size=\"small\" color=\"primary\" />\n        <span>{{ (rowData as any).area }}</span>\n      </div>\n    </template>\n\n    <template #cell(start_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).start_date) }}</span>\n    </template>\n\n    <template #cell(end_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).end_date) }}</span>\n    </template>\n\n    <template #cell(season)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ (rowData as any).season }}</span>\n    </template>\n\n    <template #cell(species_count)=\"{ rowData }\">\n      <VaBadge :text=\"String((rowData as any).species_count)\" color=\"success\" />\n    </template>\n\n    <template #cell(status)=\"{ rowData }\">\n      <VaBadge\n        :text=\"(rowData as any).status\"\n        :color=\"\n          (rowData as any).status === 'ACTIVE' ? 'success' : (rowData as any).status === 'PENDING' ? 'warning' : 'info'\n        \"\n      />\n    </template>\n\n    <template #cell(actions)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaButton preset=\"plain\" icon=\"visibility\" size=\"small\" @click=\"btnViewClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"edit\" size=\"small\" color=\"warning\" @click=\"btnEditClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"delete\" size=\"small\" color=\"danger\" @click=\"showDeleteConfirm(rowData)\" />\n      </div>\n    </template>\n\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"9\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" title=\"Delete Inquiry\" size=\"small\" @ok=\"confirmDelete\" @cancel=\"cancelDelete\">\n    <p>\n      Are you sure you want to delete the inquiry for \"<strong>{{ deleteItemName }}</strong\n      >\"?\n    </p>\n    <p class=\"text-sm text-gray-500 mt-2\">This action cannot be undone.</p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"cancelDelete\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDelete\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed', 'edit-btn-pressed', 'delete-btn-pressed'],\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n  data() {\n    return {\n      loading: ref(false),\n      deleting: false,\n      showDeleteModal: false,\n      deleteItemId: null as number | null,\n      deleteItemName: '',\n      columns: [\n        { key: 'name', label: 'Client Name', sortable: true },\n        { key: 'area', label: 'Area', sortable: true },\n        { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n        { key: 'start_date', label: 'Start Date', sortable: true },\n        { key: 'end_date', label: 'End Date', sortable: true },\n        { key: 'season', label: 'Season', sortable: true },\n        { key: 'species_count', label: 'Species', width: 80 },\n        { key: 'status', label: 'Status', width: 100 },\n        { key: 'actions', label: 'Actions', width: 150 },\n      ] as any,\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries', 'deleteSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    formatDate(dateString: string): string {\n      if (!dateString || dateString === 'N/A') return 'N/A'\n      const date = new Date(dateString)\n      if (isNaN(date.getTime())) return 'N/A'\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      })\n    },\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            // Get species count from inquiry_species or species array\n            const speciesCount = item?.inquiry_species?.length || item?.species?.length || 0\n\n            // Get reference price list data\n            const refPriceList = item?.reference_price_list\n            const priceListData = item?.price_lists?.[0]?.price_list?.price_list_type\n\n            // Get price and currency\n            const amount = refPriceList?.amount || priceListData?.amount || '0.00'\n            const currencySymbol = priceListData?.currency?.symbol || '$'\n\n            // Get area name\n            const areaName =\n              refPriceList?.area_name || item?.inquiry_areas?.[0]?.area_name || item?.areas?.[0]?.area?.name || 'N/A'\n\n            // Get hunting type\n            const huntingType = refPriceList?.hunting_type_name || priceListData?.hunting_type?.name || 'N/A'\n\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              name: item?.entity?.full_name || 'N/A',\n              area: areaName,\n              hunting_type: huntingType,\n              price: `${currencySymbol}${parseFloat(amount).toFixed(2)}`,\n              start_date: item?.formatted_preferences?.start_date || 'N/A',\n              end_date: item?.formatted_preferences?.end_date || 'N/A',\n              season: item?.season?.name || 'N/A',\n              species_count: speciesCount,\n              status: item?.status || 'PENDING',\n              country: item?.entity?.country?.name || item?.entity?.country_name || 'N/A',\n              nationality: item?.entity?.nationality?.name || item?.entity?.nationality_name || 'N/A',\n              contacts: item?.entity?.contacts || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              reference_price_list: refPriceList,\n              inquiry_species: item?.inquiry_species || [],\n              inquiry_areas: item?.inquiry_areas || [],\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n\n    downloadPdf(rowData: any) {\n      const inquiryId = rowData.id\n      const pdfUrl = `${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf/${inquiryId}`\n      window.open(pdfUrl, '_blank')\n    },\n\n    async downloadInquiryPdf(rowData: any) {\n      const inquiryId = rowData.id\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${rowData.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n    btnEditClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('edit-btn-pressed', rowData)\n    },\n\n    showDeleteConfirm(rowData: any) {\n      this.deleteItemId = rowData.id\n      this.deleteItemName = rowData.name\n      this.showDeleteModal = true\n    },\n\n    cancelDelete() {\n      this.showDeleteModal = false\n      this.deleteItemId = null\n      this.deleteItemName = ''\n    },\n\n    async confirmDelete() {\n      if (!this.deleteItemId) return\n\n      this.deleting = true\n      try {\n        const response: any = await this.deleteSalesInquiry(this.deleteItemId)\n        if (response.status === 200 || response.status === 204) {\n          this.notify({\n            message: 'Inquiry deleted successfully',\n            color: 'success',\n          })\n          // Refresh the list\n          this.getSalesInquiryList()\n        }\n      } catch (error: any) {\n        console.error('Error deleting inquiry:', error)\n        this.notify({\n          message: error.response?.data?.message || 'Failed to delete inquiry',\n          color: 'danger',\n        })\n      } finally {\n        this.deleting = false\n        this.showDeleteModal = false\n        this.deleteItemId = null\n        this.deleteItemName = ''\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"grid sm:grid-cols-3 gap-6 mb-6\">\n    <VaSelect\n      v-model=\"seasonValue\"\n      :options=\"seasonOptions\"\n      placeholder=\"Filter By Season\"\n      @update:modelValue=\"getSalesInquiryList\"\n    />\n    <VaDateInput v-model=\"dateValue\" placeholder=\"Filter By Date\" clearable @update:modelValue=\"getSalesInquiryList\" />\n    <VaInput v-model=\"filter\" placeholder=\"Search\" clearable @update:modelValue=\"getSalesInquiryList\" />\n  </div>\n  <VaDataTable\n    striped\n    :loading=\"loading\"\n    :items=\"salesInquiryItems\"\n    :columns=\"columns\"\n    :per-page=\"perPage\"\n    :current-page=\"currentPage\"\n    :filter=\"filter\"\n    @filtered=\"filtered = $event.items\"\n  >\n    <template #cell(name)=\"{ rowData }\">\n      <span class=\"font-semibold text-gray-900\">{{ (rowData as any).name }}</span>\n    </template>\n\n    <template #cell(area)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaIcon name=\"location_on\" size=\"small\" color=\"primary\" />\n        <span>{{ (rowData as any).area }}</span>\n      </div>\n    </template>\n\n    <template #cell(start_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).start_date) }}</span>\n    </template>\n\n    <template #cell(end_date)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ formatDate((rowData as any).end_date) }}</span>\n    </template>\n\n    <template #cell(season)=\"{ rowData }\">\n      <span class=\"text-gray-700\">{{ (rowData as any).season }}</span>\n    </template>\n\n    <template #cell(species_count)=\"{ rowData }\">\n      <VaBadge :text=\"String((rowData as any).species_count)\" color=\"success\" />\n    </template>\n\n    <template #cell(status)=\"{ rowData }\">\n      <VaBadge\n        :text=\"(rowData as any).status\"\n        :color=\"\n          (rowData as any).status === 'ACTIVE' ? 'success' : (rowData as any).status === 'PENDING' ? 'warning' : 'info'\n        \"\n      />\n    </template>\n\n    <template #cell(actions)=\"{ rowData }\">\n      <div class=\"flex items-center gap-1\">\n        <VaButton preset=\"plain\" icon=\"visibility\" size=\"small\" @click=\"btnViewClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"edit\" size=\"small\" color=\"warning\" @click=\"btnEditClicked(rowData)\" />\n        <VaButton preset=\"plain\" icon=\"delete\" size=\"small\" color=\"danger\" @click=\"showDeleteConfirm(rowData)\" />\n      </div>\n    </template>\n\n    <template #bodyAppend>\n      <tr>\n        <td colspan=\"9\">\n          <div class=\"flex justify-center mt-4\">\n            <VaPagination v-model=\"currentPage\" :pages=\"pages\" />\n          </div>\n        </td>\n      </tr>\n    </template>\n  </VaDataTable>\n\n  <!-- Delete Confirmation Modal -->\n  <VaModal v-model=\"showDeleteModal\" title=\"Delete Inquiry\" size=\"small\" @ok=\"confirmDelete\" @cancel=\"cancelDelete\">\n    <p>\n      Are you sure you want to delete the inquiry for \"<strong>{{ deleteItemName }}</strong\n      >\"?\n    </p>\n    <p class=\"text-sm text-gray-500 mt-2\">This action cannot be undone.</p>\n    <template #footer>\n      <div class=\"flex gap-2 justify-end\">\n        <VaButton preset=\"secondary\" @click=\"cancelDelete\">Cancel</VaButton>\n        <VaButton color=\"danger\" :loading=\"deleting\" @click=\"confirmDelete\">Delete</VaButton>\n      </div>\n    </template>\n  </VaModal>\n</template>\n\n<script lang=\"ts\">\nimport { mapActions } from 'pinia'\nimport { defineComponent, ref } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { useSettingsStore } from '../../../../stores/settings-store'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiriesList',\n  emits: ['download-btn-pressed', 'view-btn-pressed', 'edit-btn-pressed', 'delete-btn-pressed'],\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n  data() {\n    return {\n      loading: ref(false),\n      deleting: false,\n      showDeleteModal: false,\n      deleteItemId: null as number | null,\n      deleteItemName: '',\n      columns: [\n        { key: 'name', label: 'Client Name', sortable: true },\n        { key: 'area', label: 'Area', sortable: true },\n        { key: 'hunting_type', label: 'Hunting Type', sortable: true },\n        { key: 'start_date', label: 'Start Date', sortable: true },\n        { key: 'end_date', label: 'End Date', sortable: true },\n        { key: 'season', label: 'Season', sortable: true },\n        { key: 'species_count', label: 'Species', width: 80 },\n        { key: 'status', label: 'Status', width: 100 },\n        { key: 'actions', label: 'Actions', width: 150 },\n      ] as any,\n      salesInquiryItems: [],\n      perPage: 10,\n      currentPage: 1,\n      filter: '',\n      filtered: [],\n      seasonValue: null as any,\n      seasonOptions: [] as any,\n      dateValue: null as any,\n      mothValue: null as any,\n    }\n  },\n  computed: {\n    pages() {\n      return this.perPage && this.perPage !== 0 ? Math.ceil(this.filtered.length / this.perPage) : this.filtered.length\n    },\n  },\n  mounted() {\n    this.getSalesInquiryList()\n    this.getSeasonOptions()\n  },\n\n  methods: {\n    // getSalesInquiries()\n    ...mapActions(useSalesInquiriesStore, ['getSalesInquiries', 'deleteSalesInquiry']),\n    ...mapActions(useSettingsStore, ['getSeasons']),\n\n    formatDate(dateString: string): string {\n      if (!dateString || dateString === 'N/A') return 'N/A'\n      const date = new Date(dateString)\n      if (isNaN(date.getTime())) return 'N/A'\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      })\n    },\n\n    async getSalesInquiryList() {\n      this.loading = true\n\n      try {\n        const response: any = await this.getSalesInquiries(\n          // seasonId: number, preferredDate: string\n          this.seasonValue?.value ?? '',\n          this.dateValue ?? '',\n        )\n        if (response.status === 200) {\n          this.loading = false\n          // Handle paginated response - data is inside response.data.data\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n          this.salesInquiryItems = dataArray.map((item: any) => {\n            // Get species count from inquiry_species or species array\n            const speciesCount = item?.inquiry_species?.length || item?.species?.length || 0\n\n            // Get reference price list data\n            const refPriceList = item?.reference_price_list\n            const priceListData = item?.price_lists?.[0]?.price_list?.price_list_type\n\n            // Get price and currency\n            const amount = refPriceList?.amount || priceListData?.amount || '0.00'\n            const currencySymbol = priceListData?.currency?.symbol || '$'\n\n            // Get area name\n            const areaName =\n              refPriceList?.area_name || item?.inquiry_areas?.[0]?.area_name || item?.areas?.[0]?.area?.name || 'N/A'\n\n            // Get hunting type\n            const huntingType = refPriceList?.hunting_type_name || priceListData?.hunting_type?.name || 'N/A'\n\n            return {\n              id: item.id,\n              selfitem: item,\n              code: item?.code || '',\n              name: item?.entity?.full_name || 'N/A',\n              area: areaName,\n              hunting_type: huntingType,\n              price: `${currencySymbol}${parseFloat(amount).toFixed(2)}`,\n              start_date: item?.formatted_preferences?.start_date || 'N/A',\n              end_date: item?.formatted_preferences?.end_date || 'N/A',\n              season: item?.season?.name || 'N/A',\n              species_count: speciesCount,\n              status: item?.status || 'PENDING',\n              country: item?.entity?.country?.name || item?.entity?.country_name || 'N/A',\n              nationality: item?.entity?.nationality?.name || item?.entity?.nationality_name || 'N/A',\n              contacts: item?.entity?.contacts || [],\n              preference: {\n                no_of_hunters: item?.formatted_preferences?.no_of_hunters || 0,\n                no_of_observers: item?.formatted_preferences?.no_of_observers || 0,\n                no_of_days: item?.formatted_preferences?.no_of_days || 0,\n                no_of_companions: item?.formatted_preferences?.no_of_companions || 0,\n                special_requests: item?.formatted_preferences?.special_requests || '',\n                start_date: item?.formatted_preferences?.start_date || '',\n                end_date: item?.formatted_preferences?.end_date || '',\n                budget_estimation: item?.formatted_preferences?.budget_estimation || '',\n                preferred_date: item?.formatted_preferences?.preferred_date || '',\n              },\n              reference_price_list: refPriceList,\n              inquiry_species: item?.inquiry_species || [],\n              inquiry_areas: item?.inquiry_areas || [],\n            }\n          })\n\n          this.filtered = this.salesInquiryItems\n\n          // Add more fields here\n        }\n      } catch (error) {\n        this.loading = false\n        console.log(error)\n        // this.$toast.error(error.message)\n      }\n    },\n\n    async getSeasonOptions() {\n      const response: any = await this.getSeasons()\n      if (response.status === 200) {\n        this.seasonOptions = response.data.map((item: any) => ({\n          value: item.id,\n          text: item.name,\n        }))\n      }\n    },\n\n    btnDownloadClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('download-btn-pressed', rowData)\n    },\n\n    downloadPdf(rowData: any) {\n      const inquiryId = rowData.id\n      const pdfUrl = `${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf/${inquiryId}`\n      window.open(pdfUrl, '_blank')\n    },\n\n    async downloadInquiryPdf(rowData: any) {\n      const inquiryId = rowData.id\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${rowData.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    btnViewClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('view-btn-pressed', rowData)\n    },\n    btnEditClicked(rowData: any) {\n      console.log(rowData)\n      this.$emit('edit-btn-pressed', rowData)\n    },\n\n    showDeleteConfirm(rowData: any) {\n      this.deleteItemId = rowData.id\n      this.deleteItemName = rowData.name\n      this.showDeleteModal = true\n    },\n\n    cancelDelete() {\n      this.showDeleteModal = false\n      this.deleteItemId = null\n      this.deleteItemName = ''\n    },\n\n    async confirmDelete() {\n      if (!this.deleteItemId) return\n\n      this.deleting = true\n      try {\n        const response: any = await this.deleteSalesInquiry(this.deleteItemId)\n        if (response.status === 200 || response.status === 204) {\n          this.notify({\n            message: 'Inquiry deleted successfully',\n            color: 'success',\n          })\n          // Refresh the list\n          this.getSalesInquiryList()\n        }\n      } catch (error: any) {\n        console.error('Error deleting inquiry:', error)\n        this.notify({\n          message: error.response?.data?.message || 'Failed to delete inquiry',\n          color: 'danger',\n        })\n      } finally {\n        this.deleting = false\n        this.showDeleteModal = false\n        this.deleteItemId = null\n        this.deleteItemName = ''\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <div class=\"sales-inquiry-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ item?.code }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\" size=\"large\">\n              <VaIcon :name=\"item?.inquiry_type === 'standard' ? 'inventory_2' : 'tune'\" class=\"mr-1\" />\n              {{ item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package' }}\n            </VaChip>\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ item?.season?.name }}\n            </VaChip>\n          </div>\n          <p class=\"text-secondary mb-3\">\n            <VaIcon name=\"event\" size=\"small\" />\n            Created: {{ formatDate(item?.create_date) }}\n          </p>\n          <VaButton color=\"secondary\" round icon=\"download\" @click=\"downloadInquiryPdf\"> Download PDF </VaButton>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"person\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_hunters || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunters</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"groups\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_companions || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Companions</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"visibility\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_observers || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Observers</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Client Information Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"person\" />\n        Client Information\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Full Name</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.full_name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Nationality</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Country</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.country?.name) }}</div>\n          </div>\n        </div>\n\n        <VaDivider class=\"my-4\" />\n\n        <div class=\"text-sm text-secondary mb-2\">Contacts</div>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div\n            v-for=\"(contact, index) in safeArray(item?.entity?.contacts)\"\n            :key=\"index\"\n            class=\"flex items-center gap-2 p-3 bg-gray-50 rounded-lg\"\n          >\n            <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" color=\"primary\" />\n            <span class=\"font-medium\">{{ contact.contact }}</span>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Hunting Preferences Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"event\" />\n        Hunting Preferences\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Preferred Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Start Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">End Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Duration</div>\n            <div class=\"text-lg font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Standard Package Details -->\n    <VaCard\n      v-if=\"item?.inquiry_type === 'standard' && item?.package_details\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"success\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"inventory_2\" />\n        Standard Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaCard stripe stripe-color=\"primary\" class=\"col-span-1 md:col-span-2\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n              <div class=\"text-3xl font-bold text-primary\">\n                {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n              </div>\n              <div class=\"text-sm text-secondary mt-1\">Package Amount</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"info\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"schedule\" size=\"large\" color=\"info\" class=\"mb-2\" />\n              <div class=\"text-2xl font-bold\">{{ item?.package_details?.duration }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Days</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"warning\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"category\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n              <div class=\"text-lg font-bold\">{{ item?.package_details?.hunting_type_name }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Hunting Area</div>\n            <div class=\"text-lg font-semibold\">{{ item?.package_details?.area_name }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Package Period</div>\n            <div class=\"text-lg font-semibold\">\n              {{ formatDate(item?.package_details?.start_date) }} - {{ formatDate(item?.package_details?.end_date) }}\n            </div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Custom Package Details -->\n    <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"tune\" />\n        Custom Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <!-- Custom Areas -->\n        <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n          <div class=\"text-sm text-secondary mb-2\">Hunting Areas</div>\n          <div class=\"flex flex-wrap gap-2\">\n            <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\" size=\"large\">\n              <VaIcon name=\"location_on\" class=\"mr-1\" />\n              {{ area.area_name }}\n            </VaChip>\n          </div>\n        </div>\n\n        <!-- Custom Species -->\n        <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n          <div class=\"text-sm text-secondary mb-2\">Requested Species</div>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n            <VaCard v-for=\"(species, index) in item?.custom_details?.species\" :key=\"index\" color=\"#f0f9ff\">\n              <VaCardContent>\n                <div class=\"flex justify-between items-center\">\n                  <div class=\"font-semibold\">{{ species.species_name }}</div>\n                  <VaBadge color=\"success\">Qty: {{ species.quantity }}</VaBadge>\n                </div>\n              </VaCardContent>\n            </VaCard>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Species Section -->\n    <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n        ({{ item?.species?.length || 0 }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n          <VaCard v-for=\"(s, index) in item?.species\" :key=\"index\" :color=\"s.quantity > 0 ? '#f0f9ff' : '#fef2f2'\">\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ s.species?.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ s.species?.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"s.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\"> Qty: {{ s.quantity }} </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Observers Section -->\n    <VaCard v-if=\"observers && observers.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"visibility\" />\n        Observers ({{ observers.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(observer, index) in observers\" :key=\"index\" color=\"#f0f9ff\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ observer.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Companions Section -->\n    <VaCard v-if=\"companions && companions.length > 0\" class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"groups\" />\n        Companions ({{ companions.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(companion, index) in companions\" :key=\"index\" color=\"#f0fdf4\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ companion.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras Section -->\n    <VaCard v-if=\"clientSafariExtras && clientSafariExtras.length > 0\" class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"add_circle\" />\n        Safari Extras ({{ clientSafariExtras.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Service</th>\n                <th class=\"text-left\">Description</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(extra, index) in clientSafariExtras\" :key=\"index\">\n                <td class=\"font-semibold\">{{ extra.safari_extra?.name || extra.name }}</td>\n                <td class=\"text-secondary\">{{ extra.safari_extra?.description || extra.description || 'N/A' }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Accommodations Section -->\n    <VaCard v-if=\"accommodations && accommodations.length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"hotel\" />\n        Accommodations ({{ accommodations.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Accommodation</th>\n                <th class=\"text-left\">Type</th>\n                <th class=\"text-center\">Check-in</th>\n                <th class=\"text-center\">Check-out</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(acc, index) in accommodations\" :key=\"index\">\n                <td class=\"font-semibold\">{{ acc.name || acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-secondary\">{{ acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_in_date) }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_out_date) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Charters Section -->\n    <VaCard v-if=\"chartersPrices && chartersPrices.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"flight\" />\n        Charter Costs ({{ chartersPrices.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Charter</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(charter, index) in chartersPrices\" :key=\"index\">\n                <td class=\"font-semibold\">{{ charter.name || charter.charter?.name || 'Charter ' + (index + 1) }}</td>\n                <td class=\"text-secondary\">{{ charter.description || 'N/A' }}</td>\n                <td class=\"text-right font-bold\">{{ formatCurrency(charter.amount || charter.price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { mapState, mapActions } from 'pinia'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiryDetails',\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n  },\n\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, [\n      'getObservers',\n      'getCompanions',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    async downloadInquiryPdf() {\n      const inquiryId = this.item?.id\n      if (!inquiryId) return\n\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${this.item?.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n\n    safeArray(arr: any) {\n      return arr || []\n    },\n\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry-details {\n  padding: 1rem;\n}\n\n.text-secondary {\n  color: #6b7280;\n}\n</style>\n","<template>\n  <div class=\"sales-inquiry-details\">\n    <!-- Header Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardContent>\n        <div class=\"text-center\">\n          <h1 class=\"va-h3 mb-2\">{{ item?.code }}</h1>\n          <div class=\"flex justify-center items-center gap-4 mb-3\">\n            <VaChip :color=\"item?.inquiry_type === 'standard' ? 'success' : 'info'\" size=\"large\">\n              <VaIcon :name=\"item?.inquiry_type === 'standard' ? 'inventory_2' : 'tune'\" class=\"mr-1\" />\n              {{ item?.inquiry_type === 'standard' ? 'Standard Package' : 'Custom Package' }}\n            </VaChip>\n            <VaChip color=\"primary\" size=\"large\">\n              <VaIcon name=\"calendar_month\" class=\"mr-1\" />\n              {{ item?.season?.name }}\n            </VaChip>\n          </div>\n          <p class=\"text-secondary mb-3\">\n            <VaIcon name=\"event\" size=\"small\" />\n            Created: {{ formatDate(item?.create_date) }}\n          </p>\n          <VaButton color=\"secondary\" round icon=\"download\" @click=\"downloadInquiryPdf\"> Download PDF </VaButton>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Overview Cards -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n      <VaCard stripe stripe-color=\"primary\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"schedule\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Days Duration</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"success\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"person\" size=\"large\" color=\"success\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_hunters || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Hunters</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"warning\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"groups\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_companions || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Companions</div>\n        </VaCardContent>\n      </VaCard>\n\n      <VaCard stripe stripe-color=\"info\">\n        <VaCardContent class=\"text-center\">\n          <VaIcon name=\"visibility\" size=\"large\" color=\"info\" class=\"mb-2\" />\n          <div class=\"text-3xl font-bold\">{{ item?.formatted_preferences?.no_of_observers || 0 }}</div>\n          <div class=\"text-sm text-secondary mt-1\">Observers</div>\n        </VaCardContent>\n      </VaCard>\n    </div>\n\n    <!-- Client Information Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"person\" />\n        Client Information\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Full Name</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.full_name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Nationality</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.nationality?.name) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Country</div>\n            <div class=\"text-lg font-semibold\">{{ safeString(item?.entity?.country?.name) }}</div>\n          </div>\n        </div>\n\n        <VaDivider class=\"my-4\" />\n\n        <div class=\"text-sm text-secondary mb-2\">Contacts</div>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div\n            v-for=\"(contact, index) in safeArray(item?.entity?.contacts)\"\n            :key=\"index\"\n            class=\"flex items-center gap-2 p-3 bg-gray-50 rounded-lg\"\n          >\n            <VaIcon :name=\"getContactIcon(contact.contact_type?.name)\" color=\"primary\" />\n            <span class=\"font-medium\">{{ contact.contact }}</span>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Hunting Preferences Section -->\n    <VaCard class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"event\" />\n        Hunting Preferences\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Preferred Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.preferred_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Start Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.start_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">End Date</div>\n            <div class=\"text-lg font-semibold\">{{ formatDate(item?.formatted_preferences?.end_date) }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Duration</div>\n            <div class=\"text-lg font-semibold\">{{ item?.formatted_preferences?.no_of_days || 'N/A' }} days</div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Standard Package Details -->\n    <VaCard\n      v-if=\"item?.inquiry_type === 'standard' && item?.package_details\"\n      class=\"mb-6\"\n      stripe\n      stripe-color=\"success\"\n    >\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"inventory_2\" />\n        Standard Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n          <VaCard stripe stripe-color=\"primary\" class=\"col-span-1 md:col-span-2\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"attach_money\" size=\"large\" color=\"primary\" class=\"mb-2\" />\n              <div class=\"text-3xl font-bold text-primary\">\n                {{ item?.package_details?.currency_name }} {{ formatCurrency(item?.package_details?.amount) }}\n              </div>\n              <div class=\"text-sm text-secondary mt-1\">Package Amount</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"info\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"schedule\" size=\"large\" color=\"info\" class=\"mb-2\" />\n              <div class=\"text-2xl font-bold\">{{ item?.package_details?.duration }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Days</div>\n            </VaCardContent>\n          </VaCard>\n          <VaCard stripe stripe-color=\"warning\">\n            <VaCardContent class=\"text-center\">\n              <VaIcon name=\"category\" size=\"large\" color=\"warning\" class=\"mb-2\" />\n              <div class=\"text-lg font-bold\">{{ item?.package_details?.hunting_type_name }}</div>\n              <div class=\"text-sm text-secondary mt-1\">Hunting Type</div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Hunting Area</div>\n            <div class=\"text-lg font-semibold\">{{ item?.package_details?.area_name }}</div>\n          </div>\n          <div>\n            <div class=\"text-sm text-secondary mb-1\">Package Period</div>\n            <div class=\"text-lg font-semibold\">\n              {{ formatDate(item?.package_details?.start_date) }} - {{ formatDate(item?.package_details?.end_date) }}\n            </div>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Custom Package Details -->\n    <VaCard v-if=\"item?.inquiry_type === 'custom' && item?.custom_details\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"tune\" />\n        Custom Package Details\n      </VaCardTitle>\n      <VaCardContent>\n        <!-- Custom Areas -->\n        <div v-if=\"safeArray(item?.custom_details?.areas).length > 0\" class=\"mb-4\">\n          <div class=\"text-sm text-secondary mb-2\">Hunting Areas</div>\n          <div class=\"flex flex-wrap gap-2\">\n            <VaChip v-for=\"(area, index) in item?.custom_details?.areas\" :key=\"index\" color=\"info\" size=\"large\">\n              <VaIcon name=\"location_on\" class=\"mr-1\" />\n              {{ area.area_name }}\n            </VaChip>\n          </div>\n        </div>\n\n        <!-- Custom Species -->\n        <div v-if=\"safeArray(item?.custom_details?.species).length > 0\">\n          <div class=\"text-sm text-secondary mb-2\">Requested Species</div>\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n            <VaCard v-for=\"(species, index) in item?.custom_details?.species\" :key=\"index\" color=\"#f0f9ff\">\n              <VaCardContent>\n                <div class=\"flex justify-between items-center\">\n                  <div class=\"font-semibold\">{{ species.species_name }}</div>\n                  <VaBadge color=\"success\">Qty: {{ species.quantity }}</VaBadge>\n                </div>\n              </VaCardContent>\n            </VaCard>\n          </div>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Package Species Section -->\n    <VaCard v-if=\"safeArray(item?.species).length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"pets\" />\n        {{ item?.inquiry_type === 'custom' ? 'Additional Species' : 'Package Species' }}\n        ({{ item?.species?.length || 0 }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n          <VaCard v-for=\"(s, index) in item?.species\" :key=\"index\" :color=\"s.quantity > 0 ? '#f0f9ff' : '#fef2f2'\">\n            <VaCardContent>\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"font-semibold text-base\">{{ s.species?.name }}</div>\n                  <div class=\"text-sm text-secondary italic\">{{ s.species?.scientific_name }}</div>\n                </div>\n                <VaBadge :color=\"s.quantity > 0 ? 'success' : 'danger'\" class=\"ml-2\"> Qty: {{ s.quantity }} </VaBadge>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Observers Section -->\n    <VaCard v-if=\"observers && observers.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"visibility\" />\n        Observers ({{ observers.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(observer, index) in observers\" :key=\"index\" color=\"#f0f9ff\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ observer.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ observer.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Companions Section -->\n    <VaCard v-if=\"companions && companions.length > 0\" class=\"mb-6\" stripe stripe-color=\"success\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"groups\" />\n        Companions ({{ companions.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <VaCard v-for=\"(companion, index) in companions\" :key=\"index\" color=\"#f0fdf4\">\n            <VaCardContent>\n              <div class=\"font-semibold text-lg mb-2\">{{ companion.full_name }}</div>\n              <div class=\"grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span class=\"text-secondary\">Nationality:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.nationality?.name || 'N/A' }}</span>\n                </div>\n                <div>\n                  <span class=\"text-secondary\">Country:</span>\n                  <span class=\"ml-1 font-medium\">{{ companion.country?.name || 'N/A' }}</span>\n                </div>\n              </div>\n            </VaCardContent>\n          </VaCard>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Safari Extras Section -->\n    <VaCard v-if=\"clientSafariExtras && clientSafariExtras.length > 0\" class=\"mb-6\" stripe stripe-color=\"primary\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"add_circle\" />\n        Safari Extras ({{ clientSafariExtras.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Service</th>\n                <th class=\"text-left\">Description</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(extra, index) in clientSafariExtras\" :key=\"index\">\n                <td class=\"font-semibold\">{{ extra.safari_extra?.name || extra.name }}</td>\n                <td class=\"text-secondary\">{{ extra.safari_extra?.description || extra.description || 'N/A' }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Accommodations Section -->\n    <VaCard v-if=\"accommodations && accommodations.length > 0\" class=\"mb-6\" stripe stripe-color=\"warning\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"hotel\" />\n        Accommodations ({{ accommodations.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Accommodation</th>\n                <th class=\"text-left\">Type</th>\n                <th class=\"text-center\">Check-in</th>\n                <th class=\"text-center\">Check-out</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(acc, index) in accommodations\" :key=\"index\">\n                <td class=\"font-semibold\">{{ acc.name || acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-secondary\">{{ acc.accommodation_type?.name || 'N/A' }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_in_date) }}</td>\n                <td class=\"text-center\">{{ formatDate(acc.check_out_date) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n\n    <!-- Charters Section -->\n    <VaCard v-if=\"chartersPrices && chartersPrices.length > 0\" class=\"mb-6\" stripe stripe-color=\"info\">\n      <VaCardTitle class=\"flex items-center gap-2\">\n        <VaIcon name=\"flight\" />\n        Charter Costs ({{ chartersPrices.length }})\n      </VaCardTitle>\n      <VaCardContent>\n        <div class=\"va-table-responsive\">\n          <table class=\"va-table va-table--hoverable w-full\">\n            <thead>\n              <tr>\n                <th class=\"text-left\">Charter</th>\n                <th class=\"text-left\">Description</th>\n                <th class=\"text-right\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(charter, index) in chartersPrices\" :key=\"index\">\n                <td class=\"font-semibold\">{{ charter.name || charter.charter?.name || 'Charter ' + (index + 1) }}</td>\n                <td class=\"text-secondary\">{{ charter.description || 'N/A' }}</td>\n                <td class=\"text-right font-bold\">{{ formatCurrency(charter.amount || charter.price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </VaCardContent>\n    </VaCard>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useSalesInquiriesStore } from '../../../../stores/sales-store'\nimport { mapState, mapActions } from 'pinia'\nimport { useToast } from 'vuestic-ui'\n\nexport default defineComponent({\n  name: 'SalesInquiryDetails',\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup() {\n    const { init: notify } = useToast()\n    return { notify }\n  },\n\n  computed: {\n    ...mapState(useSalesInquiriesStore, [\n      'observers',\n      'companions',\n      'clientSafariExtras',\n      'accommodations',\n      'chartersPrices',\n    ]),\n  },\n\n  mounted() {\n    this.getObservers(this.item.id)\n    this.getCompanions(this.item.id)\n    this.getClienSafariExtras(this.item.id)\n    this.getAccommodation(this.item.id)\n    this.getChartersPrice(this.item.id)\n  },\n\n  methods: {\n    ...mapActions(useSalesInquiriesStore, [\n      'getObservers',\n      'getCompanions',\n      'getClienSafariExtras',\n      'getAccommodation',\n      'getChartersPrice',\n    ]),\n\n    async downloadInquiryPdf() {\n      const inquiryId = this.item?.id\n      if (!inquiryId) return\n\n      try {\n        const response = await fetch(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries/${inquiryId}/pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n        const data = await response.json()\n\n        if (data.success && data.pdf) {\n          // Decode base64 PDF and download\n          const byteCharacters = atob(data.pdf)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `inquiry-${this.item?.code || inquiryId}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.notify({\n            message: 'PDF downloaded successfully',\n            color: 'success',\n          })\n        } else {\n          this.notify({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.notify({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(dateString: string | number | Date) {\n      return dateString ? new Date(dateString).toLocaleDateString() : 'Not provided'\n    },\n\n    formatCurrency(amount: any) {\n      return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(parseFloat(amount) || 0)\n    },\n\n    getContactIcon(contactType: string) {\n      const icons: any = {\n        email: 'email',\n        phone_number: 'phone',\n        phone: 'phone',\n        address: 'home',\n      }\n      return icons[contactType] || 'info'\n    },\n\n    safeArray(arr: any) {\n      return arr || []\n    },\n\n    safeString(str: any, fallback = 'Not provided') {\n      return str || fallback\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.sales-inquiry-details {\n  padding: 1rem;\n}\n\n.text-secondary {\n  color: #6b7280;\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"handleGoBack\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <div v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\" class=\"flex gap-3\">\n          <VaButton class=\"px-6\" color=\"secondary\" round icon=\"download\" size=\"large\" @click=\"downloadAllInquiriesPdf()\"\n            >Download PDF</VaButton\n          >\n          <VaButton class=\"px-6\" color=\"primary\" round icon=\"add\" size=\"large\" @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </div>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n          @editBtnPressed=\"editInquiry\"\n        >\n        </Salesinquirieslist>\n        <!-- Form Wizard -->\n        <div v-else class=\"p-6 bg-white rounded-lg sales-inquiry-wizard\">\n          <!-- Progress Header -->\n          <div class=\"flex items-center justify-between mb-4\">\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"edit_note\" color=\"primary\" size=\"large\" />\n              <h2 class=\"text-2xl font-bold text-gray-800\">{{ isEditMode ? 'Edit Enquiry' : 'Create New Enquiry' }}</h2>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <VaBadge color=\"primary\" :text=\"`Step ${currentStep + 1} of ${wizardSteps.length}`\" />\n              <span class=\"text-sm text-gray-600 hidden md:inline\">{{ wizardSteps[currentStep].label }}</span>\n            </div>\n          </div>\n\n          <!-- Progress Bar -->\n          <div class=\"w-full bg-gray-200 rounded-full h-2 mb-6\">\n            <div\n              class=\"bg-primary h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${((currentStep + 1) / wizardSteps.length) * 100}%` }\"\n            ></div>\n          </div>\n\n          <!-- Stepper Header -->\n          <VaStepper\n            v-model=\"currentStep\"\n            :steps=\"wizardSteps\"\n            color=\"primary\"\n            class=\"mb-6\"\n            navigation-disabled\n            controls-hidden\n          >\n            <template #step-button-0>\n              <div class=\"relative\">\n                <VaIcon name=\"person\" />\n                <VaIcon\n                  v-if=\"isStep1Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-1>\n              <div class=\"relative\">\n                <VaIcon name=\"event\" />\n                <VaIcon\n                  v-if=\"isStep2Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-2>\n              <div class=\"relative\">\n                <VaIcon name=\"hiking\" />\n                <VaIcon\n                  v-if=\"isStep3Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-3>\n              <VaIcon name=\"fact_check\" />\n            </template>\n          </VaStepper>\n\n          <VaForm ref=\"formRef\" class=\"space-y-6\">\n            <!-- Step 1: Customer Information -->\n            <div v-show=\"currentStep === 0\" class=\"animate-fade-in\">\n              <!-- Customer Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person_search\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Customer Selection</h3>\n                  <VaIcon v-if=\"customerType\" name=\"check_circle\" color=\"success\" size=\"small\" />\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>New or Existing Customer?</template>\n                  Select an existing customer to auto-fill their information, or choose \"New Customer\" to enter details\n                  manually.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaRadio v-model=\"customerType\" option=\"new\" label=\"New Customer\" name=\"customerType\" />\n                  <VaRadio v-model=\"customerType\" option=\"existing\" label=\"Existing Customer\" name=\"customerType\" />\n                </div>\n\n                <div v-if=\"customerType === 'existing'\" class=\"mt-4\">\n                  <VaSelect\n                    v-model=\"selectedExistingCustomer\"\n                    placeholder=\"Search and select an existing customer\"\n                    label=\"Select Customer\"\n                    :options=\"existingCustomersOptions\"\n                    :loading=\"loadingCustomers\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    @update:modelValue=\"populateFormFromCustomer\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.email || 'N/A' }}  {{ value.selfItem?.country || 'N/A' }}\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n                </div>\n              </div>\n\n              <!-- Basic Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n                  <VaIcon\n                    v-if=\"form.full_name && form.country && form.nationality\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.full_name\"\n                    type=\"text\"\n                    placeholder=\"Enter your Full name\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                    label=\"Full name\"\n                  />\n                  <VaSelect\n                    v-model=\"form.country\"\n                    placeholder=\"Select Country\"\n                    label=\"Country\"\n                    :rules=\"[(v: any) => v || 'Country is required']\"\n                    :options=\"countries\"\n                    searchable\n                    highlight-matched-text\n                  />\n                  <VaSelect\n                    v-model=\"form.nationality\"\n                    placeholder=\"Select Client nationality\"\n                    label=\"Client Nationality\"\n                    :rules=\"[(v: any) => v || 'Nationality is required']\"\n                    :options=\"nationality\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n              </div>\n\n              <!-- Contact Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n                  <VaIcon\n                    v-if=\"form.email && form.phone && form.address\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaInput\n                    v-model=\"form.email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    :rules=\"[validators.required, validators.email]\"\n                    label=\"Email\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567\"\n                    :rules=\"[validators.required, validators.tell]\"\n                    label=\"Primary Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone_additional\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567 (Optional)\"\n                    label=\"Additional Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.address\"\n                    type=\"text\"\n                    :max-length=\"30\"\n                    placeholder=\"Enter your address\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                    label=\"Address\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Step 2: Season, Package, Dates & Hunt Party -->\n            <div v-show=\"currentStep === 1\" class=\"animate-fade-in\">\n              <!-- Season Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Season & Package</h3>\n                  <VaIcon v-if=\"form.season && form.priceListId\" name=\"check_circle\" color=\"success\" size=\"small\" />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Season</div>\n                    <VaSelect\n                      v-model=\"form.season\"\n                      placeholder=\"Select Season\"\n                      :rules=\"[(v: any) => v || 'Season is required']\"\n                      :options=\"seasonsOptions\"\n                      searchable\n                      highlight-matched-text\n                      @update:modelValue=\"onSeasonSelected\"\n                    >\n                      <template #content=\"{ value }\">\n                        <div v-if=\"value\" class=\"flex flex-col\">\n                          <span class=\"font-semibold\">{{ value.text }}</span>\n                          <span v-if=\"value.selfItem\" class=\"text-sm text-gray-500\">\n                            {{ formatDateRange(value.selfItem.start_at, value.selfItem.end_at) }}\n                          </span>\n                        </div>\n                      </template>\n                    </VaSelect>\n                  </div>\n\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Package</div>\n                    <VaSelect\n                      v-model=\"form.priceListId\"\n                      placeholder=\"Select a Hunting Package\"\n                      :options=\"filteredPackagesOptions\"\n                      searchable\n                      highlight-matched-text\n                      clearable\n                      :disabled=\"!form.season || filteredPackagesOptions.length === 0\"\n                      @update:modelValue=\"populateFormFromPackage\"\n                    >\n                      <template #content=\"{ value }\">\n                        <div v-if=\"value\" class=\"flex flex-col\">\n                          <span class=\"font-semibold\">{{ value.text }}</span>\n                          <span class=\"text-sm text-gray-500\">\n                            {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                            {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                          </span>\n                        </div>\n                      </template>\n                    </VaSelect>\n                  </div>\n                </div>\n\n                <!-- Display selected package details -->\n                <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4 bg-gray-50\">\n                  <VaCardTitle class=\"text-sm font-semibold flex items-center gap-2\">\n                    <VaIcon name=\"info\" size=\"small\" color=\"info\" />\n                    Package Details - {{ form.priceListId.selfItem?.sales_package?.name || form.priceListId.text }}\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Area:</span>\n                        <span class=\"ml-1 font-medium\">{{\n                          form.priceListId.selfItem?.sales_package?.area?.name ||\n                          form.priceListId.selfItem?.area ||\n                          'N/A'\n                        }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Type:</span>\n                        <span class=\"ml-1 font-medium\">{{\n                          form.priceListId.selfItem?.price_list_type?.hunting_type?.name ||\n                          form.priceListId.selfItem?.hunting_type ||\n                          'N/A'\n                        }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Duration:</span>\n                        <span class=\"ml-1 font-medium\"\n                          >{{\n                            form.priceListId.selfItem?.price_list_type?.duration ||\n                            form.priceListId.selfItem?.duration ||\n                            0\n                          }}\n                          days</span\n                        >\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Base Amount:</span>\n                        <span class=\"ml-1 font-medium\">\n                          {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                          }}{{\n                            form.priceListId.selfItem?.price_list_type?.amount ||\n                            form.priceListId.selfItem?.amount ||\n                            'N/A'\n                          }}\n                        </span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Date Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"calendar_month\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Dates</h3>\n                  <VaIcon\n                    v-if=\"form.preferred_date && form.start_date && form.end_date\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Preferred Date</div>\n                    <VaDateInput\n                      v-model=\"form.preferred_date\"\n                      placeholder=\"Select Preferred Date\"\n                      :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"checkBookedDateConflict\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Start Date</div>\n                    <VaDateInput\n                      v-model=\"form.start_date\"\n                      placeholder=\"Select Start Date\"\n                      :rules=\"[(v: any) => v || 'Start Date is required']\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"onStartDateChange\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">End Date</div>\n                    <VaDateInput\n                      v-model=\"form.end_date\"\n                      placeholder=\"Select End Date\"\n                      :rules=\"[\n                        (v: any) => v || 'End Date is required',\n                        (v: any) =>\n                          !form.start_date ||\n                          new Date(v) >= new Date(form.start_date) ||\n                          'End date must be after start date',\n                      ]\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season || !form.start_date\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"onEndDateChange\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Date Range Info -->\n                <VaAlert\n                  v-if=\"form.start_date && form.end_date && huntDuration > 0\"\n                  color=\"info\"\n                  class=\"mb-4\"\n                  border=\"left\"\n                >\n                  <template #title>\n                    <VaIcon name=\"date_range\" class=\"mr-1\" />\n                    Hunt Duration: {{ huntDuration }} days\n                  </template>\n                  From {{ formatDate(form.start_date) }} to {{ formatDate(form.end_date) }}\n                </VaAlert>\n\n                <!-- Booked Dates Warning -->\n                <VaAlert v-if=\"dateConflictWarning\" color=\"warning\" class=\"mt-4 mb-4\" border=\"left\">\n                  <template #title>\n                    <VaIcon name=\"warning\" class=\"mr-1\" />\n                    Date Conflict Detected\n                  </template>\n                  {{ dateConflictWarning }}\n                </VaAlert>\n\n                <!-- Show booked dates for reference -->\n                <div v-if=\"bookedDatesForSelectedSeason.length > 0\" class=\"mt-4\">\n                  <div class=\"text-sm font-semibold text-gray-700 mb-2\">\n                    <VaIcon name=\"event_busy\" size=\"small\" class=\"mr-1\" />\n                    Already Booked Dates (Not Available):\n                  </div>\n                  <div class=\"flex flex-wrap gap-2\">\n                    <VaChip\n                      v-for=\"(booking, index) in bookedDatesForSelectedSeason\"\n                      :key=\"index\"\n                      color=\"danger\"\n                      size=\"small\"\n                      outline\n                    >\n                      {{ formatBookingDateRange(booking) }} - {{ booking.client_name }}\n                    </VaChip>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Hunt Party Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Party Details</h3>\n                  <VaIcon\n                    v-if=\"huntDuration > 0 && form.no_of_hunters\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Days</div>\n                    <div class=\"flex items-center gap-2 py-2 px-3 bg-gray-50 rounded-lg border border-gray-200\">\n                      <VaIcon name=\"event\" color=\"primary\" />\n                      <span v-if=\"huntDuration > 0\" class=\"font-semibold text-lg\">{{ huntDuration }} days</span>\n                      <span v-else class=\"text-gray-400 italic\">Select dates above</span>\n                    </div>\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Area</div>\n                    <VaSelect\n                      v-model=\"form.area\"\n                      placeholder=\"Select Area\"\n                      :rules=\"[(v: any) => v || 'Hunting area is required']\"\n                      :options=\"areasOptions\"\n                      disabled\n                      readonly\n                    />\n                  </div>\n                </div>\n\n                <!-- Observer and Companion Cost Cards -->\n                <div v-if=\"form.priceListId?.selfItem\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <!-- Observer Cost -->\n                  <VaCard v-if=\"form.priceListId.selfItem.observer?.length > 0\" outlined class=\"bg-green-50\">\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"visibility\" color=\"success\" />\n                        <span class=\"font-semibold\">Observer Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-success\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.observer[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per observer</div>\n                      <div v-if=\"form.no_of_observers > 0\" class=\"mt-2 pt-2 border-t\">\n                        <span class=\"text-sm\">Subtotal: </span>\n                        <span class=\"font-bold\">\n                          {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                          }}{{ (form.no_of_observers * form.priceListId.selfItem.observer[0].amount).toLocaleString() }}\n                        </span>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n\n                  <!-- Companion Hunter Cost -->\n                  <VaCard\n                    v-if=\"form.priceListId.selfItem.companion_hunter_costs?.length > 0\"\n                    outlined\n                    class=\"bg-blue-50\"\n                  >\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"group\" color=\"primary\" />\n                        <span class=\"font-semibold\">Companion Hunter Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-primary\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per companion hunter</div>\n                      <div v-if=\"form.no_of_companions > 0\" class=\"mt-2 pt-2 border-t\">\n                        <span class=\"text-sm\">Subtotal: </span>\n                        <span class=\"font-bold\">\n                          {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                          }}{{\n                            (\n                              form.no_of_companions * form.priceListId.selfItem.companion_hunter_costs[0].amount\n                            ).toLocaleString()\n                          }}\n                        </span>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Hunters</div>\n                    <VaInput\n                      v-model=\"form.no_of_hunters\"\n                      placeholder=\"Enter Number of Hunters\"\n                      type=\"number\"\n                      :min=\"1\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Observers</div>\n                    <VaInput\n                      v-model=\"form.no_of_observers\"\n                      placeholder=\"Enter Number of Observers\"\n                      type=\"number\"\n                      :min=\"0\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Companions</div>\n                    <VaInput\n                      v-model=\"form.no_of_companions\"\n                      placeholder=\"Enter Number of Companions\"\n                      type=\"number\"\n                      :min=\"0\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <!-- Upgrade Fees Section -->\n              <div\n                v-if=\"form.priceListId?.selfItem?.upgrade_fees && form.priceListId.selfItem.upgrade_fees.length > 0\"\n                class=\"mb-6\"\n              >\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"upgrade\" color=\"warning\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Upgrade Fees</h3>\n                </div>\n\n                <VaCard outlined class=\"bg-amber-50\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full text-sm\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-right\">Upgrade Fee</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr v-for=\"fee in form.priceListId.selfItem.upgrade_fees\" :key=\"fee.id\">\n                            <td class=\"font-medium\">{{ fee.species_name || fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-right font-semibold text-warning\">\n                              {{\n                                fee.currency_symbol ||\n                                form.priceListId.selfItem.price_list_type?.currency?.symbol ||\n                                '$'\n                              }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Species Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"pets\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Species Selection</h3>\n                </div>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <div class=\"col-span-1 md:col-span-1\">\n                        <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Species</div>\n                        <VaSelect\n                          v-model=\"form.species\"\n                          :options=\"speciesOptions\"\n                          placeholder=\"Select Species\"\n                          searchable\n                          highlight-matched-text\n                        />\n                      </div>\n\n                      <VaCounter v-model=\"form.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species ({{ speciesObjects.length }})</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div class=\"flex items-center gap-2\">\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <VaBadge v-if=\"s.fromPackage\" color=\"info\" size=\"small\" text=\"from Package\" />\n                              </div>\n                              <div class=\"flex items-center gap-2\">\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"remove\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  :disabled=\"s.quantity <= 1\"\n                                  @click=\"decrementQuantity(index)\"\n                                />\n                                <span class=\"text-sm font-medium min-w-[30px] text-center\">{{ s.quantity }}</span>\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"add\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  @click=\"incrementQuantity(index)\"\n                                />\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"delete\"\n                                  color=\"danger\"\n                                  size=\"small\"\n                                  class=\"ml-2\"\n                                  @click=\"deleteFromStorage(index)\"\n                                />\n                              </div>\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above or select a package.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 2 -->\n\n            <!-- Step 3: Safari Extras & Trophy Fees -->\n            <div v-show=\"currentStep === 2\" class=\"animate-fade-in\">\n              <!-- Safari Extras Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"hiking\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Safari Extras</h3>\n                </div>\n\n                <VaAlert v-if=\"selectedSafariExtras.length === 0\" color=\"secondary\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Safari Extras Selected</template>\n                  Safari extras will be populated when you select a package. You can also add them manually later.\n                </VaAlert>\n\n                <template v-else>\n                  <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                    <template #title>Customize Safari Extras ({{ selectedSafariExtras.length }} selected)</template>\n                    Remove any safari extras that your client does not require by clicking the remove button.\n                  </VaAlert>\n\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"space-y-3\">\n                        <div\n                          v-for=\"(extra, index) in selectedSafariExtras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg bg-white flex justify-between items-center\"\n                        >\n                          <div class=\"flex items-center gap-3\">\n                            <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                            <VaBadge v-if=\"extra.fromPackage\" color=\"info\" size=\"small\" text=\"FROM PACKAGE\" />\n                            <div class=\"text-xs text-gray-600\">{{ extra.description }}</div>\n                          </div>\n\n                          <div class=\"flex items-center gap-2\">\n                            <div class=\"text-sm text-gray-600 mr-3\">\n                              {{ extra.currency?.symbol || '$' }}{{ extra.amount }}\n                            </div>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"delete\"\n                              title=\"Remove this safari extra\"\n                              @click=\"removeSafariExtra(index)\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </div>\n\n              <!-- Trophy Fees Section -->\n              <div v-if=\"form.priceListId?.selfItem?.trophy_fees?.length > 0\" class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"emoji_events\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Trophy Fees</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title\n                    >Trophy Fees Included ({{ form.priceListId.selfItem.trophy_fees.length }} species)</template\n                  >\n                  These trophy fees are included in the selected package and will be shown in the final review.\n                </VaAlert>\n\n                <VaCard outlined class=\"mb-4 bg-gray-50\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-center\">Sequence</th>\n                            <th class=\"text-right\">Price</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr\n                            v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                            :key=\"`trophy-${fee.id}-${index}`\"\n                          >\n                            <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-center\">\n                              <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" size=\"small\" />\n                            </td>\n                            <td class=\"text-right font-semibold\">\n                              {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$' }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Quotation Creation Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"request_quote\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Quotation</h3>\n                </div>\n\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 class=\"font-semibold text-lg\">Create Quotation for this Inquiry?</h4>\n                        <p class=\"text-sm text-gray-600\">\n                          Enable this option to generate a quotation with payment installments for the client.\n                        </p>\n                      </div>\n                      <VaSwitch v-model=\"createQuotation\" color=\"primary\" size=\"medium\" />\n                    </div>\n\n                    <!-- Quotation Form (shown when enabled) -->\n                    <template v-if=\"createQuotation\">\n                      <VaDivider class=\"mb-4\" />\n\n                      <!-- Quotation Details -->\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                        <div>\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Confirmation Date</div>\n                          <VaDateInput\n                            v-model=\"quotationForm.confirmation_date\"\n                            placeholder=\"Select confirmation date\"\n                            first-weekday=\"Monday\"\n                          />\n                        </div>\n                        <div>\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">\n                            Hunting License (Optional)\n                          </div>\n                          <VaInput v-model=\"quotationForm.hunting_license\" placeholder=\"Enter license number\" />\n                        </div>\n                      </div>\n\n                      <div class=\"mb-4\">\n                        <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Remarks (Optional)</div>\n                        <VaTextarea\n                          v-model=\"quotationForm.remarks\"\n                          placeholder=\"Add any additional notes or remarks...\"\n                          :min-rows=\"2\"\n                        />\n                      </div>\n\n                      <!-- Payment Installments -->\n                      <div class=\"mb-4\">\n                        <div class=\"flex items-center justify-between mb-3\">\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase\">Payment Installments</div>\n                          <VaButton preset=\"secondary\" size=\"small\" icon=\"add\" @click=\"addQuotationInstallment\">\n                            Add Installment\n                          </VaButton>\n                        </div>\n\n                        <VaAlert\n                          v-if=\"quotationForm.installments.length === 0\"\n                          color=\"warning\"\n                          class=\"mb-3\"\n                          border=\"left\"\n                        >\n                          <template #title>Required</template>\n                          At least one payment installment is required to create a quotation.\n                        </VaAlert>\n\n                        <div\n                          v-for=\"(installment, index) in quotationForm.installments\"\n                          :key=\"index\"\n                          class=\"p-4 border rounded-lg mb-3 bg-gray-50\"\n                        >\n                          <div class=\"flex justify-between items-start mb-3\">\n                            <span class=\"font-semibold text-gray-700\">Installment {{ index + 1 }}</span>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"delete\"\n                              @click=\"removeQuotationInstallment(index)\"\n                            />\n                          </div>\n                          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\n                            <VaInput\n                              v-model=\"installment.narration\"\n                              placeholder=\"e.g., Deposit Due upon booking\"\n                              label=\"Description\"\n                            />\n                            <VaInput\n                              v-model=\"installment.amount_due\"\n                              label=\"Amount (USD)\"\n                              type=\"number\"\n                              placeholder=\"5000\"\n                            />\n                            <VaSelect\n                              v-model=\"installment.due_days_type\"\n                              :options=\"dueDaysTypeOptions\"\n                              label=\"Due Type\"\n                              placeholder=\"Select when due\"\n                            />\n                            <VaInput\n                              v-model=\"installment.due_days\"\n                              :label=\"\n                                installment.due_days_type === 'before_arrival' ? 'Days Before Arrival' : 'Due Days'\n                              \"\n                              type=\"number\"\n                              placeholder=\"e.g., 90\"\n                              :disabled=\"installment.due_days_type === 'upon_booking'\"\n                            />\n                          </div>\n                        </div>\n\n                        <!-- Total -->\n                        <div v-if=\"quotationForm.installments.length > 0\" class=\"p-4 bg-primary rounded-lg text-white\">\n                          <div class=\"flex justify-between items-center\">\n                            <span class=\"text-lg font-semibold\">TOTAL</span>\n                            <span class=\"text-2xl font-bold\">${{ quotationTotalAmount.toLocaleString() }}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </template>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 3 -->\n\n            <!-- Step 4: Review & Submit -->\n            <div v-show=\"currentStep === 3\" class=\"animate-fade-in\">\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"fact_check\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Review Your Enquiry</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Please Review</template>\n                  Review all the information below before submitting your enquiry.\n                </VaAlert>\n\n                <!-- Customer Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"person\" size=\"small\" color=\"primary\" />\n                    Customer Information\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Full Name:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.full_name || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Country:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.country?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Nationality:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.nationality?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Email:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.email || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Primary Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Additional Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone_additional || 'N/A' }}</span>\n                      </div>\n                      <div class=\"md:col-span-3\">\n                        <span class=\"text-gray-600\">Address:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.address || 'N/A' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Season & Package Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"inventory_2\" size=\"small\" color=\"primary\" />\n                    Season & Package\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Season:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.season?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Package:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.priceListId?.text || 'No package selected' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Schedule Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"event\" size=\"small\" color=\"primary\" />\n                    Schedule & Hunt Party\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4\">\n                      <div>\n                        <span class=\"text-gray-600\">Preferred Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.preferred_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Start Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.start_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">End Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.end_date) }}</span>\n                      </div>\n                    </div>\n                    <VaDivider class=\"my-3\" />\n                    <div class=\"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Area:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.area?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Days:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_days || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Hunters:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_hunters || 1 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Observers:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_observers || 0 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Companions:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_companions || 0 }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Species Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"pets\" size=\"small\" color=\"primary\" />\n                    Selected Species ({{ speciesObjects.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div v-if=\"speciesObjects.length > 0\" class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"(s, index) in speciesObjects\"\n                        :key=\"index\"\n                        :text=\"`${s.name} (x${s.quantity})`\"\n                        :color=\"s.fromPackage ? 'info' : 'primary'\"\n                      />\n                    </div>\n                    <span v-else class=\"text-gray-500\">No species selected</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Summary -->\n                <VaCard v-if=\"selectedSafariExtras.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"hiking\" size=\"small\" color=\"primary\" />\n                    Safari Extras ({{ selectedSafariExtras.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"extra in selectedSafariExtras\"\n                        :key=\"extra.id\"\n                        :text=\"`${extra.name} - ${extra.currency?.symbol || '$'}${extra.amount}`\"\n                        color=\"success\"\n                      />\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Trophy Fees Summary -->\n                <VaCard v-if=\"form.priceListId?.selfItem?.trophy_fees?.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"emoji_events\" size=\"small\" color=\"primary\" />\n                    Trophy Fees ({{ form.priceListId.selfItem.trophy_fees.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full text-sm\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-center\">Sequence</th>\n                            <th class=\"text-right\">Price</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr\n                            v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                            :key=\"`trophy-review-${fee.id}-${index}`\"\n                          >\n                            <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-center\">\n                              <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" size=\"small\" />\n                            </td>\n                            <td class=\"text-right font-semibold\">\n                              {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$' }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 5 -->\n          </VaForm>\n\n          <!-- Wizard Navigation Buttons - Sticky -->\n          <div class=\"sticky bottom-0 bg-white border-t border-gray-200 mt-6 -mx-6 px-6 py-4 shadow-lg z-10\">\n            <div class=\"flex justify-between items-center gap-3\">\n              <div>\n                <VaButton v-if=\"currentStep > 0\" preset=\"secondary\" icon=\"arrow_back\" @click=\"previousStep\">\n                  Previous\n                </VaButton>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <span class=\"text-sm text-gray-500 hidden sm:inline\">\n                  Step {{ currentStep + 1 }} of {{ wizardSteps.length }}\n                </span>\n              </div>\n              <div class=\"flex gap-3\">\n                <VaButton preset=\"secondary\" @click=\"handleGoBack\"> Cancel </VaButton>\n                <VaButton\n                  v-if=\"currentStep < wizardSteps.length - 1\"\n                  color=\"primary\"\n                  icon-right=\"arrow_forward\"\n                  :disabled=\"!canProceedToNextStep\"\n                  :aria-disabled=\"!canProceedToNextStep\"\n                  :class=\"{ 'opacity-60 pointer-events-none': !canProceedToNextStep }\"\n                  @click=\"nextStep\"\n                >\n                  Next\n                </VaButton>\n                <VaButton\n                  v-else\n                  :loading=\"saving\"\n                  icon=\"save\"\n                  color=\"success\"\n                  :disabled=\"!isValidForm\"\n                  @click=\"validateForm() && submit()\"\n                >\n                  {{ isEditMode ? 'Update Enquiry' : 'Submit Enquiry' }}\n                </VaButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      phone_additional: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n\n      // Season date range constraints\n      seasonMinDate: null as Date | null,\n      seasonMaxDate: null as Date | null,\n\n      // Edit mode\n      isEditMode: false,\n      editingInquiryId: null as number | null,\n\n      // Customer selection\n      customerType: 'new' as 'new' | 'existing',\n      selectedExistingCustomer: null as any,\n      existingCustomersOptions: [] as any,\n      loadingCustomers: false,\n\n      // Wizard steps\n      currentStep: 0,\n      wizardSteps: [\n        { label: 'Personal Info' },\n        { label: 'Season, Package, Dates & Species' },\n        { label: 'Safari Extras & Trophy Fees' },\n        { label: 'Review' },\n      ],\n\n      // Safari extras selected by the client\n      selectedSafariExtras: [] as any[],\n      // helper field for adding extras (removed: selection UI disabled)\n\n      // Booked dates (confirmed hunts)\n      bookedDates: [] as { start_date: string; end_date: string; client_name: string; area_id: number }[],\n      loadingBookedDates: false,\n      dateConflictWarning: '' as string,\n\n      // Quotation creation\n      createQuotation: false,\n      quotationForm: {\n        confirmation_date: null as Date | null,\n        hunting_license: '',\n        remarks: '',\n        installments: [] as { narration: string; amount_due: number; due_days_type: string; due_days: number }[],\n      },\n      dueDaysTypeOptions: [\n        { value: 'upon_booking', text: 'Upon Booking' },\n        { value: 'before_arrival', text: 'Before Arrival' },\n        { value: 'on_arrival', text: 'On Arrival' },\n        { value: 'after_hunt', text: 'After Hunt' },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n\n    // Get booked dates for the currently selected season\n    bookedDatesForSelectedSeason(): { start_date: string; end_date: string; client_name: string; area_id: number }[] {\n      return this.bookedDates\n    },\n\n    // Step completion indicators\n    isStep1Complete(): boolean {\n      return !!(\n        this.form.full_name &&\n        this.form.country &&\n        this.form.nationality &&\n        this.form.email &&\n        this.form.phone &&\n        this.form.address\n      )\n    },\n\n    isStep2Complete(): boolean {\n      return !!(\n        this.form.season &&\n        this.form.preferred_date &&\n        this.form.start_date &&\n        this.form.end_date &&\n        this.form.no_of_days &&\n        this.speciesObjects.length > 0\n      )\n    },\n\n    isStep3Complete(): boolean {\n      // Step 3 (Safari Extras & Trophy Fees) is complete if we've reached step 4 (Review)\n      return this.currentStep >= 3\n    },\n\n    // Validation for each wizard step\n    canProceedToNextStep(): boolean {\n      const hasInput = (value: any) => {\n        if (typeof value === 'string') {\n          return value.trim().length > 0\n        }\n        return !!value\n      }\n\n      switch (this.currentStep) {\n        case 0: // Personal Info\n          return (\n            hasInput(this.form.full_name) &&\n            hasInput(this.form.country) &&\n            hasInput(this.form.nationality) &&\n            hasInput(this.form.email) &&\n            hasInput(this.form.phone) &&\n            hasInput(this.form.address) &&\n            (this.customerType === 'existing' ? hasInput(this.selectedExistingCustomer) : true)\n          )\n        case 1: // Season, Package, Dates & Species\n          return (\n            hasInput(this.form.season) &&\n            hasInput(this.form.preferred_date) &&\n            hasInput(this.form.start_date) &&\n            hasInput(this.form.end_date) &&\n            hasInput(this.form.area) &&\n            !!(this.form.no_of_days && this.form.no_of_days > 0) &&\n            this.speciesObjects.length > 0\n          )\n        case 2: // Review\n          return true\n        default:\n          return false\n      }\n    },\n\n    // Maximum allowed hunting days from the selected package\n    maxPackageDays(): number {\n      if (this.form.priceListId?.selfItem?.price_list_type?.duration) {\n        return this.form.priceListId.selfItem.price_list_type.duration\n      }\n      return 365 // Default to a large number if no package selected\n    },\n\n    // Calculate the maximum end date based on start date and package duration\n    maxEndDate(): Date | null {\n      if (!this.form.start_date || this.maxPackageDays >= 365) {\n        return null\n      }\n      const startDate = new Date(this.form.start_date)\n      const maxEnd = new Date(startDate)\n      maxEnd.setDate(startDate.getDate() + this.maxPackageDays - 1)\n      return maxEnd\n    },\n\n    // Format the max end date for display\n    formatMaxEndDate(): string {\n      if (!this.maxEndDate) return ''\n      return this.maxEndDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n    },\n\n    // Calculate hunt duration in days\n    huntDuration(): number {\n      if (!this.form.start_date || !this.form.end_date) return 0\n      const start = new Date(this.form.start_date)\n      const end = new Date(this.form.end_date)\n      const diffTime = end.getTime() - start.getTime()\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1 // +1 to include both start and end dates\n      return diffDays > 0 ? diffDays : 0\n    },\n\n    // Calculate quotation total amount\n    quotationTotalAmount(): number {\n      return this.quotationForm.installments.reduce((sum, inst) => sum + (Number(inst.amount_due) || 0), 0)\n    },\n\n    // Filtered packages based on selected season\n    filteredPackagesOptions(): any[] {\n      if (!this.form.season?.value) {\n        return []\n      }\n\n      const selectedSeasonId = this.form.season.value\n      return this.packagesOptions.filter((pkg: any) => {\n        // Check if package belongs to the selected season\n        const pkgSeasonId = pkg.selfItem?.season_id || pkg.selfItem?.price_list_type?.price_list?.season_id\n        return pkgSeasonId === selectedSeasonId\n      })\n    },\n\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n    // Get the month (0-11) of the season start date for calendar view\n    seasonStartMonth(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getMonth()\n      }\n      return new Date().getMonth()\n    },\n    // Get the year of the season start date for calendar view\n    seasonStartYear(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getFullYear()\n      }\n      return new Date().getFullYear()\n    },\n  },\n\n  watch: {\n    customerType(newType: 'new' | 'existing') {\n      if (newType === 'new') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      } else if (newType === 'existing') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      }\n    },\n    selectedExistingCustomer(newValue: any) {\n      if (!newValue && this.customerType === 'existing') {\n        this.clearCustomerInformation()\n      }\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n    this.getExistingCustomers()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry', 'updateSalesInquiry', 'getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async getExistingCustomers() {\n      this.loadingCustomers = true\n      try {\n        // Fetch all sales inquiries to get unique customers\n        const response: any = await this.getSalesInquiries('', '')\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          // Create a map to store unique customers by entity ID\n          const customersMap = new Map()\n\n          dataArray.forEach((item: any) => {\n            const entity = item.entity\n            if (entity && entity.id && !customersMap.has(entity.id)) {\n              // Get contact info\n              let email = ''\n              let phone = ''\n              let address = ''\n\n              if (entity.contacts && Array.isArray(entity.contacts)) {\n                entity.contacts.forEach((contact: any) => {\n                  if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n                    email = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n                    phone = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n                    address = contact.contact || ''\n                  }\n                })\n              }\n\n              customersMap.set(entity.id, {\n                value: entity.id,\n                text: entity.full_name,\n                selfItem: {\n                  id: entity.id,\n                  full_name: entity.full_name,\n                  country: entity.country?.name || entity.country_name || '',\n                  country_id: entity.country?.id || entity.country_id,\n                  nationality: entity.nationality?.name || entity.nationality_name || '',\n                  nationality_id: entity.nationality?.id || entity.nationality_id,\n                  email: email,\n                  phone: phone,\n                  address: address,\n                },\n              })\n            }\n          })\n\n          this.existingCustomersOptions = Array.from(customersMap.values())\n        }\n      } catch (error) {\n        console.error('Error fetching existing customers:', error)\n      } finally {\n        this.loadingCustomers = false\n      }\n    },\n\n    populateFormFromCustomer(selectedCustomer: any) {\n      if (this.customerType !== 'existing') {\n        return\n      }\n\n      if (!selectedCustomer || !selectedCustomer.selfItem) {\n        // Clear form if no customer selected\n        this.clearCustomerInformation()\n        return\n      }\n\n      const customer = selectedCustomer.selfItem\n\n      // Populate basic information\n      this.form.full_name = customer.full_name || ''\n\n      // Find and set country\n      if (customer.country_id) {\n        const countryOption = this.countries.find((c: any) => c.value === customer.country_id)\n        if (countryOption) this.form.country = countryOption\n      } else if (customer.country) {\n        const countryOption = this.countries.find((c: any) => c.text === customer.country)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      if (customer.nationality_id) {\n        const nationalityOption = this.nationality.find((n: any) => n.value === customer.nationality_id)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      } else if (customer.nationality) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === customer.nationality)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Populate contact information\n      this.form.email = customer.email || ''\n      this.form.phone = customer.phone || ''\n      this.form.address = customer.address || ''\n\n      this.init({\n        message: `Customer \"${customer.full_name}\" information loaded successfully`,\n        color: 'success',\n      })\n    },\n\n    clearCustomerInformation() {\n      this.form.full_name = ''\n      this.form.country = null\n      this.form.nationality = null\n      this.form.email = ''\n      this.form.phone = ''\n      this.form.address = ''\n    },\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate species - at least one species should be selected\n      if (this.speciesObjects.length === 0) {\n        this.init({\n          message: 'Please add at least one species.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate area and season\n      if (!this.form.area) {\n        this.init({\n          message: 'Please select a hunting area.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.season) {\n        this.init({\n          message: 'Please select a season.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.no_of_days || this.form.no_of_days <= 0) {\n        this.init({\n          message: 'Please enter the number of days.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        no_of_hunters: this.form.no_of_hunters || 1,\n        no_of_days: this.form.no_of_days,\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Preferences\n        preferences: preferences,\n\n        // Species data (user can always edit)\n        species: this.speciesObjects,\n\n        // Area and Season\n        area_id: this.form.area?.value,\n        season_id: this.form.season?.value,\n\n        // Safari extras selected by the client - send as array of IDs\n        safari_extras: this.selectedSafariExtras.map((extra: any) => extra.safari_extras_id || extra.id),\n      }\n\n      // Include reference price_list_id if a package was selected as reference\n      if (this.form.priceListId?.value) {\n        requestdata.reference_price_list_id = this.form.priceListId.value\n      }\n\n      // Include quotation data if user chose to create one\n      if (this.createQuotation && this.quotationForm.installments.length > 0) {\n        requestdata.create_quotation = true\n        requestdata.quotation = {\n          confirmation_date: this.quotationForm.confirmation_date,\n          hunting_license: this.quotationForm.hunting_license,\n          remarks: this.quotationForm.remarks,\n          installments: this.quotationForm.installments.map((inst) => ({\n            narration: inst.narration,\n            amount_due: Number(inst.amount_due),\n            due_days_type: inst.due_days_type,\n            due_days: Number(inst.due_days) || 0,\n          })),\n        }\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        let response: any\n\n        if (this.isEditMode && this.editingInquiryId) {\n          // Update existing inquiry\n          response = await this.updateSalesInquiry(this.editingInquiryId, requestdata)\n\n          if (response.status === 200) {\n            this.saving = false\n            this.init({ message: 'Sales inquiry updated successfully', color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.resetQuotationForm()\n            this.isEditMode = false\n            this.editingInquiryId = null\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n            this.showAddSalesInquiriesForm = false\n          }\n        } else {\n          // Create new inquiry\n          response = await this.createSalesInquiry(requestdata)\n\n          if (response.status === 201) {\n            this.saving = false\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.resetQuotationForm()\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n          }\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error saving sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    resetEditMode() {\n      this.isEditMode = false\n      this.editingInquiryId = null\n      this.speciesObjects = []\n      this.selectedSafariExtras = []\n      this.resetQuotationForm()\n      this.customerType = 'new'\n      this.selectedExistingCustomer = null\n      this.currentStep = 0\n    },\n\n    handleGoBack() {\n      this.resetEditMode()\n      this.currentStep = 0\n      this.gotBack()\n    },\n\n    // Wizard navigation methods\n    nextStep() {\n      if (this.currentStep < this.wizardSteps.length - 1 && this.canProceedToNextStep) {\n        this.currentStep++\n      } else if (!this.canProceedToNextStep) {\n        this.showStepValidationError()\n      }\n    },\n\n    previousStep() {\n      if (this.currentStep > 0) {\n        this.currentStep--\n      }\n    },\n\n    goToStep(stepIndex: number) {\n      // Only allow going to previous steps or current step\n      if (stepIndex <= this.currentStep) {\n        this.currentStep = stepIndex\n      }\n    },\n\n    showStepValidationError() {\n      const stepMessages: { [key: number]: string } = {\n        0: 'Please fill in all customer information fields (Name, Country, Nationality, Email, Phone, Address).',\n        1: 'Please select season, dates, hunting area, enter the number of days, and add at least one species.',\n      }\n      this.init({\n        message: stepMessages[this.currentStep] || 'Please complete all required fields.',\n        color: 'warning',\n      })\n    },\n\n    formatReviewDate(date: any): string {\n      if (!date) return 'N/A'\n      try {\n        const d = new Date(date)\n        if (isNaN(d.getTime())) return 'N/A'\n        return d.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n        })\n      } catch {\n        return 'N/A'\n      }\n    },\n\n    getSpeciesNameById(speciesId: number): string | null {\n      if (!speciesId) return null\n      const species = this.speciesOptions.find((s: any) => s.value === speciesId)\n      return species ? species.text : null\n    },\n\n    editInquiry(rowData: any) {\n      // Set edit mode\n      this.isEditMode = true\n      this.editingInquiryId = rowData.id\n\n      // Show the form\n      this.showAddSalesInquiriesForm = true\n\n      // Populate form with existing data\n      const item = rowData.selfitem || rowData\n\n      // Basic Information\n      this.form.full_name = item.entity?.full_name || rowData.name || ''\n\n      // Find and set country\n      const countryName = item.entity?.country?.name || item.entity?.country_name\n      if (countryName) {\n        const countryOption = this.countries.find((c: any) => c.text === countryName)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      const nationalityName = item.entity?.nationality?.name || item.entity?.nationality_name\n      if (nationalityName) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === nationalityName)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Contact Information from entity contacts\n      if (item.entity?.contacts && Array.isArray(item.entity.contacts)) {\n        item.entity.contacts.forEach((contact: any) => {\n          if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n            this.form.email = contact.contact || ''\n          } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n            this.form.phone = contact.contact || ''\n          } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n            this.form.address = contact.contact || ''\n          }\n        })\n      }\n\n      // Preferences\n      const prefs = item.formatted_preferences || rowData.preference || {}\n      this.form.no_of_hunters = prefs.no_of_hunters || 1\n      this.form.no_of_observers = prefs.no_of_observers || 0\n      this.form.no_of_days = prefs.no_of_days || 0\n      this.form.no_of_companions = prefs.no_of_companions || 0\n\n      // Dates\n      if (prefs.preferred_date) this.form.preferred_date = new Date(prefs.preferred_date)\n      if (prefs.start_date) this.form.start_date = new Date(prefs.start_date)\n      if (prefs.end_date) this.form.end_date = new Date(prefs.end_date)\n\n      // Area\n      const areaName = item.inquiry_areas?.[0]?.area?.name || rowData.area\n      if (areaName) {\n        const areaOption = this.areasOptions.find((a: any) => a.text === areaName)\n        if (areaOption) this.form.area = areaOption\n      }\n\n      // Season\n      if (item.season) {\n        const seasonOption = this.seasonsOptions.find(\n          (s: any) => s.value === item.season.id || s.text === item.season.name,\n        )\n        if (seasonOption) this.form.season = seasonOption\n      }\n\n      // Reference Price List\n      if (item.reference_price_list) {\n        const priceListOption = this.packagesOptions.find((p: any) => p.value === item.reference_price_list.id)\n        if (priceListOption) this.form.priceListId = priceListOption\n      }\n\n      // Species\n      this.speciesObjects = []\n      const speciesArray = item.inquiry_species || rowData.inquiry_species || []\n      console.log('Species array from API:', JSON.stringify(speciesArray, null, 2))\n      speciesArray.forEach((speciesItem: any) => {\n        // Try multiple paths to get the species name\n        const speciesName =\n          speciesItem.species_name ||\n          speciesItem.species?.name ||\n          speciesItem.name ||\n          this.getSpeciesNameById(speciesItem.species_id) ||\n          'Unknown'\n        this.speciesObjects.push({\n          species_id: speciesItem.species_id || speciesItem.species?.id || speciesItem.id,\n          name: speciesName,\n          quantity: speciesItem.quantity || 1,\n          fromPackage: false,\n        })\n      })\n\n      // Safari Extras - load from sales_confirmation_safary_extras\n      this.selectedSafariExtras = []\n      const safariExtrasArray = item.safari_extras || item.sales_confirmation_safari_extras || []\n      console.log('Safari extras from API:', JSON.stringify(safariExtrasArray, null, 2))\n      safariExtrasArray.forEach((extraItem: any) => {\n        // Handle both nested and flat structures\n        const extra = extraItem.safari_extra || extraItem.safary_extra || extraItem\n        this.selectedSafariExtras.push({\n          id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          safari_extras_id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          name: extra.name || 'Unknown',\n          description: extra.description || '',\n          amount: extra.amount || 0,\n          charges_per: extra.charges_per || '',\n          currency: extra.currency,\n        })\n      })\n\n      this.init({\n        message: 'Loaded inquiry data for editing',\n        color: 'info',\n      })\n    },\n\n    async downloadAllInquiriesPdf() {\n      try {\n        const response = await axios.get(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n\n        if (response.data.success && response.data.pdf) {\n          // Decode base64 PDF and download\n          const pdfData = response.data.pdf\n          const byteCharacters = atob(pdfData)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `sales-inquiries-${new Date().toISOString().split('T')[0]}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.init({\n            message: `PDF downloaded successfully. Total records: ${response.data.total_records}`,\n            color: 'success',\n          })\n        } else {\n          this.init({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.init({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n          fromPackage: false,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    removeSafariExtra(index: number) {\n      const removed = this.selectedSafariExtras.splice(index, 1)\n      if (removed.length > 0) {\n        this.init({\n          message: `Removed \"${removed[0].name}\" from safari extras`,\n          color: 'info',\n        })\n      }\n    },\n\n    // Quotation installment methods\n    addQuotationInstallment() {\n      this.quotationForm.installments.push({\n        narration: '',\n        amount_due: 0,\n        due_days_type: 'upon_booking',\n        due_days: 0,\n      })\n    },\n\n    removeQuotationInstallment(index: number) {\n      this.quotationForm.installments.splice(index, 1)\n    },\n\n    resetQuotationForm() {\n      this.createQuotation = false\n      this.quotationForm = {\n        confirmation_date: null,\n        hunting_license: '',\n        remarks: '',\n        installments: [],\n      }\n    },\n\n    // Validate and limit the number of hunting days to not exceed package duration\n    validateAndLimitDays(value: any) {\n      const numValue = parseInt(value, 10)\n      if (numValue > this.maxPackageDays) {\n        this.form.no_of_days = this.maxPackageDays\n        this.init({\n          message: `Number of days limited to ${this.maxPackageDays} (package maximum)`,\n          color: 'warning',\n        })\n      } else if (numValue < 1 && numValue !== 0) {\n        this.form.no_of_days = 1\n      }\n    },\n\n    incrementQuantity(index: number) {\n      if (this.speciesObjects[index]) {\n        this.speciesObjects[index].quantity++\n      }\n    },\n\n    decrementQuantity(index: number) {\n      if (this.speciesObjects[index] && this.speciesObjects[index].quantity > 1) {\n        this.speciesObjects[index].quantity--\n      }\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n\n        // Filter to only show current and future seasons (end_at >= today)\n        this.seasonsOptions = response.data\n          .filter((item: any) => {\n            if (!item.end_at) return true // Include if no end date\n            const endDate = new Date(item.end_at)\n            endDate.setHours(23, 59, 59, 999)\n            return endDate >= today\n          })\n          .map((item: any) => {\n            return {\n              value: item.id,\n              text: item.name,\n              selfItem: item, // Include full item data for date range access\n            }\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Called when user selects a season - sets date constraints and fetches booked dates\n    async onSeasonSelected(selectedSeason: any) {\n      // Reset date conflict warning\n      this.dateConflictWarning = ''\n\n      // Clear previously selected dates when season changes\n      this.form.preferred_date = null\n      this.form.start_date = null\n      this.form.end_date = null\n\n      if (!selectedSeason || !selectedSeason.selfItem) {\n        this.seasonMinDate = null\n        this.seasonMaxDate = null\n        this.bookedDates = []\n        return\n      }\n\n      const seasonData = selectedSeason.selfItem\n\n      // Set the date range constraints for the calendar from season dates\n      if (seasonData.start_at) {\n        this.seasonMinDate = new Date(seasonData.start_at)\n      }\n      if (seasonData.end_at) {\n        this.seasonMaxDate = new Date(seasonData.end_at)\n      }\n\n      // Fetch booked dates for this season\n      await this.fetchBookedDates(selectedSeason.value)\n    },\n\n    // Fetch confirmed/booked hunt dates for the selected season using the dedicated API\n    async fetchBookedDates(seasonId: number, areaId?: number) {\n      this.loadingBookedDates = true\n      this.bookedDates = []\n\n      try {\n        // Build query params\n        const params = new URLSearchParams()\n        if (seasonId) params.append('season_id', seasonId.toString())\n        if (areaId) params.append('area_id', areaId.toString())\n\n        const queryString = params.toString() ? `?${params.toString()}` : ''\n        const response = await axios.get(`/sales/booked-dates${queryString}`)\n\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          this.bookedDates = dataArray.map((item: any) => ({\n            start_date: item.start_date,\n            end_date: item.end_date,\n            client_name: item.client_name || item.entity?.full_name || 'Unknown Client',\n            area_id: item.area_id,\n          }))\n        }\n      } catch (error) {\n        console.error('Error fetching booked dates:', error)\n      } finally {\n        this.loadingBookedDates = false\n      }\n    },\n\n    // Check if selected date conflicts with booked dates\n    checkBookedDateConflict() {\n      this.dateConflictWarning = ''\n\n      const selectedStart = this.form.start_date ? new Date(this.form.start_date) : null\n      const selectedEnd = this.form.end_date ? new Date(this.form.end_date) : null\n      const preferredDate = this.form.preferred_date ? new Date(this.form.preferred_date) : null\n\n      if (!selectedStart && !selectedEnd && !preferredDate) {\n        return\n      }\n\n      // Check each booked date range for conflicts\n      for (const booking of this.bookedDates) {\n        const bookedStart = new Date(booking.start_date)\n        const bookedEnd = new Date(booking.end_date)\n\n        bookedStart.setHours(0, 0, 0, 0)\n        bookedEnd.setHours(23, 59, 59, 999)\n\n        // Check if any of the selected dates fall within a booked range\n        const checkDate = (date: Date | null) => {\n          if (!date) return false\n          const d = new Date(date)\n          d.setHours(12, 0, 0, 0)\n          return d >= bookedStart && d <= bookedEnd\n        }\n\n        // Check if date ranges overlap\n        const rangesOverlap = (start: Date | null, end: Date | null) => {\n          if (!start || !end) return false\n          const s = new Date(start)\n          const e = new Date(end)\n          s.setHours(0, 0, 0, 0)\n          e.setHours(23, 59, 59, 999)\n\n          // Ranges overlap if one starts before the other ends\n          return s <= bookedEnd && e >= bookedStart\n        }\n\n        if (\n          checkDate(preferredDate) ||\n          checkDate(selectedStart) ||\n          checkDate(selectedEnd) ||\n          rangesOverlap(selectedStart, selectedEnd)\n        ) {\n          const startStr = new Date(booking.start_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          const endStr = new Date(booking.end_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          this.dateConflictWarning = `The selected dates overlap with a confirmed hunt for \"${booking.client_name}\" (${startStr} - ${endStr}). Please inform the client that this time slot may not be available.`\n          return\n        }\n      }\n    },\n\n    // Format booking date range for display\n    formatBookingDateRange(booking: { start_date: string; end_date: string }) {\n      const start = new Date(booking.start_date)\n      const end = new Date(booking.end_date)\n      const options: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric' }\n\n      if (start.getFullYear() !== end.getFullYear()) {\n        return `${start.toLocaleDateString('en-US', { ...options, year: 'numeric' })} - ${end.toLocaleDateString(\n          'en-US',\n          { ...options, year: 'numeric' },\n        )}`\n      }\n\n      return `${start.toLocaleDateString('en-US', options)} - ${end.toLocaleDateString('en-US', options)}`\n    },\n\n    // Calculate additional cost for companions and observers\n    calculateAdditionalCost(): number {\n      let total = 0\n      const priceListData = this.form.priceListId?.selfItem\n\n      if (!priceListData) return 0\n\n      // Add companion hunter costs\n      if (this.form.no_of_companions > 0 && priceListData.companion_hunter_costs?.length > 0) {\n        total += this.form.no_of_companions * priceListData.companion_hunter_costs[0].amount\n      }\n\n      // Add observer costs\n      if (this.form.no_of_observers > 0 && priceListData.observer?.length > 0) {\n        total += this.form.no_of_observers * priceListData.observer[0].amount\n      }\n\n      return total\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: `${item.package_name || `Package ${item.id}`} - ${item.hunting_type || 'N/A'} (${\n            item.season_name || 'No Season'\n          })`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateFormFromPackage() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data (all fields are editable)\n          // Set hunting area\n          if (priceListData.sales_package?.area?.name) {\n            const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n            if (areaOption) {\n              this.form.area = areaOption\n            }\n          }\n\n          // Set duration (number of days)\n          if (priceListData.price_list_type?.duration) {\n            this.form.no_of_days = priceListData.price_list_type.duration\n          }\n\n          // Set season date range from price list and populate season dropdown\n          if (priceListData.price_list_type?.price_list) {\n            const priceList = priceListData.price_list_type.price_list\n\n            // Set the date range constraints for the calendar\n            if (priceList.start_date) {\n              this.seasonMinDate = new Date(priceList.start_date)\n            }\n            if (priceList.end_date) {\n              this.seasonMaxDate = new Date(priceList.end_date)\n            }\n\n            // Create a season display based on the price list dates\n            const startDate = new Date(priceList.start_date)\n            const endDate = new Date(priceList.end_date)\n            const seasonName = `${startDate.toLocaleDateString('en-US', {\n              month: 'short',\n              year: 'numeric',\n            })} - ${endDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}`\n\n            // Get the actual season_id from the API response\n            const seasonId = priceListData.season_id\n\n            // Try to find matching season in options\n            let seasonOption = this.seasonsOptions.find((s: any) => {\n              if (s.selfItem?.start_at) {\n                const seasonStart = new Date(s.selfItem.start_at)\n                return seasonStart.getFullYear() === startDate.getFullYear()\n              }\n              return false\n            })\n\n            // If no match found, create a temporary option for display with actual ID\n            if (!seasonOption) {\n              seasonOption = {\n                value: seasonId,\n                text: seasonName,\n                selfItem: {\n                  start_at: priceList.start_date,\n                  end_at: priceList.end_date,\n                },\n              }\n              // Add to options so it can be displayed\n              this.seasonsOptions.push(seasonOption)\n            }\n\n            this.form.season = seasonOption\n\n            // Pre-populate dates with season start date so calendar opens at the correct month\n            if (priceList.start_date) {\n              const seasonStartDate = new Date(priceList.start_date)\n              this.form.preferred_date = seasonStartDate\n              this.form.start_date = seasonStartDate\n              this.form.end_date = seasonStartDate\n            }\n          }\n\n          // Extract species from sales_package.species and add to speciesObjects for editing\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            // Clear existing species and populate from package\n            // Use species_id from the pivot table, or species.id from the nested object\n            console.log('Raw species data:', JSON.stringify(priceListData.sales_package.species, null, 2))\n            this.speciesObjects = priceListData.sales_package.species.map((item: any) => {\n              // Try multiple ways to get the species ID\n              const speciesId = item.species_id || item.species?.id || item.id\n              console.log('Species item:', item, 'Using species_id:', speciesId)\n              return {\n                species_id: speciesId,\n                name: item.species?.name || item.name || 'Unknown',\n                quantity: item.quantity || 0,\n                fromPackage: true,\n              }\n            })\n\n            // Also update store for display purposes\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species_id || item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', this.speciesObjects)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package. You can now customize all fields.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n\n          // Extract safari extras from the price list and add to selectedSafariExtras for editing\n          if (priceListData.safari_extras && Array.isArray(priceListData.safari_extras)) {\n            this.selectedSafariExtras = priceListData.safari_extras.map((extra: any) => ({\n              id: extra.id,\n              safari_extras_id: extra.id,\n              name: extra.name,\n              description: extra.description || '',\n              amount: extra.amount,\n              charges_per: extra.charges_per,\n              currency: extra.currency,\n              fromPackage: true,\n            }))\n            console.log('Populated safari extras:', this.selectedSafariExtras)\n          } else {\n            this.selectedSafariExtras = []\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    // Function to check if date is allowed (for VaDateInput allowed-days prop)\n    checkDateAllowed(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      let isAllowed = true\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          isAllowed = false\n        }\n      }\n\n      if (this.seasonMaxDate && isAllowed) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          isAllowed = false\n        }\n      }\n\n      return isAllowed\n    },\n\n    // Function to check if END DATE is allowed (must be within package duration from start date)\n    checkEndDateAllowed(date: Date): boolean {\n      // First check if date is within season range\n      if (!this.checkDateAllowed(date)) {\n        return false\n      }\n\n      // If no start date selected, allow all dates within season\n      if (!this.form.start_date) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      const startDate = new Date(this.form.start_date)\n      startDate.setHours(0, 0, 0, 0)\n\n      // End date must be >= start date\n      if (checkDate < startDate) {\n        return false\n      }\n\n      // If package has a duration limit, check it\n      if (this.maxPackageDays < 365 && this.maxEndDate) {\n        const maxEnd = new Date(this.maxEndDate)\n        maxEnd.setHours(0, 0, 0, 0)\n        if (checkDate > maxEnd) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    // Check if end date exceeds max allowed days\n    exceedsMaxDays(endDate: any): boolean {\n      if (!this.form.start_date || !endDate || this.maxPackageDays >= 365) {\n        return false\n      }\n      const start = new Date(this.form.start_date)\n      const end = new Date(endDate)\n      const diffTime = end.getTime() - start.getTime()\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1\n      return diffDays > this.maxPackageDays\n    },\n\n    // Handle start date change - reset end date if it exceeds max\n    onStartDateChange() {\n      this.checkBookedDateConflict()\n\n      // If end date is set and now exceeds max, clear it\n      if (this.form.end_date && this.exceedsMaxDays(this.form.end_date)) {\n        this.form.end_date = null\n        this.$vaToast.init({\n          message: `End date cleared - it exceeded the ${this.maxPackageDays} day package limit`,\n          color: 'warning',\n          position: 'bottom-right',\n        })\n      }\n    },\n\n    // Handle end date change\n    onEndDateChange(newDate: any) {\n      this.checkBookedDateConflict()\n\n      // Update number of days to match the duration\n      if (this.form.start_date && newDate) {\n        const calculatedDays = this.huntDuration\n        if (calculatedDays > 0 && calculatedDays !== this.form.no_of_days) {\n          this.form.no_of_days = calculatedDays\n        }\n      }\n    },\n\n    // Format date for display\n    formatDate(date: any): string {\n      if (!date) return ''\n      const d = new Date(date)\n      return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n    },\n\n    // Check if a date is within the season date range\n    isDateInSeasonRange(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          return false\n        }\n      }\n\n      if (this.seasonMaxDate) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Smooth animations for step transitions */\n.animate-fade-in {\n  animation: fadeIn 0.3s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Progress bar primary color */\n.bg-primary {\n  background-color: var(--va-primary);\n}\n\n/* Sticky navigation shadow and styling */\n.sales-inquiry-wizard {\n  position: relative;\n  padding-bottom: 80px; /* Space for sticky nav */\n}\n\n/* Step completion checkmark positioning */\n.relative {\n  position: relative;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.-top-1 {\n  top: -0.25rem;\n}\n\n.-right-1 {\n  right: -0.25rem;\n}\n\n/* Ensure sticky nav works properly */\n.sticky {\n  position: sticky;\n}\n\n.bottom-0 {\n  bottom: 0;\n}\n\n.z-10 {\n  z-index: 10;\n}\n</style>\n","<template>\n  <VaCard class=\"w-full\">\n    <VaCardContent>\n      <div class=\"flex flex-col md:flex-row gap-3 mb-6 justify-between items-center py-4 px-2 bg-gray-50 rounded-lg\">\n        <div class=\"flex flex-col md:flex-row gap-3 justify-start\">\n          <VaButton\n            v-if=\"showAddSalesInquiriesForm || showDetailsPage\"\n            class=\"px-6\"\n            icon=\"arrow_back\"\n            size=\"large\"\n            @click=\"handleGoBack\"\n          >\n            Go Back\n          </VaButton>\n        </div>\n        <div v-if=\"!showAddSalesInquiriesForm && !showDetailsPage\" class=\"flex gap-3\">\n          <VaButton class=\"px-6\" color=\"secondary\" round icon=\"download\" size=\"large\" @click=\"downloadAllInquiriesPdf()\"\n            >Download PDF</VaButton\n          >\n          <VaButton class=\"px-6\" color=\"primary\" round icon=\"add\" size=\"large\" @click=\"toggleAddSalesInquiriesForm()\"\n            >Create Enquiry</VaButton\n          >\n        </div>\n      </div>\n      <template v-if=\"showDetailsPage\">\n        <!-- <SalesConfirmationClientDetails :item=\"selectedInquiryItem\"> </SalesConfirmationClientDetails> -->\n        <!--  -->\n        <SalesInquiryDetails :item=\"selectedInquiryItem\" />\n      </template>\n      <template v-else>\n        <Salesinquirieslist\n          v-if=\"!showAddSalesInquiriesForm\"\n          @downloadBtnPressed=\"downloadPdf($event.selfitem.pdf)\"\n          @viewBtnPressed=\"viewInquiries\"\n          @editBtnPressed=\"editInquiry\"\n        >\n        </Salesinquirieslist>\n        <!-- Form Wizard -->\n        <div v-else class=\"p-6 bg-white rounded-lg sales-inquiry-wizard\">\n          <!-- Progress Header -->\n          <div class=\"flex items-center justify-between mb-4\">\n            <div class=\"flex items-center gap-2\">\n              <VaIcon name=\"edit_note\" color=\"primary\" size=\"large\" />\n              <h2 class=\"text-2xl font-bold text-gray-800\">{{ isEditMode ? 'Edit Enquiry' : 'Create New Enquiry' }}</h2>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <VaBadge color=\"primary\" :text=\"`Step ${currentStep + 1} of ${wizardSteps.length}`\" />\n              <span class=\"text-sm text-gray-600 hidden md:inline\">{{ wizardSteps[currentStep].label }}</span>\n            </div>\n          </div>\n\n          <!-- Progress Bar -->\n          <div class=\"w-full bg-gray-200 rounded-full h-2 mb-6\">\n            <div\n              class=\"bg-primary h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${((currentStep + 1) / wizardSteps.length) * 100}%` }\"\n            ></div>\n          </div>\n\n          <!-- Stepper Header -->\n          <VaStepper\n            v-model=\"currentStep\"\n            :steps=\"wizardSteps\"\n            color=\"primary\"\n            class=\"mb-6\"\n            navigation-disabled\n            controls-hidden\n          >\n            <template #step-button-0>\n              <div class=\"relative\">\n                <VaIcon name=\"person\" />\n                <VaIcon\n                  v-if=\"isStep1Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-1>\n              <div class=\"relative\">\n                <VaIcon name=\"event\" />\n                <VaIcon\n                  v-if=\"isStep2Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-2>\n              <div class=\"relative\">\n                <VaIcon name=\"hiking\" />\n                <VaIcon\n                  v-if=\"isStep3Complete\"\n                  name=\"check_circle\"\n                  color=\"success\"\n                  size=\"small\"\n                  class=\"absolute -top-1 -right-1\"\n                />\n              </div>\n            </template>\n            <template #step-button-3>\n              <VaIcon name=\"fact_check\" />\n            </template>\n          </VaStepper>\n\n          <VaForm ref=\"formRef\" class=\"space-y-6\">\n            <!-- Step 1: Customer Information -->\n            <div v-show=\"currentStep === 0\" class=\"animate-fade-in\">\n              <!-- Customer Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person_search\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Customer Selection</h3>\n                  <VaIcon v-if=\"customerType\" name=\"check_circle\" color=\"success\" size=\"small\" />\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>New or Existing Customer?</template>\n                  Select an existing customer to auto-fill their information, or choose \"New Customer\" to enter details\n                  manually.\n                </VaAlert>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaRadio v-model=\"customerType\" option=\"new\" label=\"New Customer\" name=\"customerType\" />\n                  <VaRadio v-model=\"customerType\" option=\"existing\" label=\"Existing Customer\" name=\"customerType\" />\n                </div>\n\n                <div v-if=\"customerType === 'existing'\" class=\"mt-4\">\n                  <VaSelect\n                    v-model=\"selectedExistingCustomer\"\n                    placeholder=\"Search and select an existing customer\"\n                    label=\"Select Customer\"\n                    :options=\"existingCustomersOptions\"\n                    :loading=\"loadingCustomers\"\n                    searchable\n                    highlight-matched-text\n                    clearable\n                    @update:modelValue=\"populateFormFromCustomer\"\n                  >\n                    <template #content=\"{ value }\">\n                      <div v-if=\"value\" class=\"flex flex-col\">\n                        <span class=\"font-semibold\">{{ value.text }}</span>\n                        <span class=\"text-sm text-gray-500\">\n                          {{ value.selfItem?.email || 'N/A' }}  {{ value.selfItem?.country || 'N/A' }}\n                        </span>\n                      </div>\n                    </template>\n                  </VaSelect>\n                </div>\n              </div>\n\n              <!-- Basic Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"person\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Basic Information</h3>\n                  <VaIcon\n                    v-if=\"form.full_name && form.country && form.nationality\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <VaInput\n                    v-model=\"form.full_name\"\n                    type=\"text\"\n                    placeholder=\"Enter your Full name\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Full name is required']\"\n                    label=\"Full name\"\n                  />\n                  <VaSelect\n                    v-model=\"form.country\"\n                    placeholder=\"Select Country\"\n                    label=\"Country\"\n                    :rules=\"[(v: any) => v || 'Country is required']\"\n                    :options=\"countries\"\n                    searchable\n                    highlight-matched-text\n                  />\n                  <VaSelect\n                    v-model=\"form.nationality\"\n                    placeholder=\"Select Client nationality\"\n                    label=\"Client Nationality\"\n                    :rules=\"[(v: any) => v || 'Nationality is required']\"\n                    :options=\"nationality\"\n                    searchable\n                    highlight-matched-text\n                  />\n                </div>\n              </div>\n\n              <!-- Contact Information Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"contact_mail\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Contact Information</h3>\n                  <VaIcon\n                    v-if=\"form.email && form.phone && form.address\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <VaInput\n                    v-model=\"form.email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    :rules=\"[validators.required, validators.email]\"\n                    label=\"Email\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567\"\n                    :rules=\"[validators.required, validators.tell]\"\n                    label=\"Primary Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.phone_additional\"\n                    type=\"text\"\n                    placeholder=\"eg: +971501234567 (Optional)\"\n                    label=\"Additional Phone\"\n                  />\n\n                  <VaInput\n                    v-model=\"form.address\"\n                    type=\"text\"\n                    :max-length=\"30\"\n                    placeholder=\"Enter your address\"\n                    :rules=\"[(value: any) => (value && value.length > 0) || 'Address is required']\"\n                    label=\"Address\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Step 2: Season, Package, Dates & Hunt Party -->\n            <div v-show=\"currentStep === 1\" class=\"animate-fade-in\">\n              <!-- Season Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"event\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Season & Package</h3>\n                  <VaIcon v-if=\"form.season && form.priceListId\" name=\"check_circle\" color=\"success\" size=\"small\" />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Season</div>\n                    <VaSelect\n                      v-model=\"form.season\"\n                      placeholder=\"Select Season\"\n                      :rules=\"[(v: any) => v || 'Season is required']\"\n                      :options=\"seasonsOptions\"\n                      searchable\n                      highlight-matched-text\n                      @update:modelValue=\"onSeasonSelected\"\n                    >\n                      <template #content=\"{ value }\">\n                        <div v-if=\"value\" class=\"flex flex-col\">\n                          <span class=\"font-semibold\">{{ value.text }}</span>\n                          <span v-if=\"value.selfItem\" class=\"text-sm text-gray-500\">\n                            {{ formatDateRange(value.selfItem.start_at, value.selfItem.end_at) }}\n                          </span>\n                        </div>\n                      </template>\n                    </VaSelect>\n                  </div>\n\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Package</div>\n                    <VaSelect\n                      v-model=\"form.priceListId\"\n                      placeholder=\"Select a Hunting Package\"\n                      :options=\"filteredPackagesOptions\"\n                      searchable\n                      highlight-matched-text\n                      clearable\n                      :disabled=\"!form.season || filteredPackagesOptions.length === 0\"\n                      @update:modelValue=\"populateFormFromPackage\"\n                    >\n                      <template #content=\"{ value }\">\n                        <div v-if=\"value\" class=\"flex flex-col\">\n                          <span class=\"font-semibold\">{{ value.text }}</span>\n                          <span class=\"text-sm text-gray-500\">\n                            {{ value.selfItem?.area || value.selfItem?.area_package || 'N/A' }} \n                            {{ value.selfItem?.hunting_type || 'N/A' }}  {{ value.selfItem?.duration || 0 }} days\n                          </span>\n                        </div>\n                      </template>\n                    </VaSelect>\n                  </div>\n                </div>\n\n                <!-- Display selected package details -->\n                <VaCard v-if=\"form.priceListId && form.priceListId.selfItem\" outlined class=\"mb-4 bg-gray-50\">\n                  <VaCardTitle class=\"text-sm font-semibold flex items-center gap-2\">\n                    <VaIcon name=\"info\" size=\"small\" color=\"info\" />\n                    Package Details - {{ form.priceListId.selfItem?.sales_package?.name || form.priceListId.text }}\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Area:</span>\n                        <span class=\"ml-1 font-medium\">{{\n                          form.priceListId.selfItem?.sales_package?.area?.name ||\n                          form.priceListId.selfItem?.area ||\n                          'N/A'\n                        }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Type:</span>\n                        <span class=\"ml-1 font-medium\">{{\n                          form.priceListId.selfItem?.price_list_type?.hunting_type?.name ||\n                          form.priceListId.selfItem?.hunting_type ||\n                          'N/A'\n                        }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Duration:</span>\n                        <span class=\"ml-1 font-medium\"\n                          >{{\n                            form.priceListId.selfItem?.price_list_type?.duration ||\n                            form.priceListId.selfItem?.duration ||\n                            0\n                          }}\n                          days</span\n                        >\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Base Amount:</span>\n                        <span class=\"ml-1 font-medium\">\n                          {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$'\n                          }}{{\n                            form.priceListId.selfItem?.price_list_type?.amount ||\n                            form.priceListId.selfItem?.amount ||\n                            'N/A'\n                          }}\n                        </span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Date Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"calendar_month\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Dates</h3>\n                  <VaIcon\n                    v-if=\"form.preferred_date && form.start_date && form.end_date\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Preferred Date</div>\n                    <VaDateInput\n                      v-model=\"form.preferred_date\"\n                      placeholder=\"Select Preferred Date\"\n                      :rules=\"[(v: any) => v || 'Preferred Date is required']\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"checkBookedDateConflict\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Start Date</div>\n                    <VaDateInput\n                      v-model=\"form.start_date\"\n                      placeholder=\"Select Start Date\"\n                      :rules=\"[(v: any) => v || 'Start Date is required']\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"onStartDateChange\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">End Date</div>\n                    <VaDateInput\n                      v-model=\"form.end_date\"\n                      placeholder=\"Select End Date\"\n                      :rules=\"[\n                        (v: any) => v || 'End Date is required',\n                        (v: any) =>\n                          !form.start_date ||\n                          new Date(v) >= new Date(form.start_date) ||\n                          'End date must be after start date',\n                      ]\"\n                      :allowed-days=\"checkDateAllowed\"\n                      :disabled=\"!form.season || !form.start_date\"\n                      first-weekday=\"Monday\"\n                      required\n                      @update:modelValue=\"onEndDateChange\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Date Range Info -->\n                <VaAlert\n                  v-if=\"form.start_date && form.end_date && huntDuration > 0\"\n                  color=\"info\"\n                  class=\"mb-4\"\n                  border=\"left\"\n                >\n                  <template #title>\n                    <VaIcon name=\"date_range\" class=\"mr-1\" />\n                    Hunt Duration: {{ huntDuration }} days\n                  </template>\n                  From {{ formatDate(form.start_date) }} to {{ formatDate(form.end_date) }}\n                </VaAlert>\n\n                <!-- Booked Dates Warning -->\n                <VaAlert v-if=\"dateConflictWarning\" color=\"warning\" class=\"mt-4 mb-4\" border=\"left\">\n                  <template #title>\n                    <VaIcon name=\"warning\" class=\"mr-1\" />\n                    Date Conflict Detected\n                  </template>\n                  {{ dateConflictWarning }}\n                </VaAlert>\n\n                <!-- Show booked dates for reference -->\n                <div v-if=\"bookedDatesForSelectedSeason.length > 0\" class=\"mt-4\">\n                  <div class=\"text-sm font-semibold text-gray-700 mb-2\">\n                    <VaIcon name=\"event_busy\" size=\"small\" class=\"mr-1\" />\n                    Already Booked Dates (Not Available):\n                  </div>\n                  <div class=\"flex flex-wrap gap-2\">\n                    <VaChip\n                      v-for=\"(booking, index) in bookedDatesForSelectedSeason\"\n                      :key=\"index\"\n                      color=\"danger\"\n                      size=\"small\"\n                      outline\n                    >\n                      {{ formatBookingDateRange(booking) }} - {{ booking.client_name }}\n                    </VaChip>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Hunt Party Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"groups\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Hunt Party Details</h3>\n                  <VaIcon\n                    v-if=\"huntDuration > 0 && form.no_of_hunters\"\n                    name=\"check_circle\"\n                    color=\"success\"\n                    size=\"small\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Days</div>\n                    <div class=\"flex items-center gap-2 py-2 px-3 bg-gray-50 rounded-lg border border-gray-200\">\n                      <VaIcon name=\"event\" color=\"primary\" />\n                      <span v-if=\"huntDuration > 0\" class=\"font-semibold text-lg\">{{ huntDuration }} days</span>\n                      <span v-else class=\"text-gray-400 italic\">Select dates above</span>\n                    </div>\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Hunting Area</div>\n                    <VaSelect\n                      v-model=\"form.area\"\n                      placeholder=\"Select Area\"\n                      :rules=\"[(v: any) => v || 'Hunting area is required']\"\n                      :options=\"areasOptions\"\n                      disabled\n                      readonly\n                    />\n                  </div>\n                </div>\n\n                <!-- Observer and Companion Cost Cards -->\n                <div v-if=\"form.priceListId?.selfItem\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <!-- Observer Cost -->\n                  <VaCard v-if=\"form.priceListId.selfItem.observer?.length > 0\" outlined class=\"bg-green-50\">\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"visibility\" color=\"success\" />\n                        <span class=\"font-semibold\">Observer Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-success\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.observer[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per observer</div>\n                      <div v-if=\"form.no_of_observers > 0\" class=\"mt-2 pt-2 border-t\">\n                        <span class=\"text-sm\">Subtotal: </span>\n                        <span class=\"font-bold\">\n                          {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                          }}{{ (form.no_of_observers * form.priceListId.selfItem.observer[0].amount).toLocaleString() }}\n                        </span>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n\n                  <!-- Companion Hunter Cost -->\n                  <VaCard\n                    v-if=\"form.priceListId.selfItem.companion_hunter_costs?.length > 0\"\n                    outlined\n                    class=\"bg-blue-50\"\n                  >\n                    <VaCardContent class=\"p-4\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <VaIcon name=\"group\" color=\"primary\" />\n                        <span class=\"font-semibold\">Companion Hunter Rate</span>\n                      </div>\n                      <div class=\"text-2xl font-bold text-primary\">\n                        {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                        }}{{ form.priceListId.selfItem.companion_hunter_costs[0].amount }}\n                      </div>\n                      <div class=\"text-sm text-gray-600 mt-1\">per companion hunter</div>\n                      <div v-if=\"form.no_of_companions > 0\" class=\"mt-2 pt-2 border-t\">\n                        <span class=\"text-sm\">Subtotal: </span>\n                        <span class=\"font-bold\">\n                          {{ form.priceListId.selfItem.price_list_type?.currency?.symbol || '$'\n                          }}{{\n                            (\n                              form.no_of_companions * form.priceListId.selfItem.companion_hunter_costs[0].amount\n                            ).toLocaleString()\n                          }}\n                        </span>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Hunters</div>\n                    <VaInput\n                      v-model=\"form.no_of_hunters\"\n                      placeholder=\"Enter Number of Hunters\"\n                      type=\"number\"\n                      :min=\"1\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Observers</div>\n                    <VaInput\n                      v-model=\"form.no_of_observers\"\n                      placeholder=\"Enter Number of Observers\"\n                      type=\"number\"\n                      :min=\"0\"\n                    />\n                  </div>\n                  <div>\n                    <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Number of Companions</div>\n                    <VaInput\n                      v-model=\"form.no_of_companions\"\n                      placeholder=\"Enter Number of Companions\"\n                      type=\"number\"\n                      :min=\"0\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <!-- Upgrade Fees Section -->\n              <div\n                v-if=\"form.priceListId?.selfItem?.upgrade_fees && form.priceListId.selfItem.upgrade_fees.length > 0\"\n                class=\"mb-6\"\n              >\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"upgrade\" color=\"warning\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Upgrade Fees</h3>\n                </div>\n\n                <VaCard outlined class=\"bg-amber-50\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full text-sm\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-right\">Upgrade Fee</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr v-for=\"fee in form.priceListId.selfItem.upgrade_fees\" :key=\"fee.id\">\n                            <td class=\"font-medium\">{{ fee.species_name || fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-right font-semibold text-warning\">\n                              {{\n                                fee.currency_symbol ||\n                                form.priceListId.selfItem.price_list_type?.currency?.symbol ||\n                                '$'\n                              }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Species Selection Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"pets\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Species Selection</h3>\n                </div>\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                      <div class=\"col-span-1 md:col-span-1\">\n                        <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Species</div>\n                        <VaSelect\n                          v-model=\"form.species\"\n                          :options=\"speciesOptions\"\n                          placeholder=\"Select Species\"\n                          searchable\n                          highlight-matched-text\n                        />\n                      </div>\n\n                      <VaCounter v-model=\"form.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n\n                      <div class=\"flex items-end\">\n                        <VaButton color=\"primary\" icon=\"add\" @click=\"addNewSpeciesItemToStorage()\">\n                          Add Species\n                        </VaButton>\n                      </div>\n                    </div>\n\n                    <VaDivider class=\"my-4\" />\n\n                    <div class=\"mt-4\">\n                      <div class=\"text-sm font-semibold mb-3\">Selected Species ({{ speciesObjects.length }})</div>\n                      <VaList v-if=\"speciesObjects.length > 0\" class=\"space-y-2\">\n                        <VaListItem\n                          v-for=\"(s, index) in speciesObjects\"\n                          :key=\"index\"\n                          class=\"border rounded-lg p-3 hover:shadow-md transition-shadow\"\n                        >\n                          <VaListItemSection>\n                            <VaListItemLabel class=\"flex justify-between items-center\">\n                              <div class=\"flex items-center gap-2\">\n                                <span class=\"font-semibold\">{{ s.name }}</span>\n                                <VaBadge v-if=\"s.fromPackage\" color=\"info\" size=\"small\" text=\"from Package\" />\n                              </div>\n                              <div class=\"flex items-center gap-2\">\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"remove\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  :disabled=\"s.quantity <= 1\"\n                                  @click=\"decrementQuantity(index)\"\n                                />\n                                <span class=\"text-sm font-medium min-w-[30px] text-center\">{{ s.quantity }}</span>\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"add\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  @click=\"incrementQuantity(index)\"\n                                />\n                                <VaButton\n                                  preset=\"plain\"\n                                  icon=\"delete\"\n                                  color=\"danger\"\n                                  size=\"small\"\n                                  class=\"ml-2\"\n                                  @click=\"deleteFromStorage(index)\"\n                                />\n                              </div>\n                            </VaListItemLabel>\n                          </VaListItemSection>\n                        </VaListItem>\n                      </VaList>\n                      <VaAlert v-else color=\"secondary\" border=\"left\" class=\"mb-0\">\n                        No species selected yet. Add species using the form above or select a package.\n                      </VaAlert>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 2 -->\n\n            <!-- Step 3: Safari Extras & Trophy Fees -->\n            <div v-show=\"currentStep === 2\" class=\"animate-fade-in\">\n              <!-- Safari Extras Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"hiking\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Safari Extras</h3>\n                </div>\n\n                <VaAlert v-if=\"selectedSafariExtras.length === 0\" color=\"secondary\" class=\"mb-4\" border=\"left\">\n                  <template #title>No Safari Extras Selected</template>\n                  Safari extras will be populated when you select a package. You can also add them manually later.\n                </VaAlert>\n\n                <template v-else>\n                  <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                    <template #title>Customize Safari Extras ({{ selectedSafariExtras.length }} selected)</template>\n                    Remove any safari extras that your client does not require by clicking the remove button.\n                  </VaAlert>\n\n                  <VaCard outlined class=\"mb-4 bg-gray-50\">\n                    <VaCardContent>\n                      <div class=\"space-y-3\">\n                        <div\n                          v-for=\"(extra, index) in selectedSafariExtras\"\n                          :key=\"extra.id\"\n                          class=\"p-3 border rounded-lg bg-white flex justify-between items-center\"\n                        >\n                          <div class=\"flex items-center gap-3\">\n                            <div class=\"font-semibold text-base capitalize\">{{ extra.name }}</div>\n                            <VaBadge v-if=\"extra.fromPackage\" color=\"info\" size=\"small\" text=\"FROM PACKAGE\" />\n                            <div class=\"text-xs text-gray-600\">{{ extra.description }}</div>\n                          </div>\n\n                          <div class=\"flex items-center gap-2\">\n                            <div class=\"text-sm text-gray-600 mr-3\">\n                              {{ extra.currency?.symbol || '$' }}{{ extra.amount }}\n                            </div>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"delete\"\n                              title=\"Remove this safari extra\"\n                              @click=\"removeSafariExtra(index)\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </VaCardContent>\n                  </VaCard>\n                </template>\n              </div>\n\n              <!-- Trophy Fees Section -->\n              <div v-if=\"form.priceListId?.selfItem?.trophy_fees?.length > 0\" class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"emoji_events\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Trophy Fees</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title\n                    >Trophy Fees Included ({{ form.priceListId.selfItem.trophy_fees.length }} species)</template\n                  >\n                  These trophy fees are included in the selected package and will be shown in the final review.\n                </VaAlert>\n\n                <VaCard outlined class=\"mb-4 bg-gray-50\">\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-center\">Sequence</th>\n                            <th class=\"text-right\">Price</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr\n                            v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                            :key=\"`trophy-${fee.id}-${index}`\"\n                          >\n                            <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-center\">\n                              <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" size=\"small\" />\n                            </td>\n                            <td class=\"text-right font-semibold\">\n                              {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$' }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n\n              <!-- Quotation Creation Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"request_quote\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Quotation</h3>\n                </div>\n\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardContent>\n                    <div class=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 class=\"font-semibold text-lg\">Create Quotation for this Inquiry?</h4>\n                        <p class=\"text-sm text-gray-600\">\n                          Enable this option to generate a quotation with payment installments for the client.\n                        </p>\n                      </div>\n                      <VaSwitch v-model=\"createQuotation\" color=\"primary\" size=\"medium\" />\n                    </div>\n\n                    <!-- Quotation Form (shown when enabled) -->\n                    <template v-if=\"createQuotation\">\n                      <VaDivider class=\"mb-4\" />\n\n                      <!-- Quotation Details -->\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                        <div>\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Confirmation Date</div>\n                          <VaDateInput\n                            v-model=\"quotationForm.confirmation_date\"\n                            placeholder=\"Select confirmation date\"\n                            first-weekday=\"Monday\"\n                          />\n                        </div>\n                        <div>\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">\n                            Hunting License (Optional)\n                          </div>\n                          <VaInput v-model=\"quotationForm.hunting_license\" placeholder=\"Enter license number\" />\n                        </div>\n                      </div>\n\n                      <div class=\"mb-4\">\n                        <div class=\"text-xs font-semibold text-gray-700 uppercase mb-1\">Remarks (Optional)</div>\n                        <VaTextarea\n                          v-model=\"quotationForm.remarks\"\n                          placeholder=\"Add any additional notes or remarks...\"\n                          :min-rows=\"2\"\n                        />\n                      </div>\n\n                      <!-- Payment Installments -->\n                      <div class=\"mb-4\">\n                        <div class=\"flex items-center justify-between mb-3\">\n                          <div class=\"text-xs font-semibold text-gray-700 uppercase\">Payment Installments</div>\n                          <VaButton preset=\"secondary\" size=\"small\" icon=\"add\" @click=\"addQuotationInstallment\">\n                            Add Installment\n                          </VaButton>\n                        </div>\n\n                        <VaAlert\n                          v-if=\"quotationForm.installments.length === 0\"\n                          color=\"warning\"\n                          class=\"mb-3\"\n                          border=\"left\"\n                        >\n                          <template #title>Required</template>\n                          At least one payment installment is required to create a quotation.\n                        </VaAlert>\n\n                        <div\n                          v-for=\"(installment, index) in quotationForm.installments\"\n                          :key=\"index\"\n                          class=\"p-4 border rounded-lg mb-3 bg-gray-50\"\n                        >\n                          <div class=\"flex justify-between items-start mb-3\">\n                            <span class=\"font-semibold text-gray-700\">Installment {{ index + 1 }}</span>\n                            <VaButton\n                              preset=\"plain\"\n                              color=\"danger\"\n                              size=\"small\"\n                              icon=\"delete\"\n                              @click=\"removeQuotationInstallment(index)\"\n                            />\n                          </div>\n                          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\n                            <VaInput\n                              v-model=\"installment.narration\"\n                              placeholder=\"e.g., Deposit Due upon booking\"\n                              label=\"Description\"\n                            />\n                            <VaInput\n                              v-model=\"installment.amount_due\"\n                              label=\"Amount (USD)\"\n                              type=\"number\"\n                              placeholder=\"5000\"\n                            />\n                            <VaSelect\n                              v-model=\"installment.due_days_type\"\n                              :options=\"dueDaysTypeOptions\"\n                              label=\"Due Type\"\n                              placeholder=\"Select when due\"\n                            />\n                            <VaInput\n                              v-model=\"installment.due_days\"\n                              :label=\"\n                                installment.due_days_type === 'before_arrival' ? 'Days Before Arrival' : 'Due Days'\n                              \"\n                              type=\"number\"\n                              placeholder=\"e.g., 90\"\n                              :disabled=\"installment.due_days_type === 'upon_booking'\"\n                            />\n                          </div>\n                        </div>\n\n                        <!-- Total -->\n                        <div v-if=\"quotationForm.installments.length > 0\" class=\"p-4 bg-primary rounded-lg text-white\">\n                          <div class=\"flex justify-between items-center\">\n                            <span class=\"text-lg font-semibold\">TOTAL</span>\n                            <span class=\"text-2xl font-bold\">${{ quotationTotalAmount.toLocaleString() }}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </template>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 3 -->\n\n            <!-- Step 4: Review & Submit -->\n            <div v-show=\"currentStep === 3\" class=\"animate-fade-in\">\n              <div class=\"mb-6\">\n                <div class=\"flex items-center gap-2 mb-4\">\n                  <VaIcon name=\"fact_check\" color=\"primary\" size=\"large\" />\n                  <h3 class=\"text-xl font-bold text-gray-800\">Review Your Enquiry</h3>\n                </div>\n\n                <VaAlert color=\"info\" class=\"mb-4\" border=\"left\">\n                  <template #title>Please Review</template>\n                  Review all the information below before submitting your enquiry.\n                </VaAlert>\n\n                <!-- Customer Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"person\" size=\"small\" color=\"primary\" />\n                    Customer Information\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Full Name:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.full_name || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Country:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.country?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Nationality:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.nationality?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Email:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.email || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Primary Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Additional Phone:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.phone_additional || 'N/A' }}</span>\n                      </div>\n                      <div class=\"md:col-span-3\">\n                        <span class=\"text-gray-600\">Address:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.address || 'N/A' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Season & Package Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"inventory_2\" size=\"small\" color=\"primary\" />\n                    Season & Package\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Season:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.season?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Package:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.priceListId?.text || 'No package selected' }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Schedule Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"event\" size=\"small\" color=\"primary\" />\n                    Schedule & Hunt Party\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4\">\n                      <div>\n                        <span class=\"text-gray-600\">Preferred Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.preferred_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Start Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.start_date) }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">End Date:</span>\n                        <span class=\"ml-2 font-medium\">{{ formatReviewDate(form.end_date) }}</span>\n                      </div>\n                    </div>\n                    <VaDivider class=\"my-3\" />\n                    <div class=\"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm\">\n                      <div>\n                        <span class=\"text-gray-600\">Hunting Area:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.area?.text || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Days:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_days || 'N/A' }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Hunters:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_hunters || 1 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Observers:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_observers || 0 }}</span>\n                      </div>\n                      <div>\n                        <span class=\"text-gray-600\">Companions:</span>\n                        <span class=\"ml-2 font-medium\">{{ form.no_of_companions || 0 }}</span>\n                      </div>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Species Summary -->\n                <VaCard outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"pets\" size=\"small\" color=\"primary\" />\n                    Selected Species ({{ speciesObjects.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div v-if=\"speciesObjects.length > 0\" class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"(s, index) in speciesObjects\"\n                        :key=\"index\"\n                        :text=\"`${s.name} (x${s.quantity})`\"\n                        :color=\"s.fromPackage ? 'info' : 'primary'\"\n                      />\n                    </div>\n                    <span v-else class=\"text-gray-500\">No species selected</span>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Safari Extras Summary -->\n                <VaCard v-if=\"selectedSafariExtras.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"hiking\" size=\"small\" color=\"primary\" />\n                    Safari Extras ({{ selectedSafariExtras.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <VaBadge\n                        v-for=\"extra in selectedSafariExtras\"\n                        :key=\"extra.id\"\n                        :text=\"`${extra.name} - ${extra.currency?.symbol || '$'}${extra.amount}`\"\n                        color=\"success\"\n                      />\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n\n                <!-- Trophy Fees Summary -->\n                <VaCard v-if=\"form.priceListId?.selfItem?.trophy_fees?.length > 0\" outlined class=\"mb-4\">\n                  <VaCardTitle class=\"flex items-center gap-2\">\n                    <VaIcon name=\"emoji_events\" size=\"small\" color=\"primary\" />\n                    Trophy Fees ({{ form.priceListId.selfItem.trophy_fees.length }})\n                  </VaCardTitle>\n                  <VaCardContent>\n                    <div class=\"va-table-responsive\">\n                      <table class=\"va-table va-table--hoverable w-full text-sm\">\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">Species</th>\n                            <th class=\"text-center\">Sequence</th>\n                            <th class=\"text-right\">Price</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr\n                            v-for=\"(fee, index) in form.priceListId.selfItem.trophy_fees\"\n                            :key=\"`trophy-review-${fee.id}-${index}`\"\n                          >\n                            <td class=\"font-medium\">{{ fee.species?.name || 'Unknown' }}</td>\n                            <td class=\"text-center\">\n                              <VaBadge :text=\"getSequenceLabel(fee.sequence_order)\" color=\"primary\" size=\"small\" />\n                            </td>\n                            <td class=\"text-right font-semibold\">\n                              {{ form.priceListId.selfItem?.price_list_type?.currency?.symbol || '$' }}{{ fee.amount }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </VaCardContent>\n                </VaCard>\n              </div>\n            </div>\n            <!-- End of Step 5 -->\n          </VaForm>\n\n          <!-- Wizard Navigation Buttons - Sticky -->\n          <div class=\"sticky bottom-0 bg-white border-t border-gray-200 mt-6 -mx-6 px-6 py-4 shadow-lg z-10\">\n            <div class=\"flex justify-between items-center gap-3\">\n              <div>\n                <VaButton v-if=\"currentStep > 0\" preset=\"secondary\" icon=\"arrow_back\" @click=\"previousStep\">\n                  Previous\n                </VaButton>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <span class=\"text-sm text-gray-500 hidden sm:inline\">\n                  Step {{ currentStep + 1 }} of {{ wizardSteps.length }}\n                </span>\n              </div>\n              <div class=\"flex gap-3\">\n                <VaButton preset=\"secondary\" @click=\"handleGoBack\"> Cancel </VaButton>\n                <VaButton\n                  v-if=\"currentStep < wizardSteps.length - 1\"\n                  color=\"primary\"\n                  icon-right=\"arrow_forward\"\n                  :disabled=\"!canProceedToNextStep\"\n                  :aria-disabled=\"!canProceedToNextStep\"\n                  :class=\"{ 'opacity-60 pointer-events-none': !canProceedToNextStep }\"\n                  @click=\"nextStep\"\n                >\n                  Next\n                </VaButton>\n                <VaButton\n                  v-else\n                  :loading=\"saving\"\n                  icon=\"save\"\n                  color=\"success\"\n                  :disabled=\"!isValidForm\"\n                  @click=\"validateForm() && submit()\"\n                >\n                  {{ isEditMode ? 'Update Enquiry' : 'Submit Enquiry' }}\n                </VaButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </VaCardContent>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, computed, onMounted } from 'vue'\nimport axios from 'axios'\nimport { VaForm, VaInput, VaSelect, VaButton } from 'vuestic-ui'\nimport handleErrors from '../../../utils/errorHandler'\nimport { validators } from '../../../services/utils'\n// import SalesConfirmationClientDetails from './components/SalesConfirmationClientDetails.vue'\n\nimport Salesinquirieslist from './components/Salesinquirieslist.vue'\nimport { useForm, useToast } from 'vuestic-ui'\nimport { mapActions, mapState } from 'pinia'\nimport { useQuotaStore } from '../../../stores/quota-store'\nimport { useSalesInquiriesStore } from '../../../stores/sales-store'\nimport { useSettingsStore } from '../../../stores/settings-store'\nimport SalesInquiryDetails from './components/SalesInquiryDetails.vue'\n// import pdfMake from 'pdfmake/build/pdfmake'\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts'\nimport downloadPdf from '../../../utils/pdfDownloader'\nimport { usePriceListStore } from '../../../stores/price-list-store'\n\n// pdfMake.vfs = pdfFonts?.pdfMake?.vfs\n// pdfMake.vfs = pdfFonts.pdfMake.vfs\nexport default defineComponent({\n  components: {\n    Salesinquirieslist,\n    VaForm,\n    VaInput,\n    VaSelect,\n    VaButton,\n    SalesInquiryDetails,\n    // SalesConfirmationClientDetails,\n  },\n  setup() {\n    const formRef = ref()\n    const contactFormRef = ref()\n    const showAddSalesInquiriesForm = ref(false)\n    const btnIcon = ref('add')\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const {\n      isValid: isValidContactForm,\n      validate: validateContactForm,\n      resetValidation: resetValidationContactForm,\n      reset: resetContactForm,\n    } = useForm(contactFormRef)\n\n    const { init } = useToast()\n    const showDetailsPage = ref(false)\n\n    const form = reactive({\n      id: null as any,\n      full_name: '',\n      nick_name: '',\n      country: null as any,\n      nationality: null as any,\n      category: null,\n      email: '',\n      phone: '',\n      phone_additional: '',\n      address: '',\n      no_of_hunters: 1,\n      no_of_observers: 0,\n      priceListId: null as any,\n      no_of_days: 0,\n      no_of_companions: 0,\n      species: null as any,\n      quantity: 0,\n      area: null as any,\n      season: null as any,\n      preferred_date: null as any,\n      start_date: null as any,\n      end_date: null as any,\n    })\n\n    const contactForm = reactive({\n      id: null as any,\n      client_id: null as any,\n      contact: '',\n      contact_type: null as any,\n      contactable: false,\n    })\n\n    const toggleAddSalesInquiriesForm = () => {\n      showAddSalesInquiriesForm.value = true\n    }\n    const gotBack = () => {\n      showAddSalesInquiriesForm.value = false\n      showDetailsPage.value = false\n      // btnIcon.value = showAddSalesInquiriesForm.value ? 'list_alt' : 'add'\n    }\n\n    const countries = ref([]) as any\n    const nationality = ref([]) as any\n    const categoryOptions = ref([]) as any\n    const contactsTypes = ref([]) as any\n    const clients = ref([]) as any\n    const step = ref(0) as any\n    // const salesInquiryItems = ref([]) as any\n\n    const getCountries = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_COUNTRIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        countries.value.push(\n          ...response.data.map((country: { id: any; name: any }) => ({ value: country.id, text: country.name })),\n        )\n      }\n    }\n\n    const getCategories = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_ENTITY_CATEGORIES_VSET_URL,\n        }\n\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          categoryOptions.value.push(\n            ...response.data.map((category: { id: any; name: any }) => ({ value: category.id, text: category.name })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - categories not used in current form\n        console.warn('Categories endpoint not available')\n      }\n    }\n\n    const getNationalities = async () => {\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_NATIONALITIES_URL,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      const response = await axios.request(config)\n      if (response.status === 200) {\n        nationality.value.push(\n          ...response.data.map((nationality: { id: any; name: any }) => ({\n            value: nationality.id,\n            text: nationality.name,\n          })),\n        )\n      }\n    }\n\n    const getContactTypes = async () => {\n      try {\n        const config = {\n          method: 'get',\n          maxBodyLength: Infinity,\n          url: import.meta.env.VITE_APP_BASE_URL + import.meta.env.VITE_APP_CONTACT_TYPES_URL,\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n        const response = await axios.request(config)\n        if (response.status === 200) {\n          contactsTypes.value.push(\n            ...response.data.map((contactType: { id: any; name: any }) => ({\n              value: contactType.id,\n              text: contactType.name,\n            })),\n          )\n        }\n      } catch (error) {\n        // Endpoint not available - contact types not used in current form\n        console.warn('Contact types endpoint not available')\n      }\n    }\n\n    const contactFieldType = computed(() => {\n      let contact_field_type = ''\n      const contactType = contactForm.contact_type?.value\n\n      if (contactType === 'email') {\n        contact_field_type = 'email'\n      } else if (contactType === 'phone_number') {\n        contact_field_type = 'phone'\n      } else {\n        contact_field_type = ''\n      }\n\n      return contact_field_type\n    })\n\n    onMounted(() => {\n      getCountries()\n      getCategories()\n      getNationalities()\n      getContactTypes()\n      // getClients()\n    })\n\n    return {\n      formRef,\n      contactFormRef,\n      showAddSalesInquiriesForm,\n      btnIcon,\n      form,\n      contactForm,\n      showDetailsPage,\n      countries,\n      nationality,\n      categoryOptions,\n      contactsTypes,\n      clients,\n      step,\n      // steps,\n      init,\n      toggleAddSalesInquiriesForm,\n      isValidForm,\n      validateForm,\n      resetValidationForm,\n      resetForm,\n      isValidContactForm,\n      validateContactForm,\n      resetValidationContactForm,\n      resetContactForm,\n\n      validators,\n      getCountries,\n      // deleteSalesInquireItem,\n      getCategories,\n      getNationalities,\n      getContactTypes,\n      contactFieldType,\n      gotBack,\n    }\n  },\n  data() {\n    return {\n      // preferred_species: [] as any,\n\n      speciesOptions: [] as any,\n      speciesObjects: [] as any,\n      areasOptions: [] as any,\n      seasonsOptions: [] as any,\n      selectedInquiryItem: null as any,\n\n      downloadPdf,\n      saving: false,\n      packagesOptions: [] as any,\n      originalQuantities: reactive({} as any), // to keep track of original quantities\n\n      // Season date range constraints\n      seasonMinDate: null as Date | null,\n      seasonMaxDate: null as Date | null,\n\n      // Edit mode\n      isEditMode: false,\n      editingInquiryId: null as number | null,\n\n      // Customer selection\n      customerType: 'new' as 'new' | 'existing',\n      selectedExistingCustomer: null as any,\n      existingCustomersOptions: [] as any,\n      loadingCustomers: false,\n\n      // Wizard steps\n      currentStep: 0,\n      wizardSteps: [\n        { label: 'Personal Info' },\n        { label: 'Season, Package, Dates & Species' },\n        { label: 'Safari Extras & Trophy Fees' },\n        { label: 'Review' },\n      ],\n\n      // Safari extras selected by the client\n      selectedSafariExtras: [] as any[],\n      // helper field for adding extras (removed: selection UI disabled)\n\n      // Booked dates (confirmed hunts)\n      bookedDates: [] as { start_date: string; end_date: string; client_name: string; area_id: number }[],\n      loadingBookedDates: false,\n      dateConflictWarning: '' as string,\n\n      // Quotation creation\n      createQuotation: false,\n      quotationForm: {\n        confirmation_date: null as Date | null,\n        hunting_license: '',\n        remarks: '',\n        installments: [] as { narration: string; amount_due: number; due_days_type: string; due_days: number }[],\n      },\n      dueDaysTypeOptions: [\n        { value: 'upon_booking', text: 'Upon Booking' },\n        { value: 'before_arrival', text: 'Before Arrival' },\n        { value: 'on_arrival', text: 'On Arrival' },\n        { value: 'after_hunt', text: 'After Hunt' },\n      ],\n    }\n  },\n  computed: {\n    ...mapState(useSettingsStore, ['logo', 'salesPackagesSpecies']),\n\n    // Get booked dates for the currently selected season\n    bookedDatesForSelectedSeason(): { start_date: string; end_date: string; client_name: string; area_id: number }[] {\n      return this.bookedDates\n    },\n\n    // Step completion indicators\n    isStep1Complete(): boolean {\n      return !!(\n        this.form.full_name &&\n        this.form.country &&\n        this.form.nationality &&\n        this.form.email &&\n        this.form.phone &&\n        this.form.address\n      )\n    },\n\n    isStep2Complete(): boolean {\n      return !!(\n        this.form.season &&\n        this.form.preferred_date &&\n        this.form.start_date &&\n        this.form.end_date &&\n        this.form.no_of_days &&\n        this.speciesObjects.length > 0\n      )\n    },\n\n    isStep3Complete(): boolean {\n      // Step 3 (Safari Extras & Trophy Fees) is complete if we've reached step 4 (Review)\n      return this.currentStep >= 3\n    },\n\n    // Validation for each wizard step\n    canProceedToNextStep(): boolean {\n      const hasInput = (value: any) => {\n        if (typeof value === 'string') {\n          return value.trim().length > 0\n        }\n        return !!value\n      }\n\n      switch (this.currentStep) {\n        case 0: // Personal Info\n          return (\n            hasInput(this.form.full_name) &&\n            hasInput(this.form.country) &&\n            hasInput(this.form.nationality) &&\n            hasInput(this.form.email) &&\n            hasInput(this.form.phone) &&\n            hasInput(this.form.address) &&\n            (this.customerType === 'existing' ? hasInput(this.selectedExistingCustomer) : true)\n          )\n        case 1: // Season, Package, Dates & Species\n          return (\n            hasInput(this.form.season) &&\n            hasInput(this.form.preferred_date) &&\n            hasInput(this.form.start_date) &&\n            hasInput(this.form.end_date) &&\n            hasInput(this.form.area) &&\n            !!(this.form.no_of_days && this.form.no_of_days > 0) &&\n            this.speciesObjects.length > 0\n          )\n        case 2: // Review\n          return true\n        default:\n          return false\n      }\n    },\n\n    // Maximum allowed hunting days from the selected package\n    maxPackageDays(): number {\n      if (this.form.priceListId?.selfItem?.price_list_type?.duration) {\n        return this.form.priceListId.selfItem.price_list_type.duration\n      }\n      return 365 // Default to a large number if no package selected\n    },\n\n    // Calculate the maximum end date based on start date and package duration\n    maxEndDate(): Date | null {\n      if (!this.form.start_date || this.maxPackageDays >= 365) {\n        return null\n      }\n      const startDate = new Date(this.form.start_date)\n      const maxEnd = new Date(startDate)\n      maxEnd.setDate(startDate.getDate() + this.maxPackageDays - 1)\n      return maxEnd\n    },\n\n    // Format the max end date for display\n    formatMaxEndDate(): string {\n      if (!this.maxEndDate) return ''\n      return this.maxEndDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n    },\n\n    // Calculate hunt duration in days\n    huntDuration(): number {\n      if (!this.form.start_date || !this.form.end_date) return 0\n      const start = new Date(this.form.start_date)\n      const end = new Date(this.form.end_date)\n      const diffTime = end.getTime() - start.getTime()\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1 // +1 to include both start and end dates\n      return diffDays > 0 ? diffDays : 0\n    },\n\n    // Calculate quotation total amount\n    quotationTotalAmount(): number {\n      return this.quotationForm.installments.reduce((sum, inst) => sum + (Number(inst.amount_due) || 0), 0)\n    },\n\n    // Filtered packages based on selected season\n    filteredPackagesOptions(): any[] {\n      if (!this.form.season?.value) {\n        return []\n      }\n\n      const selectedSeasonId = this.form.season.value\n      return this.packagesOptions.filter((pkg: any) => {\n        // Check if package belongs to the selected season\n        const pkgSeasonId = pkg.selfItem?.season_id || pkg.selfItem?.price_list_type?.price_list?.season_id\n        return pkgSeasonId === selectedSeasonId\n      })\n    },\n\n    speciesList() {\n      return this.salesPackagesSpecies\n    },\n    // Get the month (0-11) of the season start date for calendar view\n    seasonStartMonth(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getMonth()\n      }\n      return new Date().getMonth()\n    },\n    // Get the year of the season start date for calendar view\n    seasonStartYear(): number {\n      if (this.seasonMinDate) {\n        return this.seasonMinDate.getFullYear()\n      }\n      return new Date().getFullYear()\n    },\n  },\n\n  watch: {\n    customerType(newType: 'new' | 'existing') {\n      if (newType === 'new') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      } else if (newType === 'existing') {\n        this.selectedExistingCustomer = null\n        this.clearCustomerInformation()\n      }\n    },\n    selectedExistingCustomer(newValue: any) {\n      if (!newValue && this.customerType === 'existing') {\n        this.clearCustomerInformation()\n      }\n    },\n  },\n\n  mounted() {\n    this.getSpecies()\n    this.getAreas()\n    this.getSeasonList()\n    this.getPL()\n    this.getExistingCustomers()\n  },\n  methods: {\n    ...mapActions(useQuotaStore, ['getSpeciesList']),\n    ...mapActions(useQuotaStore, ['getAreaList']),\n    ...mapActions(useQuotaStore, ['getAllSpeciesPerQuotaPerArea']),\n    ...mapActions(useSalesInquiriesStore, ['createSalesInquiry', 'updateSalesInquiry', 'getSalesInquiries']),\n    ...mapActions(useSettingsStore, ['getSeasons', 'getSalespackagesSpecies']),\n    ...mapActions(usePriceListStore, ['getPriceList', 'getPriceListById']),\n\n    async getExistingCustomers() {\n      this.loadingCustomers = true\n      try {\n        // Fetch all sales inquiries to get unique customers\n        const response: any = await this.getSalesInquiries('', '')\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          // Create a map to store unique customers by entity ID\n          const customersMap = new Map()\n\n          dataArray.forEach((item: any) => {\n            const entity = item.entity\n            if (entity && entity.id && !customersMap.has(entity.id)) {\n              // Get contact info\n              let email = ''\n              let phone = ''\n              let address = ''\n\n              if (entity.contacts && Array.isArray(entity.contacts)) {\n                entity.contacts.forEach((contact: any) => {\n                  if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n                    email = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n                    phone = contact.contact || ''\n                  } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n                    address = contact.contact || ''\n                  }\n                })\n              }\n\n              customersMap.set(entity.id, {\n                value: entity.id,\n                text: entity.full_name,\n                selfItem: {\n                  id: entity.id,\n                  full_name: entity.full_name,\n                  country: entity.country?.name || entity.country_name || '',\n                  country_id: entity.country?.id || entity.country_id,\n                  nationality: entity.nationality?.name || entity.nationality_name || '',\n                  nationality_id: entity.nationality?.id || entity.nationality_id,\n                  email: email,\n                  phone: phone,\n                  address: address,\n                },\n              })\n            }\n          })\n\n          this.existingCustomersOptions = Array.from(customersMap.values())\n        }\n      } catch (error) {\n        console.error('Error fetching existing customers:', error)\n      } finally {\n        this.loadingCustomers = false\n      }\n    },\n\n    populateFormFromCustomer(selectedCustomer: any) {\n      if (this.customerType !== 'existing') {\n        return\n      }\n\n      if (!selectedCustomer || !selectedCustomer.selfItem) {\n        // Clear form if no customer selected\n        this.clearCustomerInformation()\n        return\n      }\n\n      const customer = selectedCustomer.selfItem\n\n      // Populate basic information\n      this.form.full_name = customer.full_name || ''\n\n      // Find and set country\n      if (customer.country_id) {\n        const countryOption = this.countries.find((c: any) => c.value === customer.country_id)\n        if (countryOption) this.form.country = countryOption\n      } else if (customer.country) {\n        const countryOption = this.countries.find((c: any) => c.text === customer.country)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      if (customer.nationality_id) {\n        const nationalityOption = this.nationality.find((n: any) => n.value === customer.nationality_id)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      } else if (customer.nationality) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === customer.nationality)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Populate contact information\n      this.form.email = customer.email || ''\n      this.form.phone = customer.phone || ''\n      this.form.address = customer.address || ''\n\n      this.init({\n        message: `Customer \"${customer.full_name}\" information loaded successfully`,\n        color: 'success',\n      })\n    },\n\n    clearCustomerInformation() {\n      this.form.full_name = ''\n      this.form.country = null\n      this.form.nationality = null\n      this.form.email = ''\n      this.form.phone = ''\n      this.form.address = ''\n    },\n\n    async submit() {\n      this.saving = true\n\n      // Validate required fields\n      if (!this.form.full_name || !this.form.country || !this.form.nationality || !this.form.email) {\n        this.init({\n          message: 'Please fill in all required fields (Name, Country, Nationality, Email).',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate species - at least one species should be selected\n      if (this.speciesObjects.length === 0) {\n        this.init({\n          message: 'Please add at least one species.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Validate area and season\n      if (!this.form.area) {\n        this.init({\n          message: 'Please select a hunting area.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.season) {\n        this.init({\n          message: 'Please select a season.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      if (!this.form.no_of_days || this.form.no_of_days <= 0) {\n        this.init({\n          message: 'Please enter the number of days.',\n          color: 'warning',\n        })\n        this.saving = false\n        return\n      }\n\n      // Prepare entity data\n      const entityData = {\n        full_name: this.form.full_name,\n        country_id: this.form.country?.value,\n        nationality_id: this.form.nationality?.value,\n      }\n\n      // Prepare contacts with proper contact type IDs\n      const contacts = [\n        {\n          contact_type_id: 1, // email type from contact_types table\n          contact: this.form.email,\n          contactable: true,\n        },\n        {\n          contact_type_id: 2, // phone_number type from contact_types table\n          contact: this.form.phone,\n          contactable: true,\n        },\n        {\n          contact_type_id: 3, // address type from contact_types table\n          contact: this.form.address,\n          contactable: false,\n        },\n      ]\n\n      // Prepare sales inquiry preferences\n      const preferences = {\n        preferred_date: this.form.preferred_date,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        no_of_observers: this.form.no_of_observers || 0,\n        no_of_companions: this.form.no_of_companions || 0,\n        no_of_hunters: this.form.no_of_hunters || 1,\n        no_of_days: this.form.no_of_days,\n      }\n\n      const requestdata: any = {\n        // Entity and contacts\n        entity: entityData,\n        contacts: contacts,\n\n        // Preferences\n        preferences: preferences,\n\n        // Species data (user can always edit)\n        species: this.speciesObjects,\n\n        // Area and Season\n        area_id: this.form.area?.value,\n        season_id: this.form.season?.value,\n\n        // Safari extras selected by the client - send as array of IDs\n        safari_extras: this.selectedSafariExtras.map((extra: any) => extra.safari_extras_id || extra.id),\n      }\n\n      // Include reference price_list_id if a package was selected as reference\n      if (this.form.priceListId?.value) {\n        requestdata.reference_price_list_id = this.form.priceListId.value\n      }\n\n      // Include quotation data if user chose to create one\n      if (this.createQuotation && this.quotationForm.installments.length > 0) {\n        requestdata.create_quotation = true\n        requestdata.quotation = {\n          confirmation_date: this.quotationForm.confirmation_date,\n          hunting_license: this.quotationForm.hunting_license,\n          remarks: this.quotationForm.remarks,\n          installments: this.quotationForm.installments.map((inst) => ({\n            narration: inst.narration,\n            amount_due: Number(inst.amount_due),\n            due_days_type: inst.due_days_type,\n            due_days: Number(inst.due_days) || 0,\n          })),\n        }\n      }\n\n      console.log('Request payload:', JSON.stringify(requestdata, null, 2))\n\n      try {\n        let response: any\n\n        if (this.isEditMode && this.editingInquiryId) {\n          // Update existing inquiry\n          response = await this.updateSalesInquiry(this.editingInquiryId, requestdata)\n\n          if (response.status === 200) {\n            this.saving = false\n            this.init({ message: 'Sales inquiry updated successfully', color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.resetQuotationForm()\n            this.isEditMode = false\n            this.editingInquiryId = null\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n            this.showAddSalesInquiriesForm = false\n          }\n        } else {\n          // Create new inquiry\n          response = await this.createSalesInquiry(requestdata)\n\n          if (response.status === 201) {\n            this.saving = false\n            this.init({ message: response.data.message, color: 'success' })\n            this.resetForm()\n            this.resetValidationContactForm()\n            this.speciesObjects = []\n            this.selectedSafariExtras = []\n            this.resetQuotationForm()\n            this.customerType = 'new'\n            this.selectedExistingCustomer = null\n            this.currentStep = 0\n          }\n        }\n      } catch (error: any) {\n        this.saving = false\n        console.error('Error saving sales inquiry:', error)\n\n        // Handle errors with server response\n        if (error.response) {\n          const errors = handleErrors(error.response)\n          this.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n            color: 'danger',\n          })\n        } else if (error.request) {\n          // Request was made but no response received\n          this.init({\n            message: 'No response from server. Please check your network connection.',\n            color: 'danger',\n          })\n        } else {\n          // Something else happened\n          this.init({\n            message: error.message || 'An unexpected error occurred',\n            color: 'danger',\n          })\n        }\n      }\n    },\n\n    viewInquiries(i: any) {\n      this.showDetailsPage = true\n      this.selectedInquiryItem = i.selfitem\n    },\n\n    resetEditMode() {\n      this.isEditMode = false\n      this.editingInquiryId = null\n      this.speciesObjects = []\n      this.selectedSafariExtras = []\n      this.resetQuotationForm()\n      this.customerType = 'new'\n      this.selectedExistingCustomer = null\n      this.currentStep = 0\n    },\n\n    handleGoBack() {\n      this.resetEditMode()\n      this.currentStep = 0\n      this.gotBack()\n    },\n\n    // Wizard navigation methods\n    nextStep() {\n      if (this.currentStep < this.wizardSteps.length - 1 && this.canProceedToNextStep) {\n        this.currentStep++\n      } else if (!this.canProceedToNextStep) {\n        this.showStepValidationError()\n      }\n    },\n\n    previousStep() {\n      if (this.currentStep > 0) {\n        this.currentStep--\n      }\n    },\n\n    goToStep(stepIndex: number) {\n      // Only allow going to previous steps or current step\n      if (stepIndex <= this.currentStep) {\n        this.currentStep = stepIndex\n      }\n    },\n\n    showStepValidationError() {\n      const stepMessages: { [key: number]: string } = {\n        0: 'Please fill in all customer information fields (Name, Country, Nationality, Email, Phone, Address).',\n        1: 'Please select season, dates, hunting area, enter the number of days, and add at least one species.',\n      }\n      this.init({\n        message: stepMessages[this.currentStep] || 'Please complete all required fields.',\n        color: 'warning',\n      })\n    },\n\n    formatReviewDate(date: any): string {\n      if (!date) return 'N/A'\n      try {\n        const d = new Date(date)\n        if (isNaN(d.getTime())) return 'N/A'\n        return d.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n        })\n      } catch {\n        return 'N/A'\n      }\n    },\n\n    getSpeciesNameById(speciesId: number): string | null {\n      if (!speciesId) return null\n      const species = this.speciesOptions.find((s: any) => s.value === speciesId)\n      return species ? species.text : null\n    },\n\n    editInquiry(rowData: any) {\n      // Set edit mode\n      this.isEditMode = true\n      this.editingInquiryId = rowData.id\n\n      // Show the form\n      this.showAddSalesInquiriesForm = true\n\n      // Populate form with existing data\n      const item = rowData.selfitem || rowData\n\n      // Basic Information\n      this.form.full_name = item.entity?.full_name || rowData.name || ''\n\n      // Find and set country\n      const countryName = item.entity?.country?.name || item.entity?.country_name\n      if (countryName) {\n        const countryOption = this.countries.find((c: any) => c.text === countryName)\n        if (countryOption) this.form.country = countryOption\n      }\n\n      // Find and set nationality\n      const nationalityName = item.entity?.nationality?.name || item.entity?.nationality_name\n      if (nationalityName) {\n        const nationalityOption = this.nationality.find((n: any) => n.text === nationalityName)\n        if (nationalityOption) this.form.nationality = nationalityOption\n      }\n\n      // Contact Information from entity contacts\n      if (item.entity?.contacts && Array.isArray(item.entity.contacts)) {\n        item.entity.contacts.forEach((contact: any) => {\n          if (contact.contact_type?.name === 'email' || contact.contact_type_id === 1) {\n            this.form.email = contact.contact || ''\n          } else if (contact.contact_type?.name === 'phone_number' || contact.contact_type_id === 2) {\n            this.form.phone = contact.contact || ''\n          } else if (contact.contact_type?.name === 'address' || contact.contact_type_id === 3) {\n            this.form.address = contact.contact || ''\n          }\n        })\n      }\n\n      // Preferences\n      const prefs = item.formatted_preferences || rowData.preference || {}\n      this.form.no_of_hunters = prefs.no_of_hunters || 1\n      this.form.no_of_observers = prefs.no_of_observers || 0\n      this.form.no_of_days = prefs.no_of_days || 0\n      this.form.no_of_companions = prefs.no_of_companions || 0\n\n      // Dates\n      if (prefs.preferred_date) this.form.preferred_date = new Date(prefs.preferred_date)\n      if (prefs.start_date) this.form.start_date = new Date(prefs.start_date)\n      if (prefs.end_date) this.form.end_date = new Date(prefs.end_date)\n\n      // Area\n      const areaName = item.inquiry_areas?.[0]?.area?.name || rowData.area\n      if (areaName) {\n        const areaOption = this.areasOptions.find((a: any) => a.text === areaName)\n        if (areaOption) this.form.area = areaOption\n      }\n\n      // Season\n      if (item.season) {\n        const seasonOption = this.seasonsOptions.find(\n          (s: any) => s.value === item.season.id || s.text === item.season.name,\n        )\n        if (seasonOption) this.form.season = seasonOption\n      }\n\n      // Reference Price List\n      if (item.reference_price_list) {\n        const priceListOption = this.packagesOptions.find((p: any) => p.value === item.reference_price_list.id)\n        if (priceListOption) this.form.priceListId = priceListOption\n      }\n\n      // Species\n      this.speciesObjects = []\n      const speciesArray = item.inquiry_species || rowData.inquiry_species || []\n      console.log('Species array from API:', JSON.stringify(speciesArray, null, 2))\n      speciesArray.forEach((speciesItem: any) => {\n        // Try multiple paths to get the species name\n        const speciesName =\n          speciesItem.species_name ||\n          speciesItem.species?.name ||\n          speciesItem.name ||\n          this.getSpeciesNameById(speciesItem.species_id) ||\n          'Unknown'\n        this.speciesObjects.push({\n          species_id: speciesItem.species_id || speciesItem.species?.id || speciesItem.id,\n          name: speciesName,\n          quantity: speciesItem.quantity || 1,\n          fromPackage: false,\n        })\n      })\n\n      // Safari Extras - load from sales_confirmation_safary_extras\n      this.selectedSafariExtras = []\n      const safariExtrasArray = item.safari_extras || item.sales_confirmation_safari_extras || []\n      console.log('Safari extras from API:', JSON.stringify(safariExtrasArray, null, 2))\n      safariExtrasArray.forEach((extraItem: any) => {\n        // Handle both nested and flat structures\n        const extra = extraItem.safari_extra || extraItem.safary_extra || extraItem\n        this.selectedSafariExtras.push({\n          id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          safari_extras_id: extra.id || extraItem.safari_extras_id || extraItem.safary_extras_id,\n          name: extra.name || 'Unknown',\n          description: extra.description || '',\n          amount: extra.amount || 0,\n          charges_per: extra.charges_per || '',\n          currency: extra.currency,\n        })\n      })\n\n      this.init({\n        message: 'Loaded inquiry data for editing',\n        color: 'info',\n      })\n    },\n\n    async downloadAllInquiriesPdf() {\n      try {\n        const response = await axios.get(`${import.meta.env.VITE_APP_BASE_URL}sales/sales-inquiries-pdf`, {\n          headers: { 'Content-Type': 'application/json' },\n        })\n\n        if (response.data.success && response.data.pdf) {\n          // Decode base64 PDF and download\n          const pdfData = response.data.pdf\n          const byteCharacters = atob(pdfData)\n          const byteNumbers = new Array(byteCharacters.length)\n          for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i)\n          }\n          const byteArray = new Uint8Array(byteNumbers)\n          const blob = new Blob([byteArray], { type: 'application/pdf' })\n\n          // Create download link\n          const url = window.URL.createObjectURL(blob)\n          const link = document.createElement('a')\n          link.href = url\n          link.download = `sales-inquiries-${new Date().toISOString().split('T')[0]}.pdf`\n          document.body.appendChild(link)\n          link.click()\n          document.body.removeChild(link)\n          window.URL.revokeObjectURL(url)\n\n          this.init({\n            message: `PDF downloaded successfully. Total records: ${response.data.total_records}`,\n            color: 'success',\n          })\n        } else {\n          this.init({\n            message: 'Failed to generate PDF',\n            color: 'danger',\n          })\n        }\n      } catch (error) {\n        console.error('Error downloading PDF:', error)\n        this.init({\n          message: 'Error downloading PDF',\n          color: 'danger',\n        })\n      }\n    },\n\n    // async getAllSpieces() {\n    //   try {\n    //     // if (this.form.sales_quota_id?.value || this.form?.area?.value) {\n    //     const response = await this.getAllSpeciesPerQuotaPerArea(null, this.form.area?.value ?? null, null)\n    //     this.speciesOptions = response.data.data.map((item: any) => {\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //       }\n    //     })\n    //     // }\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.form.species || !this.form.quantity) {\n        this.init({\n          message: 'Please fill all required fields.',\n          color: 'warning',\n        })\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.form.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n\n        this.init({\n          message: 'Quantity must be greater than zero.',\n          color: 'warning',\n        })\n\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some(\n        (species: { species_id: any }) => species.species_id === this.form.species.value,\n      )\n\n      if (!exists) {\n        this.speciesObjects.push({\n          species_id: this.form.species.value,\n          name: this.form.species.text,\n          quantity: this.form.quantity,\n          fromPackage: false,\n        })\n        // console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.form.species.value)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    removeSafariExtra(index: number) {\n      const removed = this.selectedSafariExtras.splice(index, 1)\n      if (removed.length > 0) {\n        this.init({\n          message: `Removed \"${removed[0].name}\" from safari extras`,\n          color: 'info',\n        })\n      }\n    },\n\n    // Quotation installment methods\n    addQuotationInstallment() {\n      this.quotationForm.installments.push({\n        narration: '',\n        amount_due: 0,\n        due_days_type: 'upon_booking',\n        due_days: 0,\n      })\n    },\n\n    removeQuotationInstallment(index: number) {\n      this.quotationForm.installments.splice(index, 1)\n    },\n\n    resetQuotationForm() {\n      this.createQuotation = false\n      this.quotationForm = {\n        confirmation_date: null,\n        hunting_license: '',\n        remarks: '',\n        installments: [],\n      }\n    },\n\n    // Validate and limit the number of hunting days to not exceed package duration\n    validateAndLimitDays(value: any) {\n      const numValue = parseInt(value, 10)\n      if (numValue > this.maxPackageDays) {\n        this.form.no_of_days = this.maxPackageDays\n        this.init({\n          message: `Number of days limited to ${this.maxPackageDays} (package maximum)`,\n          color: 'warning',\n        })\n      } else if (numValue < 1 && numValue !== 0) {\n        this.form.no_of_days = 1\n      }\n    },\n\n    incrementQuantity(index: number) {\n      if (this.speciesObjects[index]) {\n        this.speciesObjects[index].quantity++\n      }\n    },\n\n    decrementQuantity(index: number) {\n      if (this.speciesObjects[index] && this.speciesObjects[index].quantity > 1) {\n        this.speciesObjects[index].quantity--\n      }\n    },\n\n    async getSpecies() {\n      try {\n        const response = await this.getSpeciesList()\n        if (response.status === 200) {\n          this.speciesOptions = response.data.map((item: any) => ({\n            value: item.id,\n            text: item.name,\n          }))\n        }\n      } catch (error) {\n        console.error('Error loading species:', error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async getSeasonList() {\n      try {\n        const response = await this.getSeasons()\n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n\n        // Filter to only show current and future seasons (end_at >= today)\n        this.seasonsOptions = response.data\n          .filter((item: any) => {\n            if (!item.end_at) return true // Include if no end date\n            const endDate = new Date(item.end_at)\n            endDate.setHours(23, 59, 59, 999)\n            return endDate >= today\n          })\n          .map((item: any) => {\n            return {\n              value: item.id,\n              text: item.name,\n              selfItem: item, // Include full item data for date range access\n            }\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // Called when user selects a season - sets date constraints and fetches booked dates\n    async onSeasonSelected(selectedSeason: any) {\n      // Reset date conflict warning\n      this.dateConflictWarning = ''\n\n      // Clear previously selected dates when season changes\n      this.form.preferred_date = null\n      this.form.start_date = null\n      this.form.end_date = null\n\n      if (!selectedSeason || !selectedSeason.selfItem) {\n        this.seasonMinDate = null\n        this.seasonMaxDate = null\n        this.bookedDates = []\n        return\n      }\n\n      const seasonData = selectedSeason.selfItem\n\n      // Set the date range constraints for the calendar from season dates\n      if (seasonData.start_at) {\n        this.seasonMinDate = new Date(seasonData.start_at)\n      }\n      if (seasonData.end_at) {\n        this.seasonMaxDate = new Date(seasonData.end_at)\n      }\n\n      // Fetch booked dates for this season\n      await this.fetchBookedDates(selectedSeason.value)\n    },\n\n    // Fetch confirmed/booked hunt dates for the selected season using the dedicated API\n    async fetchBookedDates(seasonId: number, areaId?: number) {\n      this.loadingBookedDates = true\n      this.bookedDates = []\n\n      try {\n        // Build query params\n        const params = new URLSearchParams()\n        if (seasonId) params.append('season_id', seasonId.toString())\n        if (areaId) params.append('area_id', areaId.toString())\n\n        const queryString = params.toString() ? `?${params.toString()}` : ''\n        const response = await axios.get(`/sales/booked-dates${queryString}`)\n\n        if (response.status === 200) {\n          const dataArray = Array.isArray(response.data) ? response.data : response.data.data || []\n\n          this.bookedDates = dataArray.map((item: any) => ({\n            start_date: item.start_date,\n            end_date: item.end_date,\n            client_name: item.client_name || item.entity?.full_name || 'Unknown Client',\n            area_id: item.area_id,\n          }))\n        }\n      } catch (error) {\n        console.error('Error fetching booked dates:', error)\n      } finally {\n        this.loadingBookedDates = false\n      }\n    },\n\n    // Check if selected date conflicts with booked dates\n    checkBookedDateConflict() {\n      this.dateConflictWarning = ''\n\n      const selectedStart = this.form.start_date ? new Date(this.form.start_date) : null\n      const selectedEnd = this.form.end_date ? new Date(this.form.end_date) : null\n      const preferredDate = this.form.preferred_date ? new Date(this.form.preferred_date) : null\n\n      if (!selectedStart && !selectedEnd && !preferredDate) {\n        return\n      }\n\n      // Check each booked date range for conflicts\n      for (const booking of this.bookedDates) {\n        const bookedStart = new Date(booking.start_date)\n        const bookedEnd = new Date(booking.end_date)\n\n        bookedStart.setHours(0, 0, 0, 0)\n        bookedEnd.setHours(23, 59, 59, 999)\n\n        // Check if any of the selected dates fall within a booked range\n        const checkDate = (date: Date | null) => {\n          if (!date) return false\n          const d = new Date(date)\n          d.setHours(12, 0, 0, 0)\n          return d >= bookedStart && d <= bookedEnd\n        }\n\n        // Check if date ranges overlap\n        const rangesOverlap = (start: Date | null, end: Date | null) => {\n          if (!start || !end) return false\n          const s = new Date(start)\n          const e = new Date(end)\n          s.setHours(0, 0, 0, 0)\n          e.setHours(23, 59, 59, 999)\n\n          // Ranges overlap if one starts before the other ends\n          return s <= bookedEnd && e >= bookedStart\n        }\n\n        if (\n          checkDate(preferredDate) ||\n          checkDate(selectedStart) ||\n          checkDate(selectedEnd) ||\n          rangesOverlap(selectedStart, selectedEnd)\n        ) {\n          const startStr = new Date(booking.start_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          const endStr = new Date(booking.end_date).toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n          })\n          this.dateConflictWarning = `The selected dates overlap with a confirmed hunt for \"${booking.client_name}\" (${startStr} - ${endStr}). Please inform the client that this time slot may not be available.`\n          return\n        }\n      }\n    },\n\n    // Format booking date range for display\n    formatBookingDateRange(booking: { start_date: string; end_date: string }) {\n      const start = new Date(booking.start_date)\n      const end = new Date(booking.end_date)\n      const options: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric' }\n\n      if (start.getFullYear() !== end.getFullYear()) {\n        return `${start.toLocaleDateString('en-US', { ...options, year: 'numeric' })} - ${end.toLocaleDateString(\n          'en-US',\n          { ...options, year: 'numeric' },\n        )}`\n      }\n\n      return `${start.toLocaleDateString('en-US', options)} - ${end.toLocaleDateString('en-US', options)}`\n    },\n\n    // Calculate additional cost for companions and observers\n    calculateAdditionalCost(): number {\n      let total = 0\n      const priceListData = this.form.priceListId?.selfItem\n\n      if (!priceListData) return 0\n\n      // Add companion hunter costs\n      if (this.form.no_of_companions > 0 && priceListData.companion_hunter_costs?.length > 0) {\n        total += this.form.no_of_companions * priceListData.companion_hunter_costs[0].amount\n      }\n\n      // Add observer costs\n      if (this.form.no_of_observers > 0 && priceListData.observer?.length > 0) {\n        total += this.form.no_of_observers * priceListData.observer[0].amount\n      }\n\n      return total\n    },\n\n    async getPL() {\n      const response = await this.getPriceList()\n\n      if (response.status === 200) {\n        this.packagesOptions = response.data.data.map((item: any) => ({\n          value: item.id,\n          text: `${item.package_name || `Package ${item.id}`} - ${item.hunting_type || 'N/A'} (${\n            item.season_name || 'No Season'\n          })`,\n          selfItem: item,\n        }))\n\n        console.log('packagesOptions:', this.packagesOptions)\n      } else {\n        console.log('Error getting price list')\n      }\n    },\n\n    async populateFormFromPackage() {\n      const settingsStore = useSettingsStore()\n\n      if (!this.form.priceListId || !this.form.priceListId.value) {\n        settingsStore.salesPackagesSpecies = []\n        return\n      }\n\n      try {\n        // Fetch detailed price list information\n        const response = await this.getPriceListById(this.form.priceListId.value)\n        console.log('Price list detail response:', response)\n\n        if (response.status === 200 && response.data.success) {\n          const priceListData = response.data.data\n\n          // Update form with price list details\n          this.form.priceListId.selfItem = priceListData\n\n          // Auto-populate form fields from package data (all fields are editable)\n          // Set hunting area\n          if (priceListData.sales_package?.area?.name) {\n            const areaOption = this.areasOptions.find((a: any) => a.text === priceListData.sales_package.area.name)\n            if (areaOption) {\n              this.form.area = areaOption\n            }\n          }\n\n          // Set duration (number of days)\n          if (priceListData.price_list_type?.duration) {\n            this.form.no_of_days = priceListData.price_list_type.duration\n          }\n\n          // Set season date range from price list and populate season dropdown\n          if (priceListData.price_list_type?.price_list) {\n            const priceList = priceListData.price_list_type.price_list\n\n            // Set the date range constraints for the calendar\n            if (priceList.start_date) {\n              this.seasonMinDate = new Date(priceList.start_date)\n            }\n            if (priceList.end_date) {\n              this.seasonMaxDate = new Date(priceList.end_date)\n            }\n\n            // Create a season display based on the price list dates\n            const startDate = new Date(priceList.start_date)\n            const endDate = new Date(priceList.end_date)\n            const seasonName = `${startDate.toLocaleDateString('en-US', {\n              month: 'short',\n              year: 'numeric',\n            })} - ${endDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}`\n\n            // Get the actual season_id from the API response\n            const seasonId = priceListData.season_id\n\n            // Try to find matching season in options\n            let seasonOption = this.seasonsOptions.find((s: any) => {\n              if (s.selfItem?.start_at) {\n                const seasonStart = new Date(s.selfItem.start_at)\n                return seasonStart.getFullYear() === startDate.getFullYear()\n              }\n              return false\n            })\n\n            // If no match found, create a temporary option for display with actual ID\n            if (!seasonOption) {\n              seasonOption = {\n                value: seasonId,\n                text: seasonName,\n                selfItem: {\n                  start_at: priceList.start_date,\n                  end_at: priceList.end_date,\n                },\n              }\n              // Add to options so it can be displayed\n              this.seasonsOptions.push(seasonOption)\n            }\n\n            this.form.season = seasonOption\n\n            // Pre-populate dates with season start date so calendar opens at the correct month\n            if (priceList.start_date) {\n              const seasonStartDate = new Date(priceList.start_date)\n              this.form.preferred_date = seasonStartDate\n              this.form.start_date = seasonStartDate\n              this.form.end_date = seasonStartDate\n            }\n          }\n\n          // Extract species from sales_package.species and add to speciesObjects for editing\n          if (priceListData.sales_package?.species && Array.isArray(priceListData.sales_package.species)) {\n            // Clear existing species and populate from package\n            // Use species_id from the pivot table, or species.id from the nested object\n            console.log('Raw species data:', JSON.stringify(priceListData.sales_package.species, null, 2))\n            this.speciesObjects = priceListData.sales_package.species.map((item: any) => {\n              // Try multiple ways to get the species ID\n              const speciesId = item.species_id || item.species?.id || item.id\n              console.log('Species item:', item, 'Using species_id:', speciesId)\n              return {\n                species_id: speciesId,\n                name: item.species?.name || item.name || 'Unknown',\n                quantity: item.quantity || 0,\n                fromPackage: true,\n              }\n            })\n\n            // Also update store for display purposes\n            const speciesList = priceListData.sales_package.species.map((item: any) => ({\n              id: item.species_id || item.species?.id || item.id,\n              name: item.species?.name || item.name || 'Unknown',\n              scientific_name: item.species?.scientific_name || item.scientific_name || 'N/A',\n              quantity: item.quantity || 0,\n              requested_quantity: 0,\n            }))\n\n            settingsStore.salesPackagesSpecies = speciesList\n\n            console.log('Populated species:', this.speciesObjects)\n\n            this.init({\n              message: `Loaded ${speciesList.length} species from the selected package. You can now customize all fields.`,\n              color: 'success',\n              position: 'bottom-right',\n            })\n          } else {\n            console.log('No species array found. Response structure:', priceListData.sales_package)\n            settingsStore.salesPackagesSpecies = []\n            this.init({\n              message: 'No species found in the selected package.',\n              color: 'warning',\n              position: 'bottom-right',\n            })\n          }\n\n          // Extract safari extras from the price list and add to selectedSafariExtras for editing\n          if (priceListData.safari_extras && Array.isArray(priceListData.safari_extras)) {\n            this.selectedSafariExtras = priceListData.safari_extras.map((extra: any) => ({\n              id: extra.id,\n              safari_extras_id: extra.id,\n              name: extra.name,\n              description: extra.description || '',\n              amount: extra.amount,\n              charges_per: extra.charges_per,\n              currency: extra.currency,\n              fromPackage: true,\n            }))\n            console.log('Populated safari extras:', this.selectedSafariExtras)\n          } else {\n            this.selectedSafariExtras = []\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching price list details:', error)\n        this.init({\n          message: 'Failed to load package details. Please try again.',\n          color: 'danger',\n          position: 'bottom-right',\n        })\n        settingsStore.salesPackagesSpecies = []\n      }\n    },\n\n    onChange(id: any, newValue: any) {\n      console.log('Quantity changed:', id, newValue)\n\n      const updatedItem = this.salesPackagesSpecies.find((item: any) => item.id === id)\n      if (updatedItem) {\n        updatedItem.requested_quantity = newValue\n        // then update list\n        this.salesPackagesSpecies = [...this.salesPackagesSpecies]\n\n        // Validate against available quantity\n        if (newValue > updatedItem.quantity) {\n          this.init({\n            message: `Warning: Requested quantity (${newValue}) exceeds available quantity (${updatedItem.quantity}) for ${updatedItem.name}.`,\n            color: 'warning',\n            position: 'bottom-right',\n          })\n        } else if (newValue > 0) {\n          this.init({\n            message: `Quantity for ${updatedItem.name} has been set to ${newValue}.`,\n            color: 'success',\n            position: 'bottom-right',\n          })\n        }\n      }\n    },\n\n    // Function to check if date is allowed (for VaDateInput allowed-days prop)\n    checkDateAllowed(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      let isAllowed = true\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          isAllowed = false\n        }\n      }\n\n      if (this.seasonMaxDate && isAllowed) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          isAllowed = false\n        }\n      }\n\n      return isAllowed\n    },\n\n    // Function to check if END DATE is allowed (must be within package duration from start date)\n    checkEndDateAllowed(date: Date): boolean {\n      // First check if date is within season range\n      if (!this.checkDateAllowed(date)) {\n        return false\n      }\n\n      // If no start date selected, allow all dates within season\n      if (!this.form.start_date) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      const startDate = new Date(this.form.start_date)\n      startDate.setHours(0, 0, 0, 0)\n\n      // End date must be >= start date\n      if (checkDate < startDate) {\n        return false\n      }\n\n      // If package has a duration limit, check it\n      if (this.maxPackageDays < 365 && this.maxEndDate) {\n        const maxEnd = new Date(this.maxEndDate)\n        maxEnd.setHours(0, 0, 0, 0)\n        if (checkDate > maxEnd) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    // Check if end date exceeds max allowed days\n    exceedsMaxDays(endDate: any): boolean {\n      if (!this.form.start_date || !endDate || this.maxPackageDays >= 365) {\n        return false\n      }\n      const start = new Date(this.form.start_date)\n      const end = new Date(endDate)\n      const diffTime = end.getTime() - start.getTime()\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1\n      return diffDays > this.maxPackageDays\n    },\n\n    // Handle start date change - reset end date if it exceeds max\n    onStartDateChange() {\n      this.checkBookedDateConflict()\n\n      // If end date is set and now exceeds max, clear it\n      if (this.form.end_date && this.exceedsMaxDays(this.form.end_date)) {\n        this.form.end_date = null\n        this.$vaToast.init({\n          message: `End date cleared - it exceeded the ${this.maxPackageDays} day package limit`,\n          color: 'warning',\n          position: 'bottom-right',\n        })\n      }\n    },\n\n    // Handle end date change\n    onEndDateChange(newDate: any) {\n      this.checkBookedDateConflict()\n\n      // Update number of days to match the duration\n      if (this.form.start_date && newDate) {\n        const calculatedDays = this.huntDuration\n        if (calculatedDays > 0 && calculatedDays !== this.form.no_of_days) {\n          this.form.no_of_days = calculatedDays\n        }\n      }\n    },\n\n    // Format date for display\n    formatDate(date: any): string {\n      if (!date) return ''\n      const d = new Date(date)\n      return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n    },\n\n    // Check if a date is within the season date range\n    isDateInSeasonRange(date: Date): boolean {\n      // If no range is set, allow all dates\n      if (!this.seasonMinDate && !this.seasonMaxDate) {\n        return true\n      }\n\n      const checkDate = new Date(date)\n      checkDate.setHours(0, 0, 0, 0)\n\n      if (this.seasonMinDate) {\n        const minDate = new Date(this.seasonMinDate)\n        minDate.setHours(0, 0, 0, 0)\n        if (checkDate < minDate) {\n          return false\n        }\n      }\n\n      if (this.seasonMaxDate) {\n        const maxDate = new Date(this.seasonMaxDate)\n        maxDate.setHours(0, 0, 0, 0)\n        if (checkDate > maxDate) {\n          return false\n        }\n      }\n\n      return true\n    },\n\n    formatDateRange(startDate: string, endDate: string) {\n      if (!startDate || !endDate) return 'N/A'\n      const start = new Date(startDate)\n      const end = new Date(endDate)\n      const startFormatted = start.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      const endFormatted = end.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n      return `${startFormatted} - ${endFormatted}`\n    },\n\n    formatCurrency(amount: number) {\n      if (!amount) return '$0.00'\n      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount)\n    },\n\n    formatChargesPer(chargesPer: string) {\n      if (!chargesPer) return ''\n      return chargesPer\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, (c) => c.toUpperCase())\n    },\n\n    getSequenceLabel(sequence: number) {\n      const labels: { [key: number]: string } = {\n        1: '1st',\n        2: '2nd',\n        3: '3rd',\n      }\n      return labels[sequence] || `${sequence}th`\n    },\n  },\n})\n</script>\n\n<style scoped>\n/* Smooth animations for step transitions */\n.animate-fade-in {\n  animation: fadeIn 0.3s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Progress bar primary color */\n.bg-primary {\n  background-color: var(--va-primary);\n}\n\n/* Sticky navigation shadow and styling */\n.sales-inquiry-wizard {\n  position: relative;\n  padding-bottom: 80px; /* Space for sticky nav */\n}\n\n/* Step completion checkmark positioning */\n.relative {\n  position: relative;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.-top-1 {\n  top: -0.25rem;\n}\n\n.-right-1 {\n  right: -0.25rem;\n}\n\n/* Ensure sticky nav works properly */\n.sticky {\n  position: sticky;\n}\n\n.bottom-0 {\n  bottom: 0;\n}\n\n.z-10 {\n  z-index: 10;\n}\n</style>\n"],"names":["_sfc_main$2","defineComponent","notify","useToast","ref","mapActions","useSalesInquiriesStore","useSettingsStore","dateString","date","response","_a","dataArray","item","speciesCount","_b","refPriceList","priceListData","_e","_d","_c","amount","currencySymbol","_f","areaName","_h","_g","_k","_j","_i","huntingType","_l","_m","_n","_o","_p","_r","_q","_s","_u","_t","_v","_w","_x","_y","_z","_A","_B","_C","_D","_E","_F","error","rowData","pdfUrl","inquiryId","data","byteCharacters","byteNumbers","i","byteArray","blob","url","link","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_VaSelect","_ctx","_cache","$event","_component_VaDateInput","_component_VaInput","_component_VaDataTable","_withCtx","_toDisplayString","_component_VaIcon","_component_VaBadge","_component_VaButton","_component_VaPagination","_component_VaModal","_createTextVNode","_sfc_main$1","mapState","contactType","arr","str","fallback","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_component_VaCard","_component_VaCardContent","_component_VaChip","_component_VaCardTitle","_component_VaDivider","_renderList","contact","index","_createBlock","_createCommentVNode","_hoisted_29","area","species","s","observer","companion","extra","acc","charter","_sfc_main","Salesinquirieslist","VaForm","VaInput","VaSelect","VaButton","SalesInquiryDetails","formRef","contactFormRef","showAddSalesInquiriesForm","btnIcon","isValidForm","validateForm","resetValidationForm","resetForm","useForm","isValidContactForm","validateContactForm","resetValidationContactForm","resetContactForm","init","showDetailsPage","form","reactive","contactForm","toggleAddSalesInquiriesForm","gotBack","countries","nationality","categoryOptions","contactsTypes","clients","step","getCountries","config","axios","country","getCategories","category","getNationalities","getContactTypes","contactFieldType","computed","contact_field_type","onMounted","validators","downloadPdf","hasInput","value","startDate","maxEnd","start","diffTime","diffDays","sum","inst","selectedSeasonId","pkg","newType","newValue","useQuotaStore","usePriceListStore","customersMap","entity","email","phone","address","selectedCustomer","customer","countryOption","c","nationalityOption","entityData","contacts","preferences","requestdata","errors","handleErrors","stepIndex","stepMessages","d","speciesId","countryName","nationalityName","n","prefs","areaOption","a","seasonOption","priceListOption","p","speciesArray","speciesItem","speciesName","safariExtrasArray","extraItem","pdfData","removed","numValue","today","endDate","selectedSeason","seasonData","seasonId","areaId","params","queryString","selectedStart","selectedEnd","preferredDate","booking","bookedStart","bookedEnd","checkDate","rangesOverlap","end","e","startStr","endStr","options","total","settingsStore","priceList","seasonName","seasonStartDate","speciesList","id","updatedItem","isAllowed","minDate","maxDate","newDate","calculatedDays","startFormatted","endFormatted","chargesPer","sequence","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_hoisted_142","_hoisted_143","_hoisted_144","_hoisted_145","_hoisted_146","_hoisted_147","_hoisted_148","_component_SalesInquiryDetails","_normalizeStyle","_component_VaStepper","_component_VaForm","_withDirectives","_component_VaAlert","_component_VaRadio","v","_hoisted_65","fee","_component_VaCounter","_component_VaList","_component_VaListItem","_component_VaListItemSection","_component_VaListItemLabel","_hoisted_91","_component_VaSwitch","_component_VaTextarea","installment","_hoisted_108","_hoisted_136","_hoisted_137","_normalizeClass","_component_Salesinquirieslist"],"mappings":"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"}