{"version":3,"file":"ManageQuota-CWpleX0J.js","sources":["../../src/pages/module-settings/ManageQuota.vue","../../src/pages/module-settings/ManageQuota.vue"],"sourcesContent":["<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showQuotaList\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"showQuota\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup>\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          size=\"small\"\n          @click=\"showAddQuotaModal()\"\n          >Add a New Quota</VaButton\n        >\n      </VaButtonGroup>\n    </div>\n\n    <ModuleTable\n      v-if=\"showQuotaList\"\n      :items=\"items\"\n      :columns=\"columns\"\n      :loading=\"loadingQuotas\"\n      @onView=\"showQuota\"\n    ></ModuleTable>\n\n    <div v-else class=\"p-2\">\n      <VaForm ref=\"sformRef\" class=\"mb-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n          <VaValue :default-value=\"false\">\n            <VaSelect\n              v-model=\"sform.salesQuota\"\n              :options=\"quotasOptions\"\n              label=\"Sales Quota\"\n              :rules=\"[(v: any) => !!v || 'Sales Quota is required']\"\n              placeholder=\"Select Sales Quota\"\n              @update:modelValue=\"getSpeciesItems\"\n            >\n              <template #appendInner>\n                <VaIcon name=\"av_timer\" size=\"small\" color=\"primary\" />\n              </template>\n            </VaSelect>\n          </VaValue>\n\n          <VaSelect\n            v-model=\"sform.area\"\n            label=\"Hunting Area\"\n            :options=\"areasOptions\"\n            placeholder=\"Select Hunting Area\"\n            :rules=\"[(v: any) => !!v || 'Hunting Area is required']\"\n            required\n          />\n        </div>\n\n        <VaDivider orientation=\"left\" class=\"py-12\">\n          <span caption class=\"px-2\">Add a List of Species</span>\n        </VaDivider>\n        <!-- <h3 class=\"font-bold text-lg mb-4\"></h3> -->\n\n        <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n          <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n              <VaSelect\n                v-model=\"sform.id\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n                @update:modelValue=\"updateQuantitySelectedSpecies\"\n              />\n\n              <VaCounter v-model=\"sform.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n            </div>\n          </div>\n          <VaButtonGroup>\n            <VaButton\n              class=\"px-0 py-0\"\n              color=\"primary\"\n              icon=\"add\"\n              size=\"small\"\n              round\n              @click=\"addNewSpeciesItemToStorage()\"\n            />\n          </VaButtonGroup>\n        </div>\n      </VaForm>\n\n      <div class=\"mb-6\">\n        <VaList>\n          <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\">Selected Species</VaListLabel>\n          <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n            <VaListItemSection>\n              <VaListItemLabel>\n                Name: {{ s.name }}\n                <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n              </VaListItemLabel>\n              <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n            </VaListItemSection>\n          </VaListItem>\n        </VaList>\n      </div>\n\n      <div class=\"mb-6\">\n        <VaButton\n          :disabled=\"!isValidSForm\"\n          color=\"primary\"\n          :loading=\"savingQuotaSpecies\"\n          icon=\"save\"\n          icon-color=\"#fff\"\n          @click=\"validateSForm() && addNewSpeciesToQuota()\"\n        >\n          save\n        </VaButton>\n      </div>\n    </div>\n\n    <VaModal\n      v-model=\"showModal\"\n      z-index=\"1\"\n      :overlay=\"false\"\n      ok-text=\"Save\"\n      size=\"small\"\n      @ok=\"validateForm() && createNewQuota()\"\n    >\n      <VaForm ref=\"formRef\" class=\"p-6\">\n        <h3 class=\"font-bold text-lg mb-4\">Add Quota</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.name\"\n            label=\"Name\"\n            placeholder=\"Enter Quota Name\"\n            type=\"text\"\n            :rules=\"[(v: any) => !!v || 'Name is required']\"\n            required\n          />\n\n          <VaDateInput\n            v-model=\"form.start_date\"\n            label=\"Start Date\"\n            :rules=\"[(v: any) => !!v || 'Start Date is required']\"\n            manual-input\n            placeholder=\"Select a date\"\n          />\n\n          <VaDateInput\n            v-model=\"form.end_date\"\n            label=\"End Date\"\n            :rules=\"[(v: any) => !!v || 'End Date is required']\"\n            manual-input\n            placeholder=\"Select a date\"\n          />\n        </div>\n        <div class=\"mb-4\">\n          <VaButton\n            :loading=\"savingQuota\"\n            :disabled=\"!isValidForm || savingQuota\"\n            color=\"primary\"\n            @click=\"createNewQuota()\"\n            >Save</VaButton\n          >\n        </div>\n      </VaForm>\n    </VaModal>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { mapActions } from 'pinia'\nimport { reactive } from 'vue'\nimport { useToast, useForm } from 'vuestic-ui'\nimport handleErrors from '../../utils/errorHandler'\nimport ModuleTable from './components/ModuleTable.vue'\nimport { useSettingsStore } from '../../stores/settings-store'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n  // description: '',\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const sformRef = ref(null) as any\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const columns = [\n      { key: 'id', sortable: true, sortingOptions: ['desc', 'asc'] },\n      { key: 'name', sortable: true },\n      { key: 'start_date', sortable: true },\n      { key: 'end_date', sortable: true },\n      { key: 'actions', width: 80 },\n    ]\n\n    const {\n      isValid: isValidSForm,\n      validate: validateSForm,\n      resetValidation: resetValidationSForm,\n      reset: resetSForm,\n    } = useForm(sformRef)\n\n    // Make sure to use `isValidForm`, `validateForm`, and `resetValidationForm` in your component logic as needed\n    return {\n      isValidForm, // Ensure this is utilized somewhere\n      validateForm, // Ensure this is utilized somewhere\n      resetValidationForm, // Ensure this is utilized somewhere\n      isValidSForm,\n      validateSForm,\n      resetValidationSForm,\n      resetForm,\n      resetSForm,\n      formRef,\n      sformRef,\n      columns,\n    }\n  },\n  data() {\n    const items: [] = []\n\n    // const { isValid, validate, reset, resetValidation } = useForm(formRef)\n    const form = reactive({\n      id: null,\n      name: '',\n      start_date: null as any,\n      end_date: null as any,\n      description: '',\n    })\n\n    const sform = reactive({\n      id: null as any,\n      quantity: 1,\n      salesQuota: null as any,\n      area: null as any,\n    })\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(), // Initialize useToast here\n\n      form,\n      sform,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      speciesObjects: [] as any,\n      showModal: false,\n      quotasOptions,\n      showQuotaList: true,\n      quotaItems: [] as any,\n      savingQuotaSpecies: false,\n      loadingQuotas: false,\n      savingQuota: false,\n    }\n  },\n\n  mounted() {\n    this.getQs()\n    this.getSpeciesItems()\n    this.getAreas()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, [\n      'getQuotas',\n      'createQuota',\n      'updateQuota',\n      'deleteQuota',\n      'getSpeciesList',\n      'getAreaList',\n      'generateQuotaYear',\n      'createQuotaAreaSpecies',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getLicenceRegulatoryHuntingPackageSpecies']),\n\n    resetEditedItem() {\n      this.editedItem = null\n      this.editedItemId = null\n    },\n    resetCreatedItem() {\n      this.createdItem = { ...defaultItem }\n    },\n\n    showAddQuotaModal() {\n      // this.$refs.sformRef.show()\n      this.showModal = !this.showModal\n    },\n    showQuota(e: any) {\n      this.showQuotaList = !this.showQuotaList\n      this.sform.salesQuota = {\n        value: e.id,\n        text: this.generateQuotaYear(e.start_date, e.end_date) + ` - ${e.name}`,\n      }\n      this.getSpeciesItems()\n    },\n\n    updateQuantitySelectedSpecies(species: any) {\n      this.sform.quantity = species.quantity\n    },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.sform.id || !this.sform.id.value || !this.sform.id.text || !this.sform.quantity) {\n        console.error('Error: Some required fields are null or undefined.')\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.sform.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some((species: { id: any }) => species.id === this.sform.id.value)\n\n      if (!exists) {\n        this.speciesObjects.push({\n          id: this.sform.id.value,\n          name: this.sform.id.text,\n          quantity: this.sform.quantity,\n        })\n        console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.sform.id)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    // async getLicencePackageSpecies() {\n    //   console.log('Getting species items for the selected sales quota', this.sform.salesQuota.value)\n\n    //   try {\n    //     const response = await this.getLicenceRegulatoryHuntingPackageSpecies({\n    //       quotaId: this.sform.salesQuota.value,\n    //     })\n    //     const speciesItems = response.data.map((item: any) => {\n    //       //  update the selected species quantity\n    //       this.sform.quantity = item.quantity\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //         quantity: item.quantity,\n    //       }\n    //     })\n    //     this.speciesOptions = speciesItems\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    async addNewSpeciesToQuota() {\n      this.savingQuotaSpecies = true\n      if (this.speciesObjects.length === 0) {\n        this.toast.init({ message: 'Please add at least one species item.', color: 'warning' })\n        return\n      }\n      const rdata = {\n        area_id: this.sform.area.value,\n        quota_id: this.sform.salesQuota.value,\n        speciesObjects: this.speciesObjects,\n      }\n\n      try {\n        const response = await this.createQuotaAreaSpecies(rdata)\n        if (response.status === 201) {\n          this.savingQuotaSpecies = false\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetSForm()\n          this.resetCreatedItem()\n          this.speciesObjects = []\n        }\n      } catch (error) {\n        const errors = handleErrors(error)\n        this.savingQuotaSpecies = false\n\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n    async createNewQuota() {\n      this.savingQuota = true\n      const quota = {\n        name: this.form.name,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        description: this.form.description,\n      }\n\n      try {\n        const response = await this.createQuota(quota)\n        if (response.status === 201) {\n          this.savingQuota = false\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.getQs()\n          this.showAddQuotaModal()\n          this.resetCreatedItem()\n        } else {\n          const errors = handleErrors(response)\n          this.toast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          })\n        }\n      } catch (error) {\n        this.savingQuota = false\n        const errors = handleErrors(error)\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(date: Date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0') // Months are zero-indexed\n      const day = String(date.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n    async editItem() {\n      // this.items = [\n      //   ...this.items.slice(0, this.editedItemId),\n      //   { ...this.editedItem },\n      //   ...this.items.slice(this.editedItemId + 1),\n      // ]\n      // this.resetEditedItem()\n      console.log(this.editedItem)\n      try {\n        const data = {\n          id: this.form.id,\n          name: this.form.name,\n          start_date: this.formatDate(new Date(this.form.start_date)), // Format the start date\n          end_date: this.formatDate(new Date(this.form.end_date)),\n          // description: this.form.description,\n        }\n        const response = await this.updateQuota(data)\n        if (response.status === 200) {\n          // const data = response.data\n          this.getQs(null)\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetEditedItem()\n        }\n      } catch (error) {\n        const errors = handleErrors(error)\n        console.log(error)\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getQs(id = null) {\n      this.loadingQuotas = true\n      try {\n        const response = await this.getQuotas(id)\n        if (response.status === 200) {\n          const data = response.data\n          this.loadingQuotas = false\n\n          this.quotasOptions = data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            // this.sform.salesQuota = {\n            //   value: item.id,\n            //   text: `${result} - ${item.name}`,\n            // }\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n            }\n          })\n          this.items = data.map((item: any) => ({\n            id: item.id,\n            name: item.name,\n            start_date: item.start_date,\n            end_date: item.end_date,\n          }))\n        }\n      } catch (error) {\n        this.loadingQuotas = false\n        console.log(error)\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        const speciesItems = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n","<template>\n  <VaCard class=\"p-6\">\n    <!-- Form for Adding Species -->\n\n    <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n      <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n        <VaButton v-if=\"!showQuotaList\" class=\"px-2 py-2\" icon=\"arrow_back\" size=\"small\" @click=\"showQuota\">\n          Go Back\n        </VaButton>\n      </div>\n      <VaButtonGroup>\n        <VaButton\n          class=\"px-2 py-2\"\n          color=\"primary\"\n          label=\"Add New Quota\"\n          icon=\"add\"\n          size=\"small\"\n          @click=\"showAddQuotaModal()\"\n          >Add a New Quota</VaButton\n        >\n      </VaButtonGroup>\n    </div>\n\n    <ModuleTable\n      v-if=\"showQuotaList\"\n      :items=\"items\"\n      :columns=\"columns\"\n      :loading=\"loadingQuotas\"\n      @onView=\"showQuota\"\n    ></ModuleTable>\n\n    <div v-else class=\"p-2\">\n      <VaForm ref=\"sformRef\" class=\"mb-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n          <VaValue :default-value=\"false\">\n            <VaSelect\n              v-model=\"sform.salesQuota\"\n              :options=\"quotasOptions\"\n              label=\"Sales Quota\"\n              :rules=\"[(v: any) => !!v || 'Sales Quota is required']\"\n              placeholder=\"Select Sales Quota\"\n              @update:modelValue=\"getSpeciesItems\"\n            >\n              <template #appendInner>\n                <VaIcon name=\"av_timer\" size=\"small\" color=\"primary\" />\n              </template>\n            </VaSelect>\n          </VaValue>\n\n          <VaSelect\n            v-model=\"sform.area\"\n            label=\"Hunting Area\"\n            :options=\"areasOptions\"\n            placeholder=\"Select Hunting Area\"\n            :rules=\"[(v: any) => !!v || 'Hunting Area is required']\"\n            required\n          />\n        </div>\n\n        <VaDivider orientation=\"left\" class=\"py-12\">\n          <span caption class=\"px-2\">Add a List of Species</span>\n        </VaDivider>\n        <!-- <h3 class=\"font-bold text-lg mb-4\"></h3> -->\n\n        <div class=\"flex flex-col md:flex-row gap-2 mb-2 justify-between\">\n          <div class=\"flex flex-col md:flex-row gap-2 justify-start\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-4\">\n              <VaSelect\n                v-model=\"sform.id\"\n                label=\"Species\"\n                :options=\"speciesOptions\"\n                placeholder=\"Select Species\"\n                :rules=\"[(v: any) => !!v || 'Species is required']\"\n                required\n                @update:modelValue=\"updateQuantitySelectedSpecies\"\n              />\n\n              <VaCounter v-model=\"sform.quantity\" label=\"Quantity\" manual-input :min=\"1\" :max=\"100\" />\n            </div>\n          </div>\n          <VaButtonGroup>\n            <VaButton\n              class=\"px-0 py-0\"\n              color=\"primary\"\n              icon=\"add\"\n              size=\"small\"\n              round\n              @click=\"addNewSpeciesItemToStorage()\"\n            />\n          </VaButtonGroup>\n        </div>\n      </VaForm>\n\n      <div class=\"mb-6\">\n        <VaList>\n          <VaListLabel v-if=\"speciesObjects.length > 0\" class=\"text-md mb-2 text-left\">Selected Species</VaListLabel>\n          <VaListItem v-for=\"(s, index) in speciesObjects\" :key=\"index\" class=\"list__item\">\n            <VaListItemSection>\n              <VaListItemLabel>\n                Name: {{ s.name }}\n                <VaIcon name=\"delete\" size=\"small\" color=\"primary\" @click=\"deleteFromStorage(index)\" />\n              </VaListItemLabel>\n              <VaListItemLabel caption>Quantity: {{ s.quantity }}</VaListItemLabel>\n            </VaListItemSection>\n          </VaListItem>\n        </VaList>\n      </div>\n\n      <div class=\"mb-6\">\n        <VaButton\n          :disabled=\"!isValidSForm\"\n          color=\"primary\"\n          :loading=\"savingQuotaSpecies\"\n          icon=\"save\"\n          icon-color=\"#fff\"\n          @click=\"validateSForm() && addNewSpeciesToQuota()\"\n        >\n          save\n        </VaButton>\n      </div>\n    </div>\n\n    <VaModal\n      v-model=\"showModal\"\n      z-index=\"1\"\n      :overlay=\"false\"\n      ok-text=\"Save\"\n      size=\"small\"\n      @ok=\"validateForm() && createNewQuota()\"\n    >\n      <VaForm ref=\"formRef\" class=\"p-6\">\n        <h3 class=\"font-bold text-lg mb-4\">Add Quota</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n          <VaInput\n            v-model=\"form.name\"\n            label=\"Name\"\n            placeholder=\"Enter Quota Name\"\n            type=\"text\"\n            :rules=\"[(v: any) => !!v || 'Name is required']\"\n            required\n          />\n\n          <VaDateInput\n            v-model=\"form.start_date\"\n            label=\"Start Date\"\n            :rules=\"[(v: any) => !!v || 'Start Date is required']\"\n            manual-input\n            placeholder=\"Select a date\"\n          />\n\n          <VaDateInput\n            v-model=\"form.end_date\"\n            label=\"End Date\"\n            :rules=\"[(v: any) => !!v || 'End Date is required']\"\n            manual-input\n            placeholder=\"Select a date\"\n          />\n        </div>\n        <div class=\"mb-4\">\n          <VaButton\n            :loading=\"savingQuota\"\n            :disabled=\"!isValidForm || savingQuota\"\n            color=\"primary\"\n            @click=\"createNewQuota()\"\n            >Save</VaButton\n          >\n        </div>\n      </VaForm>\n    </VaModal>\n  </VaCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { useQuotaStore } from '../../stores/quota-store'\nimport { mapActions } from 'pinia'\nimport { reactive } from 'vue'\nimport { useToast, useForm } from 'vuestic-ui'\nimport handleErrors from '../../utils/errorHandler'\nimport ModuleTable from './components/ModuleTable.vue'\nimport { useSettingsStore } from '../../stores/settings-store'\n\nconst defaultItem = {\n  name: '',\n  start_date: null,\n  end_date: null,\n  // description: '',\n}\n\nexport default defineComponent({\n  name: 'QuotaPage',\n  components: {\n    ModuleTable,\n  },\n\n  setup() {\n    const formRef = ref(null) as any\n    const sformRef = ref(null) as any\n\n    const {\n      isValid: isValidForm,\n      validate: validateForm,\n      resetValidation: resetValidationForm,\n      reset: resetForm,\n    } = useForm(formRef)\n\n    const columns = [\n      { key: 'id', sortable: true, sortingOptions: ['desc', 'asc'] },\n      { key: 'name', sortable: true },\n      { key: 'start_date', sortable: true },\n      { key: 'end_date', sortable: true },\n      { key: 'actions', width: 80 },\n    ]\n\n    const {\n      isValid: isValidSForm,\n      validate: validateSForm,\n      resetValidation: resetValidationSForm,\n      reset: resetSForm,\n    } = useForm(sformRef)\n\n    // Make sure to use `isValidForm`, `validateForm`, and `resetValidationForm` in your component logic as needed\n    return {\n      isValidForm, // Ensure this is utilized somewhere\n      validateForm, // Ensure this is utilized somewhere\n      resetValidationForm, // Ensure this is utilized somewhere\n      isValidSForm,\n      validateSForm,\n      resetValidationSForm,\n      resetForm,\n      resetSForm,\n      formRef,\n      sformRef,\n      columns,\n    }\n  },\n  data() {\n    const items: [] = []\n\n    // const { isValid, validate, reset, resetValidation } = useForm(formRef)\n    const form = reactive({\n      id: null,\n      name: '',\n      start_date: null as any,\n      end_date: null as any,\n      description: '',\n    })\n\n    const sform = reactive({\n      id: null as any,\n      quantity: 1,\n      salesQuota: null as any,\n      area: null as any,\n    })\n\n    const quotasOptions = [] as any\n\n    return {\n      items,\n      editedItemId: null,\n      editedItem: null,\n      createdItem: { ...defaultItem },\n      toast: useToast(), // Initialize useToast here\n\n      form,\n      sform,\n      speciesOptions: [] as any,\n      areasOptions: [] as any,\n      speciesObjects: [] as any,\n      showModal: false,\n      quotasOptions,\n      showQuotaList: true,\n      quotaItems: [] as any,\n      savingQuotaSpecies: false,\n      loadingQuotas: false,\n      savingQuota: false,\n    }\n  },\n\n  mounted() {\n    this.getQs()\n    this.getSpeciesItems()\n    this.getAreas()\n  },\n\n  methods: {\n    ...mapActions(useQuotaStore, [\n      'getQuotas',\n      'createQuota',\n      'updateQuota',\n      'deleteQuota',\n      'getSpeciesList',\n      'getAreaList',\n      'generateQuotaYear',\n      'createQuotaAreaSpecies',\n    ]),\n\n    ...mapActions(useSettingsStore, ['getLicenceRegulatoryHuntingPackageSpecies']),\n\n    resetEditedItem() {\n      this.editedItem = null\n      this.editedItemId = null\n    },\n    resetCreatedItem() {\n      this.createdItem = { ...defaultItem }\n    },\n\n    showAddQuotaModal() {\n      // this.$refs.sformRef.show()\n      this.showModal = !this.showModal\n    },\n    showQuota(e: any) {\n      this.showQuotaList = !this.showQuotaList\n      this.sform.salesQuota = {\n        value: e.id,\n        text: this.generateQuotaYear(e.start_date, e.end_date) + ` - ${e.name}`,\n      }\n      this.getSpeciesItems()\n    },\n\n    updateQuantitySelectedSpecies(species: any) {\n      this.sform.quantity = species.quantity\n    },\n\n    addNewSpeciesItemToStorage() {\n      // Check if all required fields in this.sform are not null\n      if (!this.sform.id || !this.sform.id.value || !this.sform.id.text || !this.sform.quantity) {\n        console.error('Error: Some required fields are null or undefined.')\n        return // Exit the method if any field is null\n      }\n\n      // Ensure quantity is a positive number\n      if (Number(this.sform.quantity) <= 0) {\n        // Uncomment the toast message if needed\n        // this.toast.init({\n        //   message: 'Quantity must be greater than zero.',\n        //   color: 'warning',\n        // });\n        return\n      }\n\n      // Check if the species item already exists\n      const exists = this.speciesObjects.some((species: { id: any }) => species.id === this.sform.id.value)\n\n      if (!exists) {\n        this.speciesObjects.push({\n          id: this.sform.id.value,\n          name: this.sform.id.text,\n          quantity: this.sform.quantity,\n        })\n        console.log('New species item added:', this.speciesObjects)\n      } else {\n        console.log('Species item already exists:', this.sform.id)\n      }\n\n      // this.resetSForm()\n    },\n\n    deleteFromStorage(index: number) {\n      this.speciesObjects.splice(index, 1)\n      console.log('Species item deleted:', index)\n    },\n\n    // async getLicencePackageSpecies() {\n    //   console.log('Getting species items for the selected sales quota', this.sform.salesQuota.value)\n\n    //   try {\n    //     const response = await this.getLicenceRegulatoryHuntingPackageSpecies({\n    //       quotaId: this.sform.salesQuota.value,\n    //     })\n    //     const speciesItems = response.data.map((item: any) => {\n    //       //  update the selected species quantity\n    //       this.sform.quantity = item.quantity\n    //       return {\n    //         value: item.species.id,\n    //         text: item.species.name,\n    //         quantity: item.quantity,\n    //       }\n    //     })\n    //     this.speciesOptions = speciesItems\n    //   } catch (error) {\n    //     console.log(error)\n    //   }\n    // },\n\n    async addNewSpeciesToQuota() {\n      this.savingQuotaSpecies = true\n      if (this.speciesObjects.length === 0) {\n        this.toast.init({ message: 'Please add at least one species item.', color: 'warning' })\n        return\n      }\n      const rdata = {\n        area_id: this.sform.area.value,\n        quota_id: this.sform.salesQuota.value,\n        speciesObjects: this.speciesObjects,\n      }\n\n      try {\n        const response = await this.createQuotaAreaSpecies(rdata)\n        if (response.status === 201) {\n          this.savingQuotaSpecies = false\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetSForm()\n          this.resetCreatedItem()\n          this.speciesObjects = []\n        }\n      } catch (error) {\n        const errors = handleErrors(error)\n        this.savingQuotaSpecies = false\n\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n    async createNewQuota() {\n      this.savingQuota = true\n      const quota = {\n        name: this.form.name,\n        start_date: this.form.start_date,\n        end_date: this.form.end_date,\n        description: this.form.description,\n      }\n\n      try {\n        const response = await this.createQuota(quota)\n        if (response.status === 201) {\n          this.savingQuota = false\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetForm()\n          this.getQs()\n          this.showAddQuotaModal()\n          this.resetCreatedItem()\n        } else {\n          const errors = handleErrors(response)\n          this.toast.init({\n            message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          })\n        }\n      } catch (error) {\n        this.savingQuota = false\n        const errors = handleErrors(error)\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    formatDate(date: Date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0') // Months are zero-indexed\n      const day = String(date.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n    async editItem() {\n      // this.items = [\n      //   ...this.items.slice(0, this.editedItemId),\n      //   { ...this.editedItem },\n      //   ...this.items.slice(this.editedItemId + 1),\n      // ]\n      // this.resetEditedItem()\n      console.log(this.editedItem)\n      try {\n        const data = {\n          id: this.form.id,\n          name: this.form.name,\n          start_date: this.formatDate(new Date(this.form.start_date)), // Format the start date\n          end_date: this.formatDate(new Date(this.form.end_date)),\n          // description: this.form.description,\n        }\n        const response = await this.updateQuota(data)\n        if (response.status === 200) {\n          // const data = response.data\n          this.getQs(null)\n          this.toast.init({ message: response.data.message, color: 'success' })\n          this.resetEditedItem()\n        }\n      } catch (error) {\n        const errors = handleErrors(error)\n        console.log(error)\n        this.toast.init({\n          message: '\\n' + errors.map((error, index) => `${index + 1}. ${error}`).join('\\n'),\n          color: 'danger',\n        })\n      }\n    },\n\n    async getQs(id = null) {\n      this.loadingQuotas = true\n      try {\n        const response = await this.getQuotas(id)\n        if (response.status === 200) {\n          const data = response.data\n          this.loadingQuotas = false\n\n          this.quotasOptions = data.map((item: any) => {\n            const result = this.generateQuotaYear(item.start_date, item.end_date)\n\n            // this.sform.salesQuota = {\n            //   value: item.id,\n            //   text: `${result} - ${item.name}`,\n            // }\n\n            return {\n              value: item.id,\n              text: `${result} - ${item.name}`,\n            }\n          })\n          this.items = data.map((item: any) => ({\n            id: item.id,\n            name: item.name,\n            start_date: item.start_date,\n            end_date: item.end_date,\n          }))\n        }\n      } catch (error) {\n        this.loadingQuotas = false\n        console.log(error)\n      }\n    },\n\n    async getSpeciesItems() {\n      try {\n        const response = await this.getSpeciesList()\n\n        // Add the species items from the response\n        const speciesItems = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n\n        // Combine default option with species items\n        this.speciesOptions = this.speciesOptions.concat(speciesItems)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async getAreas() {\n      try {\n        const response = await this.getAreaList()\n        this.areasOptions = response.data.map((item: { id: any; name: any }) => {\n          return {\n            value: item.id,\n            text: item.name,\n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.modal-content {\n  padding: 16px; /* Add padding around content */\n}\n\n.input-group {\n  margin-bottom: 16px; /* Space between input fields */\n}\n\n.input-label {\n  margin-bottom: 8px; /* Space between label and input */\n  font-weight: bold; /* Make the label bold for clarity */\n}\n\n/* Flexbox for horizontal alignment of date inputs */\n.input-container {\n  display: flex;\n  align-items: center; /* Align items vertically centered */\n}\n\n.input-container > VaDateInput {\n  margin-right: 8px; /* Space between start date and end date */\n}\n\n.input-container > VaInput {\n  flex: 1; /* Let the input take the remaining space */\n}\n</style>\n"],"names":["defaultItem","_sfc_main","defineComponent","ModuleTable","formRef","ref","sformRef","isValidForm","validateForm","resetValidationForm","resetForm","useForm","columns","isValidSForm","validateSForm","resetValidationSForm","resetSForm","items","form","reactive","sform","quotasOptions","useToast","mapActions","useQuotaStore","useSettingsStore","species","index","rdata","response","error","errors","handleErrors","quota","date","year","month","day","data","id","item","result","speciesItems","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createBlock","_component_VaCard","_createElementVNode","_ctx","_createCommentVNode","_component_VaButton","_withCtx","_cache","_createTextVNode","_createVNode","_component_VaButtonGroup","_openBlock","_component_ModuleTable","_createElementBlock","_hoisted_3","_component_VaForm","_component_VaValue","_component_VaSelect","$event","v","_component_VaIcon","_component_VaDivider","_component_VaCounter","_component_VaList","_component_VaListLabel","_Fragment","_renderList","_component_VaListItem","_component_VaListItemSection","_component_VaListItemLabel","_toDisplayString","_component_VaModal","_component_VaInput","_component_VaDateInput"],"mappings":"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"}