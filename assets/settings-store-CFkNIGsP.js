import{j as r,k as i}from"./index-YknbmV_z.js";const c=r("settings-store",{state:()=>({itemsByHuntingType:[],logo:"",licenceAreaSpecies:[],laodinglicenceAreaSpecies:!1,salesPackagesSpecies:[],salesPackages:[],loadingSalesPackages:!1,currencies:[],units:[],safariExtras:[],showCreateSafariExtraModal:!1,savingSafariExtra:!1,loadingExtras:!1,salesInquiryEntities:[],accommodationTypes:[],seasons:[],loadingAccommodationTypes:!1,loadingSalesInquiryEntities:!1,showAccommodationTypeModal:!1,savingAccommodationType:!1,salesChartersPriceList:[],loadingSalesChartersPriceList:!1,savingSalesChartersPriceList:!1,showSalesChartersPriceListModal:!1}),actions:{async getHuntingsTypes(){const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/hunting-types/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getCurrencies(){const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/currencies/",headers:{"Content-Type":"application/json"}},a=await i.request(n);return a.status===200&&(this.currencies=a.data.map(e=>({value:e.id,text:e.name,currency:e.currency,price:e.price}))),a},async getSeasons(t=!1){const a={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/seasons/",headers:{"Content-Type":"application/json"}},e=await i.request(a);return e.status===200&&(t?this.seasons=e.data.map(s=>({value:s.id,text:s.name})):this.seasons=e.data),e},loadLogo(){const t=new Image;t.src="/logo.png",t.onload=()=>{const n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0);const e=n.toDataURL("image/png");this.logo=e}},async getDocTypes(){const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/document-types/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getLicenceRegulatoryHuntingPackageSpecies(t){const a={method:"get",maxBodyLength:1/0,url:`https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/licence-regulatory-hunting-package-species/?quota_id=${t.quotaId}`,headers:{"Content-Type":"application/json"}};return await i.request(a)},async getPhVset(){const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/ph-vset/",headers:{"Content-Type":"application/json"}};return await i.request(n)},async getHuntingLicenseAreaSpecies(t){this.laodinglicenceAreaSpecies=!0,this.licenceAreaSpecies=[];const a={method:"get",maxBodyLength:1/0,url:`https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/licence-area-species/?area_id=${t.areaId}&licence_id=${t.licenceId}`,headers:{"Content-Type":"application/json"}},e=await i.request(a);return e.data.length>0&&(this.laodinglicenceAreaSpecies=!1,this.licenceAreaSpecies=e.data.map(s=>({id:s.species.id,name:s.species.name,scientific_name:s.species.scientific_name,quantity:s.quantity}))),e},async getSalespackagesSpecies(t){this.loadingSalesPackages=!0;const a={method:"get",maxBodyLength:1/0,url:`https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/sales-package-species/?sales_package_id=${t.salespackageId}`,headers:{"Content-Type":"application/json"}},e=await i.request(a);return e.status===200&&(this.salesPackagesSpecies=e.data.map(s=>({id:s.species.id,name:s.species.name,species_id:s.species.id,scientific_name:s.species.scientific_name,quantity:s.quantity})),this.loadingSalesPackages=!1),e},async getUnits(){const n={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/units/",headers:{"Content-Type":"application/json"}},a=await i.request(n);return a.status===200&&(this.units=a.data.map(e=>({value:e.id,text:e.name,unit:e.unit,factor:e.factor}))),a},async getSafariExtras(t){this.loadingExtras=!0;const a={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"}};try{const e=await i.request(a);return e.status===200&&(this.loadingExtras=!1,t?this.safariExtras=e.data.map(s=>({value:s.id,text:s.name})):this.safariExtras=e.data.map(s=>({id:s.id,name:s.name,amount:`${s.currency.symbol} ${s.amount} `,description:s.description}))),e}catch{this.loadingExtras=!1}},async createSafariExtras(t){this.savingSafariExtra=!0;const a={method:"post",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/safari-extras-vset/",headers:{"Content-Type":"application/json"},data:t},e=await i.request(a);return e.status===201&&(this.savingSafariExtra=!1,this.showCreateSafariExtraModal=!1,this.getSafariExtras(!1)),e},async getSalesInquiryEntities(t){const a={method:"get",maxBodyLength:1/0,url:`https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/sales-inquiry-entity/?sales_inquiry_id=${t}`,headers:{"Content-Type":"application/json"}},e=await i.request(a);e.status===200&&(this.salesInquiryEntities=e.data.map(s=>({value:s.id,text:s.full_name})))},async getAccommodationTypes(t){this.loadingAccommodationTypes=!0;const a={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"}},e=await i.request(a);return e.status===200&&(this.loadingAccommodationTypes=!1,t?this.accommodationTypes=e.data.map(s=>({value:s.id,text:s.name})):this.accommodationTypes=e.data.map(s=>({id:s.id,name:s.name,description:s.description}))),e},async createAccommodationType(t){this.savingAccommodationType=!0;const a={method:"post",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/accommodation-types/",headers:{"Content-Type":"application/json"},data:t},e=await i.request(a);return e.status===201&&(this.savingAccommodationType=!1,this.showAccommodationTypeModal=!1,this.getAccommodationTypes(!0)),e},async getSalesChartersPriceList(t){this.loadingSalesChartersPriceList=!0;const a={method:"get",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"}},e=await i.request(a);try{e.status===200&&(this.loadingSalesChartersPriceList=!1,t?this.salesChartersPriceList=e.data.map(s=>({value:s.id,text:s.name})):this.salesChartersPriceList=e.data.map(s=>({id:s.id,name:s.name,description:s.description,price:s.price})))}catch(s){this.loadingSalesChartersPriceList=!1,console.log(s)}},async createSalesChartersPriceList(t){this.savingSalesChartersPriceList=!0;const a={method:"post",maxBodyLength:1/0,url:"https://backend-bushman-master-kxhmlj.laravel.cloud/api/v1.0/settings/sales-charters-price-list/",headers:{"Content-Type":"application/json"},data:t},e=await i.request(a);return e.status===201&&(this.savingSalesChartersPriceList=!1,this.showSalesChartersPriceListModal=!1,this.getSalesChartersPriceList(!0)),e}}});export{c as u};
//# sourceMappingURL=settings-store-CFkNIGsP.js.map
